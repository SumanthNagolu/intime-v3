{
  "id": "00000000-0000-0000-0000-000000000000",
  "prevId": "",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.badge_progress": {
      "name": "badge_progress",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "badge_id": {
          "name": "badge_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "current_value": {
          "name": "current_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "target_value": {
          "name": "target_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_badge_progress_user": {
          "name": "idx_badge_progress_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "badge_progress_badge_id_fkey": {
          "name": "badge_progress_badge_id_fkey",
          "tableFrom": "badge_progress",
          "tableTo": "badges",
          "schemaTo": "public",
          "columnsFrom": [
            "badge_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "badge_progress_user_id_fkey": {
          "name": "badge_progress_user_id_fkey",
          "tableFrom": "badge_progress",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "badge_progress_user_id_badge_id_key": {
          "columns": [
            "user_id",
            "badge_id"
          ],
          "nullsNotDistinct": false,
          "name": "badge_progress_user_id_badge_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "badge_progress_insert_system": {
          "name": "badge_progress_insert_system",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "true"
        },
        "badge_progress_select_own": {
          "name": "badge_progress_select_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.badge_trigger_events": {
      "name": "badge_trigger_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_data": {
          "name": "event_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "processed": {
          "name": "processed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_badge_trigger_events_processed": {
          "name": "idx_badge_trigger_events_processed",
          "columns": [
            {
              "expression": "processed",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(processed = false)",
          "with": {}
        },
        "idx_badge_trigger_events_user": {
          "name": "idx_badge_trigger_events_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "badge_trigger_events_user_id_fkey": {
          "name": "badge_trigger_events_user_id_fkey",
          "tableFrom": "badge_trigger_events",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "badge_trigger_events_insert_system": {
          "name": "badge_trigger_events_insert_system",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.payment_transactions": {
      "name": "payment_transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_payment_intent_id": {
          "name": "stripe_payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_invoice_id": {
          "name": "stripe_invoice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'usd'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_method_type": {
          "name": "payment_method_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_payment_transactions_created_at": {
          "name": "idx_payment_transactions_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payment_transactions_status": {
          "name": "idx_payment_transactions_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payment_transactions_stripe_pi": {
          "name": "idx_payment_transactions_stripe_pi",
          "columns": [
            {
              "expression": "stripe_payment_intent_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payment_transactions_user": {
          "name": "idx_payment_transactions_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payment_transactions_enrollment_id_fkey": {
          "name": "payment_transactions_enrollment_id_fkey",
          "tableFrom": "payment_transactions",
          "tableTo": "student_enrollments",
          "schemaTo": "public",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_user_id_fkey": {
          "name": "payment_transactions_user_id_fkey",
          "tableFrom": "payment_transactions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "payment_transactions_status_check": {
          "name": "payment_transactions_status_check",
          "value": "status = ANY (ARRAY['succeeded'::text, 'pending'::text, 'failed'::text, 'refunded'::text])"
        }
      },
      "policies": {
        "payment_transactions_admin_read": {
          "name": "payment_transactions_admin_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (user_roles ur\n     JOIN roles r ON ((r.id = ur.role_id)))\n  WHERE ((ur.user_id = auth.uid()) AND (r.name = ANY (ARRAY['admin'::text, 'super_admin'::text])))))"
        },
        "payment_transactions_own_read": {
          "name": "payment_transactions_own_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.commissions": {
      "name": "commissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "placement_id": {
          "name": "placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "deal_value": {
          "name": "deal_value",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "gross_margin": {
          "name": "gross_margin",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "margin_percentage": {
          "name": "margin_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'20.00'"
        },
        "commission_percentage": {
          "name": "commission_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'5.00'"
        },
        "projected_commission": {
          "name": "projected_commission",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "actual_commission": {
          "name": "actual_commission",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "commission_type": {
          "name": "commission_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'deal_close'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "payment_schedule": {
          "name": "payment_schedule",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'monthly'"
        },
        "payment_period_start": {
          "name": "payment_period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "payment_period_end": {
          "name": "payment_period_end",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "activated_at": {
          "name": "activated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_reason": {
          "name": "cancelled_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_commissions_deal_id": {
          "name": "idx_commissions_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_commissions_org_id": {
          "name": "idx_commissions_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_commissions_payment_period": {
          "name": "idx_commissions_payment_period",
          "columns": [
            {
              "expression": "payment_period_start",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            },
            {
              "expression": "payment_period_end",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_commissions_status": {
          "name": "idx_commissions_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_commissions_type": {
          "name": "idx_commissions_type",
          "columns": [
            {
              "expression": "commission_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_commissions_user_id": {
          "name": "idx_commissions_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_commissions_user_status": {
          "name": "idx_commissions_user_status",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "commissions_created_by_fkey": {
          "name": "commissions_created_by_fkey",
          "tableFrom": "commissions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commissions_deal_id_fkey": {
          "name": "commissions_deal_id_fkey",
          "tableFrom": "commissions",
          "tableTo": "deals",
          "schemaTo": "public",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "commissions_org_id_fkey": {
          "name": "commissions_org_id_fkey",
          "tableFrom": "commissions",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "commissions_user_id_fkey": {
          "name": "commissions_user_id_fkey",
          "tableFrom": "commissions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "commissions_commission_type_check": {
          "name": "commissions_commission_type_check",
          "value": "commission_type = ANY (ARRAY['deal_close'::text, 'placement'::text, 'renewal'::text, 'expansion'::text])"
        },
        "commissions_payment_schedule_check": {
          "name": "commissions_payment_schedule_check",
          "value": "payment_schedule = ANY (ARRAY['one_time'::text, 'monthly'::text, 'quarterly'::text])"
        },
        "commissions_status_check": {
          "name": "commissions_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'active'::text, 'paid'::text, 'cancelled'::text, 'clawback'::text])"
        }
      },
      "policies": {
        "commissions_org_isolation": {
          "name": "commissions_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid())))"
        },
        "commissions_user_select": {
          "name": "commissions_user_select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.commission_payments": {
      "name": "commission_payments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "commission_id": {
          "name": "commission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "payment_date": {
          "name": "payment_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "payment_method": {
          "name": "payment_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reference_number": {
          "name": "reference_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "period_start": {
          "name": "period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "period_end": {
          "name": "period_end",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "period_label": {
          "name": "period_label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_commission_payments_commission_id": {
          "name": "idx_commission_payments_commission_id",
          "columns": [
            {
              "expression": "commission_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_commission_payments_org_id": {
          "name": "idx_commission_payments_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_commission_payments_payment_date": {
          "name": "idx_commission_payments_payment_date",
          "columns": [
            {
              "expression": "payment_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "commission_payments_commission_id_fkey": {
          "name": "commission_payments_commission_id_fkey",
          "tableFrom": "commission_payments",
          "tableTo": "commissions",
          "schemaTo": "public",
          "columnsFrom": [
            "commission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "commission_payments_created_by_fkey": {
          "name": "commission_payments_created_by_fkey",
          "tableFrom": "commission_payments",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commission_payments_org_id_fkey": {
          "name": "commission_payments_org_id_fkey",
          "tableFrom": "commission_payments",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "commission_payments_org_isolation": {
          "name": "commission_payments_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid())))"
        }
      },
      "isRLSEnabled": true
    },
    "public.productivity_reports": {
      "name": "productivity_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "productive_hours": {
          "name": "productive_hours",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "top_activities": {
          "name": "top_activities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "insights": {
          "name": "insights",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "recommendations": {
          "name": "recommendations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_productivity_reports_date": {
          "name": "idx_productivity_reports_date",
          "columns": [
            {
              "expression": "date",
              "asc": false,
              "nulls": "first",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_productivity_reports_user": {
          "name": "idx_productivity_reports_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_productivity_reports_user_date": {
          "name": "idx_productivity_reports_user_date",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            },
            {
              "expression": "date",
              "asc": false,
              "nulls": "first",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "productivity_reports_user_id_fkey": {
          "name": "productivity_reports_user_id_fkey",
          "tableFrom": "productivity_reports",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "productivity_reports_user_id_date_key": {
          "columns": [
            "user_id",
            "date"
          ],
          "nullsNotDistinct": false,
          "name": "productivity_reports_user_id_date_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "reports_admin_all": {
          "name": "reports_admin_all",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (user_roles ur\n     JOIN roles r ON ((ur.role_id = r.id)))\n  WHERE ((ur.user_id = auth.uid()) AND (r.name = 'admin'::text))))"
        },
        "reports_system_insert": {
          "name": "reports_system_insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "reports_system_update": {
          "name": "reports_system_update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "reports_user_own": {
          "name": "reports_user_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.leads": {
      "name": "leads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "lead_type": {
          "name": "lead_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'company'"
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "industry": {
          "name": "industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_size": {
          "name": "company_size",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "linkedin_url": {
          "name": "linkedin_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'new'"
        },
        "estimated_value": {
          "name": "estimated_value",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_campaign_id": {
          "name": "source_campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "owner_id": {
          "name": "owner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "last_contacted_at": {
          "name": "last_contacted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_response_at": {
          "name": "last_response_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "engagement_score": {
          "name": "engagement_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "converted_to_deal_id": {
          "name": "converted_to_deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "converted_to_account_id": {
          "name": "converted_to_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "converted_at": {
          "name": "converted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "lost_reason": {
          "name": "lost_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "company_type": {
          "name": "company_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tier": {
          "name": "tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_description": {
          "name": "company_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decision_authority": {
          "name": "decision_authority",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_contact_method": {
          "name": "preferred_contact_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'email'"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "search_vector": {
          "name": "search_vector",
          "type": "tsvector",
          "primaryKey": false,
          "notNull": false
        },
        "bant_budget": {
          "name": "bant_budget",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "bant_authority": {
          "name": "bant_authority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "bant_need": {
          "name": "bant_need",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "bant_timeline": {
          "name": "bant_timeline",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "bant_budget_notes": {
          "name": "bant_budget_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bant_authority_notes": {
          "name": "bant_authority_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bant_need_notes": {
          "name": "bant_need_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bant_timeline_notes": {
          "name": "bant_timeline_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bant_total_score": {
          "name": "bant_total_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "(((COALESCE(bant_budget, 0) + COALESCE(bant_authority, 0)) + COALESCE(bant_need, 0)) + COALESCE(bant_timeline, 0))",
            "type": "stored"
          }
        },
        "budget_status": {
          "name": "budget_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_monthly_spend": {
          "name": "estimated_monthly_spend",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "authority_level": {
          "name": "authority_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "business_need": {
          "name": "business_need",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "urgency": {
          "name": "urgency",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_start_date": {
          "name": "target_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "positions_count": {
          "name": "positions_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "skills_needed": {
          "name": "skills_needed",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "contract_types": {
          "name": "contract_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "qualification_result": {
          "name": "qualification_result",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "qualification_notes": {
          "name": "qualification_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "qualified_at": {
          "name": "qualified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "qualified_by": {
          "name": "qualified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_prospect_id": {
          "name": "campaign_prospect_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cross_pillar_type": {
          "name": "cross_pillar_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_pillar": {
          "name": "target_pillar",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "handoff_notes": {
          "name": "handoff_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "interest_level": {
          "name": "interest_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hiring_needs": {
          "name": "hiring_needs",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pain_points": {
          "name": "pain_points",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "budget_notes": {
          "name": "budget_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "authority_status": {
          "name": "authority_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "authority_notes": {
          "name": "authority_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "need_status": {
          "name": "need_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "need_notes": {
          "name": "need_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timeline_status": {
          "name": "timeline_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timeline_notes": {
          "name": "timeline_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "next_action": {
          "name": "next_action",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "next_action_date": {
          "name": "next_action_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "lead_score": {
          "name": "lead_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "converted_to_company_id": {
          "name": "converted_to_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_leads_account_id": {
          "name": "idx_leads_account_id",
          "columns": [
            {
              "expression": "account_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_leads_bant_status": {
          "name": "idx_leads_bant_status",
          "columns": [
            {
              "expression": "bant_total_score",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_leads_bant_total": {
          "name": "idx_leads_bant_total",
          "columns": [
            {
              "expression": "bant_total_score",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_leads_campaign": {
          "name": "idx_leads_campaign",
          "columns": [
            {
              "expression": "campaign_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_leads_campaign_org": {
          "name": "idx_leads_campaign_org",
          "columns": [
            {
              "expression": "campaign_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_leads_company_id": {
          "name": "idx_leads_company_id",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_leads_contact_id": {
          "name": "idx_leads_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_leads_converted_to_company": {
          "name": "idx_leads_converted_to_company",
          "columns": [
            {
              "expression": "converted_to_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(converted_to_company_id IS NOT NULL)",
          "with": {}
        },
        "idx_leads_cross_pillar_type": {
          "name": "idx_leads_cross_pillar_type",
          "columns": [
            {
              "expression": "cross_pillar_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(cross_pillar_type IS NOT NULL)",
          "with": {}
        },
        "idx_leads_email": {
          "name": "idx_leads_email",
          "columns": [
            {
              "expression": "email",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_leads_interest_level": {
          "name": "idx_leads_interest_level",
          "columns": [
            {
              "expression": "interest_level",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_leads_org": {
          "name": "idx_leads_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_leads_org_id": {
          "name": "idx_leads_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_leads_owner": {
          "name": "idx_leads_owner",
          "columns": [
            {
              "expression": "owner_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_leads_owner_id": {
          "name": "idx_leads_owner_id",
          "columns": [
            {
              "expression": "owner_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_leads_qualification_result": {
          "name": "idx_leads_qualification_result",
          "columns": [
            {
              "expression": "qualification_result",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_leads_source": {
          "name": "idx_leads_source",
          "columns": [
            {
              "expression": "source_campaign_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_leads_status": {
          "name": "idx_leads_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_leads_urgency": {
          "name": "idx_leads_urgency",
          "columns": [
            {
              "expression": "urgency",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "fk_leads_converted_to_deal": {
          "name": "fk_leads_converted_to_deal",
          "tableFrom": "leads",
          "tableTo": "deals",
          "schemaTo": "public",
          "columnsFrom": [
            "converted_to_deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leads_campaign_id_fkey": {
          "name": "leads_campaign_id_fkey",
          "tableFrom": "leads",
          "tableTo": "campaigns",
          "schemaTo": "public",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leads_company_id_fkey": {
          "name": "leads_company_id_fkey",
          "tableFrom": "leads",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leads_contact_id_fkey": {
          "name": "leads_contact_id_fkey",
          "tableFrom": "leads",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leads_converted_to_company_id_fkey": {
          "name": "leads_converted_to_company_id_fkey",
          "tableFrom": "leads",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "converted_to_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leads_created_by_fkey": {
          "name": "leads_created_by_fkey",
          "tableFrom": "leads",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leads_org_id_fkey": {
          "name": "leads_org_id_fkey",
          "tableFrom": "leads",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "leads_owner_id_fkey": {
          "name": "leads_owner_id_fkey",
          "tableFrom": "leads",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leads_qualified_by_fkey": {
          "name": "leads_qualified_by_fkey",
          "tableFrom": "leads",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "qualified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "leads_authority_level_check": {
          "name": "leads_authority_level_check",
          "value": "authority_level = ANY (ARRAY['decision_maker'::text, 'influencer'::text, 'gatekeeper'::text, 'no_authority'::text])"
        },
        "leads_bant_authority_check": {
          "name": "leads_bant_authority_check",
          "value": "(bant_authority >= 0) AND (bant_authority <= 25)"
        },
        "leads_bant_budget_check": {
          "name": "leads_bant_budget_check",
          "value": "(bant_budget >= 0) AND (bant_budget <= 25)"
        },
        "leads_bant_need_check": {
          "name": "leads_bant_need_check",
          "value": "(bant_need >= 0) AND (bant_need <= 25)"
        },
        "leads_bant_timeline_check": {
          "name": "leads_bant_timeline_check",
          "value": "(bant_timeline >= 0) AND (bant_timeline <= 25)"
        },
        "leads_budget_status_check": {
          "name": "leads_budget_status_check",
          "value": "budget_status = ANY (ARRAY['confirmed'::text, 'likely'::text, 'unclear'::text, 'no_budget'::text])"
        },
        "leads_engagement_score_check": {
          "name": "leads_engagement_score_check",
          "value": "(engagement_score >= 0) AND (engagement_score <= 100)"
        },
        "leads_lead_score_check": {
          "name": "leads_lead_score_check",
          "value": "(lead_score >= 0) AND (lead_score <= 100)"
        },
        "leads_positions_count_check": {
          "name": "leads_positions_count_check",
          "value": "(positions_count >= 1) AND (positions_count <= 100)"
        },
        "leads_qualification_result_check": {
          "name": "leads_qualification_result_check",
          "value": "qualification_result = ANY (ARRAY['qualified_convert'::text, 'qualified_nurture'::text, 'not_qualified'::text])"
        },
        "leads_urgency_check": {
          "name": "leads_urgency_check",
          "value": "urgency = ANY (ARRAY['immediate'::text, 'high'::text, 'medium'::text, 'low'::text])"
        }
      },
      "policies": {
        "leads_employee_insert": {
          "name": "leads_employee_insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "(auth_has_role('employee'::text) OR auth_has_role('admin'::text) OR auth_has_role('ta_specialist'::text))"
        },
        "leads_employee_select": {
          "name": "leads_employee_select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "leads_org_isolation": {
          "name": "leads_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        },
        "leads_owner_update": {
          "name": "leads_owner_update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.generated_resumes": {
      "name": "generated_resumes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_role": {
          "name": "target_role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resume_text": {
          "name": "resume_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resume_pdf_path": {
          "name": "resume_pdf_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quality_score": {
          "name": "quality_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ats_keywords": {
          "name": "ats_keywords",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "has_quantified_achievements": {
          "name": "has_quantified_achievements",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "has_action_verbs": {
          "name": "has_action_verbs",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "length_appropriate": {
          "name": "length_appropriate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "no_typos": {
          "name": "no_typos",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "student_feedback": {
          "name": "student_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "interview_count": {
          "name": "interview_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "placement_achieved": {
          "name": "placement_achieved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "model_used": {
          "name": "model_used",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cost_usd": {
          "name": "cost_usd",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "generation_latency_ms": {
          "name": "generation_latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_resumes_org": {
          "name": "idx_resumes_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_resumes_placement": {
          "name": "idx_resumes_placement",
          "columns": [
            {
              "expression": "placement_achieved",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(placement_achieved = true)",
          "with": {}
        },
        "idx_resumes_quality": {
          "name": "idx_resumes_quality",
          "columns": [
            {
              "expression": "quality_score",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(quality_score IS NOT NULL)",
          "with": {}
        },
        "idx_resumes_role": {
          "name": "idx_resumes_role",
          "columns": [
            {
              "expression": "target_role",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_resumes_user": {
          "name": "idx_resumes_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "generated_resumes_org_id_fkey": {
          "name": "generated_resumes_org_id_fkey",
          "tableFrom": "generated_resumes",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "generated_resumes_user_id_fkey": {
          "name": "generated_resumes_user_id_fkey",
          "tableFrom": "generated_resumes",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "generated_resumes_quality_score_check": {
          "name": "generated_resumes_quality_score_check",
          "value": "(quality_score >= 0) AND (quality_score <= 100)"
        }
      },
      "policies": {
        "resumes_admin_all": {
          "name": "resumes_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id = auth_user_org_id()) AND user_has_role('org_admin'::text))"
        },
        "resumes_trainer_view": {
          "name": "resumes_trainer_view",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "resumes_user_own": {
          "name": "resumes_user_own",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.requisition_embeddings": {
      "name": "requisition_embeddings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "requisition_id": {
          "name": "requisition_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "required_skills": {
          "name": "required_skills",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "nice_to_have_skills": {
          "name": "nice_to_have_skills",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "experience_level": {
          "name": "experience_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_requisition_embeddings_experience": {
          "name": "idx_requisition_embeddings_experience",
          "columns": [
            {
              "expression": "experience_level",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_requisition_embeddings_org": {
          "name": "idx_requisition_embeddings_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_requisition_embeddings_skills": {
          "name": "idx_requisition_embeddings_skills",
          "columns": [
            {
              "expression": "required_skills",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_requisition_embeddings_vector": {
          "name": "idx_requisition_embeddings_vector",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "ivfflat",
          "with": {
            "lists": "100"
          }
        }
      },
      "foreignKeys": {
        "requisition_embeddings_org_id_fkey": {
          "name": "requisition_embeddings_org_id_fkey",
          "tableFrom": "requisition_embeddings",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "requisition_embeddings_org_id_requisition_id_key": {
          "columns": [
            "org_id",
            "requisition_id"
          ],
          "nullsNotDistinct": false,
          "name": "requisition_embeddings_org_id_requisition_id_key"
        }
      },
      "checkConstraints": {
        "requisition_embeddings_experience_level_check": {
          "name": "requisition_embeddings_experience_level_check",
          "value": "experience_level = ANY (ARRAY['entry'::text, 'mid'::text, 'senior'::text])"
        }
      },
      "policies": {
        "requisitions_recruiter_all": {
          "name": "requisitions_recruiter_all",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "((org_id = auth_user_org_id()) AND user_has_role('recruiter'::text))"
        },
        "requisitions_service_role": {
          "name": "requisitions_service_role",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.resume_matches": {
      "name": "resume_matches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "requisition_id": {
          "name": "requisition_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "match_score": {
          "name": "match_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reasoning": {
          "name": "reasoning",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "skills_matched": {
          "name": "skills_matched",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "skills_missing": {
          "name": "skills_missing",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "skills_score": {
          "name": "skills_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "experience_score": {
          "name": "experience_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "project_score": {
          "name": "project_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "availability_score": {
          "name": "availability_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "recruiter_feedback": {
          "name": "recruiter_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_relevant": {
          "name": "is_relevant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "submitted": {
          "name": "submitted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "interview_scheduled": {
          "name": "interview_scheduled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "placement_achieved": {
          "name": "placement_achieved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "model_used": {
          "name": "model_used",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cost_usd": {
          "name": "cost_usd",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "search_latency_ms": {
          "name": "search_latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_matches_candidate": {
          "name": "idx_matches_candidate",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_matches_created": {
          "name": "idx_matches_created",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_matches_org": {
          "name": "idx_matches_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_matches_placement": {
          "name": "idx_matches_placement",
          "columns": [
            {
              "expression": "placement_achieved",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(placement_achieved = true)",
          "with": {}
        },
        "idx_matches_relevant": {
          "name": "idx_matches_relevant",
          "columns": [
            {
              "expression": "is_relevant",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_relevant IS NOT NULL)",
          "with": {}
        },
        "idx_matches_requisition": {
          "name": "idx_matches_requisition",
          "columns": [
            {
              "expression": "requisition_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "match_score",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "resume_matches_org_id_fkey": {
          "name": "resume_matches_org_id_fkey",
          "tableFrom": "resume_matches",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "resume_matches_availability_score_check": {
          "name": "resume_matches_availability_score_check",
          "value": "(availability_score >= 0) AND (availability_score <= 100)"
        },
        "resume_matches_experience_score_check": {
          "name": "resume_matches_experience_score_check",
          "value": "(experience_score >= 0) AND (experience_score <= 100)"
        },
        "resume_matches_match_score_check": {
          "name": "resume_matches_match_score_check",
          "value": "(match_score >= 0) AND (match_score <= 100)"
        },
        "resume_matches_project_score_check": {
          "name": "resume_matches_project_score_check",
          "value": "(project_score >= 0) AND (project_score <= 100)"
        },
        "resume_matches_skills_score_check": {
          "name": "resume_matches_skills_score_check",
          "value": "(skills_score >= 0) AND (skills_score <= 100)"
        }
      },
      "policies": {
        "matches_admin_all": {
          "name": "matches_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id = auth_user_org_id()) AND user_has_role('org_admin'::text))"
        },
        "matches_recruiter_all": {
          "name": "matches_recruiter_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.employee_twin_interactions": {
      "name": "employee_twin_interactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "twin_role": {
          "name": "twin_role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "interaction_type": {
          "name": "interaction_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "prompt": {
          "name": "prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "response": {
          "name": "response",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "context": {
          "name": "context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "model_used": {
          "name": "model_used",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'gpt-4o-mini'"
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cost_usd": {
          "name": "cost_usd",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "latency_ms": {
          "name": "latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "was_helpful": {
          "name": "was_helpful",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "user_feedback": {
          "name": "user_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "dismissed": {
          "name": "dismissed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_employee_twin_interactions_role": {
          "name": "idx_employee_twin_interactions_role",
          "columns": [
            {
              "expression": "twin_role",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_employee_twin_interactions_type": {
          "name": "idx_employee_twin_interactions_type",
          "columns": [
            {
              "expression": "interaction_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_employee_twin_interactions_user": {
          "name": "idx_employee_twin_interactions_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "employee_twin_interactions_user_id_fkey": {
          "name": "employee_twin_interactions_user_id_fkey",
          "tableFrom": "employee_twin_interactions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "employee_twin_interactions_interaction_type_check": {
          "name": "employee_twin_interactions_interaction_type_check",
          "value": "interaction_type = ANY (ARRAY['morning_briefing'::text, 'suggestion'::text, 'question'::text])"
        },
        "employee_twin_interactions_twin_role_check": {
          "name": "employee_twin_interactions_twin_role_check",
          "value": "twin_role = ANY (ARRAY['ceo'::text, 'admin'::text, 'recruiter'::text, 'bench_sales'::text, 'talent_acquisition'::text, 'hr'::text, 'immigration'::text, 'trainer'::text])"
        }
      },
      "policies": {
        "employee_twin_interactions_user_own": {
          "name": "employee_twin_interactions_user_own",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(user_id = auth.uid())"
        }
      },
      "isRLSEnabled": true
    },
    "public.candidate_embeddings": {
      "name": "candidate_embeddings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "resume_text": {
          "name": "resume_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "skills": {
          "name": "skills",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "experience_level": {
          "name": "experience_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "availability": {
          "name": "availability",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_candidate_embeddings_availability": {
          "name": "idx_candidate_embeddings_availability",
          "columns": [
            {
              "expression": "availability",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_candidate_embeddings_contact_id": {
          "name": "idx_candidate_embeddings_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_candidate_embeddings_experience": {
          "name": "idx_candidate_embeddings_experience",
          "columns": [
            {
              "expression": "experience_level",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_candidate_embeddings_org": {
          "name": "idx_candidate_embeddings_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_candidate_embeddings_skills": {
          "name": "idx_candidate_embeddings_skills",
          "columns": [
            {
              "expression": "skills",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_candidate_embeddings_vector": {
          "name": "idx_candidate_embeddings_vector",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "ivfflat",
          "with": {
            "lists": "100"
          }
        }
      },
      "foreignKeys": {
        "candidate_embeddings_contact_id_fkey": {
          "name": "candidate_embeddings_contact_id_fkey",
          "tableFrom": "candidate_embeddings",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_embeddings_org_id_fkey": {
          "name": "candidate_embeddings_org_id_fkey",
          "tableFrom": "candidate_embeddings",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "candidate_embeddings_org_id_candidate_id_key": {
          "columns": [
            "org_id",
            "candidate_id"
          ],
          "nullsNotDistinct": false,
          "name": "candidate_embeddings_org_id_candidate_id_key"
        }
      },
      "checkConstraints": {
        "candidate_embeddings_availability_check": {
          "name": "candidate_embeddings_availability_check",
          "value": "availability = ANY (ARRAY['immediate'::text, '2-weeks'::text, '1-month'::text])"
        },
        "candidate_embeddings_experience_level_check": {
          "name": "candidate_embeddings_experience_level_check",
          "value": "experience_level = ANY (ARRAY['entry'::text, 'mid'::text, 'senior'::text])"
        }
      },
      "policies": {
        "embeddings_recruiter_all": {
          "name": "embeddings_recruiter_all",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "((org_id = auth_user_org_id()) AND user_has_role('recruiter'::text))"
        },
        "embeddings_service_role": {
          "name": "embeddings_service_role",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.lead_sourcing_credits": {
      "name": "lead_sourcing_credits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sourced_by": {
          "name": "sourced_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "source_pillar": {
          "name": "source_pillar",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_pillar": {
          "name": "target_pillar",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "credit_points": {
          "name": "credit_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 10
        },
        "bonus_points": {
          "name": "bonus_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "converted_at": {
          "name": "converted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "conversion_value": {
          "name": "conversion_value",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "commission_earned": {
          "name": "commission_earned",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_lead_sourcing_credits_lead": {
          "name": "idx_lead_sourcing_credits_lead",
          "columns": [
            {
              "expression": "lead_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lead_sourcing_credits_org": {
          "name": "idx_lead_sourcing_credits_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lead_sourcing_credits_sourced_by": {
          "name": "idx_lead_sourcing_credits_sourced_by",
          "columns": [
            {
              "expression": "sourced_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lead_sourcing_credits_status": {
          "name": "idx_lead_sourcing_credits_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lead_sourcing_credits_target": {
          "name": "idx_lead_sourcing_credits_target",
          "columns": [
            {
              "expression": "target_pillar",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lead_sourcing_credits_assigned_to_fkey": {
          "name": "lead_sourcing_credits_assigned_to_fkey",
          "tableFrom": "lead_sourcing_credits",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lead_sourcing_credits_lead_id_fkey": {
          "name": "lead_sourcing_credits_lead_id_fkey",
          "tableFrom": "lead_sourcing_credits",
          "tableTo": "leads",
          "schemaTo": "public",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lead_sourcing_credits_org_id_fkey": {
          "name": "lead_sourcing_credits_org_id_fkey",
          "tableFrom": "lead_sourcing_credits",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lead_sourcing_credits_sourced_by_fkey": {
          "name": "lead_sourcing_credits_sourced_by_fkey",
          "tableFrom": "lead_sourcing_credits",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "sourced_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "lead_sourcing_credits_create": {
          "name": "lead_sourcing_credits_create",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "(auth_has_role('employee'::text) OR auth_has_role('admin'::text) OR auth_has_role('recruiter'::text))"
        },
        "lead_sourcing_credits_org_isolation": {
          "name": "lead_sourcing_credits_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        },
        "lead_sourcing_credits_select": {
          "name": "lead_sourcing_credits_select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.roles": {
      "name": "roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_role_id": {
          "name": "parent_role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "hierarchy_level": {
          "name": "hierarchy_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_system_role": {
          "name": "is_system_role",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "color_code": {
          "name": "color_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'#6366f1'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {
        "idx_roles_name": {
          "name": "idx_roles_name",
          "columns": [
            {
              "expression": "name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_roles_parent": {
          "name": "idx_roles_parent",
          "columns": [
            {
              "expression": "parent_role_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_roles_system": {
          "name": "idx_roles_system",
          "columns": [
            {
              "expression": "is_system_role",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_system_role = true)",
          "with": {}
        }
      },
      "foreignKeys": {
        "roles_created_by_fkey": {
          "name": "roles_created_by_fkey",
          "tableFrom": "roles",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "roles_parent_role_id_fkey": {
          "name": "roles_parent_role_id_fkey",
          "tableFrom": "roles",
          "tableTo": "roles",
          "schemaTo": "public",
          "columnsFrom": [
            "parent_role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "roles_name_key": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "roles_name_key"
        }
      },
      "checkConstraints": {
        "valid_role_name": {
          "name": "valid_role_name",
          "value": "name ~ '^[a-z_]+$'::text"
        }
      },
      "policies": {
        "Everyone can view active roles": {
          "name": "Everyone can view active roles",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "((deleted_at IS NULL) AND (is_active = true))"
        },
        "Super admins can manage roles": {
          "name": "Super admins can manage roles",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.twin_preferences": {
      "name": "twin_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enable_morning_briefing": {
          "name": "enable_morning_briefing",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "morning_briefing_time": {
          "name": "morning_briefing_time",
          "type": "time",
          "primaryKey": false,
          "notNull": false,
          "default": "'09:00:00'"
        },
        "enable_proactive_suggestions": {
          "name": "enable_proactive_suggestions",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "suggestion_frequency": {
          "name": "suggestion_frequency",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "notify_via_ui": {
          "name": "notify_via_ui",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "notify_via_slack": {
          "name": "notify_via_slack",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notify_via_email": {
          "name": "notify_via_email",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "use_productivity_data": {
          "name": "use_productivity_data",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "use_activity_data": {
          "name": "use_activity_data",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_twin_preferences_user": {
          "name": "idx_twin_preferences_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "twin_preferences_user_id_fkey": {
          "name": "twin_preferences_user_id_fkey",
          "tableFrom": "twin_preferences",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "twin_preferences_user_id_key": {
          "columns": [
            "user_id"
          ],
          "nullsNotDistinct": false,
          "name": "twin_preferences_user_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "twin_preferences_user_own": {
          "name": "twin_preferences_user_own",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(user_id = auth.uid())"
        }
      },
      "isRLSEnabled": true
    },
    "public.content_assets": {
      "name": "content_assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "filename": {
          "name": "filename",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "storage_path": {
          "name": "storage_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_type": {
          "name": "file_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size_bytes": {
          "name": "file_size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "lesson_id": {
          "name": "lesson_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cdn_url": {
          "name": "cdn_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "replaced_by": {
          "name": "replaced_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "searchable_content": {
          "name": "searchable_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_content_assets_file_type": {
          "name": "idx_content_assets_file_type",
          "columns": [
            {
              "expression": "file_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_content_assets_is_current": {
          "name": "idx_content_assets_is_current",
          "columns": [
            {
              "expression": "is_current",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_current = true)",
          "with": {}
        },
        "idx_content_assets_lesson": {
          "name": "idx_content_assets_lesson",
          "columns": [
            {
              "expression": "lesson_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_content_assets_search": {
          "name": "idx_content_assets_search",
          "columns": [
            {
              "expression": "to_tsvector('english'::regconfig, COALESCE(searchable_content, ",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": true
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_content_assets_storage_path": {
          "name": "idx_content_assets_storage_path",
          "columns": [
            {
              "expression": "storage_path",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_content_assets_topic": {
          "name": "idx_content_assets_topic",
          "columns": [
            {
              "expression": "topic_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_content_assets_uploaded_by": {
          "name": "idx_content_assets_uploaded_by",
          "columns": [
            {
              "expression": "uploaded_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "content_assets_lesson_id_fkey": {
          "name": "content_assets_lesson_id_fkey",
          "tableFrom": "content_assets",
          "tableTo": "topic_lessons",
          "schemaTo": "public",
          "columnsFrom": [
            "lesson_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "content_assets_replaced_by_fkey": {
          "name": "content_assets_replaced_by_fkey",
          "tableFrom": "content_assets",
          "tableTo": "content_assets",
          "schemaTo": "public",
          "columnsFrom": [
            "replaced_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "content_assets_topic_id_fkey": {
          "name": "content_assets_topic_id_fkey",
          "tableFrom": "content_assets",
          "tableTo": "module_topics",
          "schemaTo": "public",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "content_assets_uploaded_by_fkey": {
          "name": "content_assets_uploaded_by_fkey",
          "tableFrom": "content_assets",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "content_assets_storage_path_key": {
          "columns": [
            "storage_path"
          ],
          "nullsNotDistinct": false,
          "name": "content_assets_storage_path_key"
        }
      },
      "checkConstraints": {
        "content_assets_file_size_bytes_check": {
          "name": "content_assets_file_size_bytes_check",
          "value": "file_size_bytes > 0"
        },
        "content_assets_file_type_check": {
          "name": "content_assets_file_type_check",
          "value": "file_type = ANY (ARRAY['video'::text, 'pdf'::text, 'image'::text, 'document'::text, 'other'::text])"
        }
      },
      "policies": {
        "Enrolled students view course assets": {
          "name": "Enrolled students view course assets",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM ((student_enrollments se\n     JOIN course_modules cm ON ((cm.course_id = se.course_id)))\n     JOIN module_topics mt ON ((mt.module_id = cm.id)))\n  WHERE ((mt.id = content_assets.topic_id) AND (se.user_id = auth.uid()) AND (se.status = ANY (ARRAY['active'::text, 'completed'::text])))))"
        },
        "Public assets viewable by all": {
          "name": "Public assets viewable by all",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.video_progress": {
      "name": "video_progress",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "last_position_seconds": {
          "name": "last_position_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_watch_time_seconds": {
          "name": "total_watch_time_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "video_duration_seconds": {
          "name": "video_duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "completion_percentage": {
          "name": "completion_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "\nCASE\n    WHEN (video_duration_seconds > 0) THEN LEAST(100, ((last_position_seconds * 100) / video_duration_seconds))\n    ELSE 0\nEND",
            "type": "stored"
          }
        },
        "video_url": {
          "name": "video_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "video_provider": {
          "name": "video_provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_count": {
          "name": "session_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "last_watched_at": {
          "name": "last_watched_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_video_progress_enrollment": {
          "name": "idx_video_progress_enrollment",
          "columns": [
            {
              "expression": "enrollment_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_video_progress_topic": {
          "name": "idx_video_progress_topic",
          "columns": [
            {
              "expression": "topic_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_video_progress_updated": {
          "name": "idx_video_progress_updated",
          "columns": [
            {
              "expression": "updated_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_video_progress_user": {
          "name": "idx_video_progress_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "video_progress_enrollment_id_fkey": {
          "name": "video_progress_enrollment_id_fkey",
          "tableFrom": "video_progress",
          "tableTo": "student_enrollments",
          "schemaTo": "public",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "video_progress_topic_id_fkey": {
          "name": "video_progress_topic_id_fkey",
          "tableFrom": "video_progress",
          "tableTo": "module_topics",
          "schemaTo": "public",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "video_progress_user_id_fkey": {
          "name": "video_progress_user_id_fkey",
          "tableFrom": "video_progress",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "video_progress_user_id_topic_id_key": {
          "columns": [
            "user_id",
            "topic_id"
          ],
          "nullsNotDistinct": false,
          "name": "video_progress_user_id_topic_id_key"
        }
      },
      "checkConstraints": {
        "valid_duration": {
          "name": "valid_duration",
          "value": "(video_duration_seconds IS NULL) OR (video_duration_seconds > 0)"
        },
        "valid_position": {
          "name": "valid_position",
          "value": "last_position_seconds >= 0"
        },
        "valid_provider": {
          "name": "valid_provider",
          "value": "video_provider = ANY (ARRAY['vimeo'::text, 'youtube'::text, 'direct'::text, 's3'::text])"
        },
        "valid_watch_time": {
          "name": "valid_watch_time",
          "value": "total_watch_time_seconds >= 0"
        }
      },
      "policies": {
        "video_progress_student_policy": {
          "name": "video_progress_student_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "withCheck": "((user_id = auth.uid()) OR (EXISTS ( SELECT 1\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid()))))",
          "using": "((user_id = auth.uid()) OR (EXISTS ( SELECT 1\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid()))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.audit_log_retention_policy": {
      "name": "audit_log_retention_policy",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "table_name": {
          "name": "table_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "retention_months": {
          "name": "retention_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 6
        },
        "archive_after_months": {
          "name": "archive_after_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "audit_log_retention_policy_table_name_key": {
          "columns": [
            "table_name"
          ],
          "nullsNotDistinct": false,
          "name": "audit_log_retention_policy_table_name_key"
        }
      },
      "checkConstraints": {
        "valid_archive": {
          "name": "valid_archive",
          "value": "(archive_after_months IS NULL) OR (archive_after_months < retention_months)"
        },
        "valid_retention": {
          "name": "valid_retention",
          "value": "retention_months > 0"
        }
      },
      "policies": {
        "Admins can manage retention policies": {
          "name": "Admins can manage retention policies",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "withCheck": "user_is_admin()",
          "using": "user_is_admin()"
        },
        "Everyone can view retention policies": {
          "name": "Everyone can view retention policies",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.project_timeline": {
      "name": "project_timeline",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "session_date": {
          "name": "session_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "agent_type": {
          "name": "agent_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "agent_model": {
          "name": "agent_model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_summary": {
          "name": "conversation_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_intent": {
          "name": "user_intent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actions_taken": {
          "name": "actions_taken",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"blocked\":[],\"completed\":[],\"inProgress\":[]}'::jsonb"
        },
        "files_changed": {
          "name": "files_changed",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"created\":[],\"deleted\":[],\"modified\":[]}'::jsonb"
        },
        "decisions": {
          "name": "decisions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "assumptions": {
          "name": "assumptions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "results": {
          "name": "results",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"status\":\"success\",\"metrics\":{},\"summary\":\"\",\"artifacts\":[]}'::jsonb"
        },
        "future_notes": {
          "name": "future_notes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "related_commits": {
          "name": "related_commits",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "related_prs": {
          "name": "related_prs",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "related_docs": {
          "name": "related_docs",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "ai_generated_summary": {
          "name": "ai_generated_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "key_learnings": {
          "name": "key_learnings",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "search_vector": {
          "name": "search_vector",
          "type": "tsvector",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_archived": {
          "name": "is_archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_project_timeline_org_id": {
          "name": "idx_project_timeline_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_timeline_agent_type": {
          "name": "idx_timeline_agent_type",
          "columns": [
            {
              "expression": "agent_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_timeline_created_at": {
          "name": "idx_timeline_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_timeline_not_archived": {
          "name": "idx_timeline_not_archived",
          "columns": [
            {
              "expression": "is_archived",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_archived = false)",
          "with": {}
        },
        "idx_timeline_search": {
          "name": "idx_timeline_search",
          "columns": [
            {
              "expression": "search_vector",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_timeline_session_date": {
          "name": "idx_timeline_session_date",
          "columns": [
            {
              "expression": "session_date",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_timeline_session_id": {
          "name": "idx_timeline_session_id",
          "columns": [
            {
              "expression": "session_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_timeline_tags": {
          "name": "idx_timeline_tags",
          "columns": [
            {
              "expression": "tags",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_timeline_org_id_fkey": {
          "name": "project_timeline_org_id_fkey",
          "tableFrom": "project_timeline",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Admins can view timeline": {
          "name": "Admins can view timeline",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "user_is_admin()"
        },
        "Allow all for authenticated users": {
          "name": "Allow all for authenticated users",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        },
        "System can insert timeline": {
          "name": "System can insert timeline",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Users can view timeline in their org": {
          "name": "Users can view timeline in their org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.session_metadata": {
      "name": "session_metadata",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "branch": {
          "name": "branch",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "commit_hash": {
          "name": "commit_hash",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": false
        },
        "environment": {
          "name": "environment",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "files_modified": {
          "name": "files_modified",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "lines_added": {
          "name": "lines_added",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "lines_removed": {
          "name": "lines_removed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "commands_executed": {
          "name": "commands_executed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "overall_goal": {
          "name": "overall_goal",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "successfully_completed": {
          "name": "successfully_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_session_branch": {
          "name": "idx_session_branch",
          "columns": [
            {
              "expression": "branch",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_session_environment": {
          "name": "idx_session_environment",
          "columns": [
            {
              "expression": "environment",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_session_metadata_org_id": {
          "name": "idx_session_metadata_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_session_started_at": {
          "name": "idx_session_started_at",
          "columns": [
            {
              "expression": "started_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "session_metadata_org_id_fkey": {
          "name": "session_metadata_org_id_fkey",
          "tableFrom": "session_metadata",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "session_metadata_session_id_key": {
          "columns": [
            "session_id"
          ],
          "nullsNotDistinct": false,
          "name": "session_metadata_session_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Admins can view sessions": {
          "name": "Admins can view sessions",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "user_is_admin()"
        },
        "Allow all for authenticated users": {
          "name": "Allow all for authenticated users",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        },
        "System can insert sessions": {
          "name": "System can insert sessions",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Users can view sessions in their org": {
          "name": "Users can view sessions in their org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.campaign_documents": {
      "name": "campaign_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_type": {
          "name": "document_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'attachment'"
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "template_variables": {
          "name": "template_variables",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_campaign_documents_campaign": {
          "name": "idx_campaign_documents_campaign",
          "columns": [
            {
              "expression": "campaign_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_campaign_documents_campaign_org": {
          "name": "idx_campaign_documents_campaign_org",
          "columns": [
            {
              "expression": "campaign_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_campaign_documents_category": {
          "name": "idx_campaign_documents_category",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_campaign_documents_org": {
          "name": "idx_campaign_documents_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_campaign_documents_type": {
          "name": "idx_campaign_documents_type",
          "columns": [
            {
              "expression": "document_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "campaign_documents_campaign_id_fkey": {
          "name": "campaign_documents_campaign_id_fkey",
          "tableFrom": "campaign_documents",
          "tableTo": "campaigns",
          "schemaTo": "public",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "campaign_documents_org_id_fkey": {
          "name": "campaign_documents_org_id_fkey",
          "tableFrom": "campaign_documents",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "campaign_documents_uploaded_by_fkey": {
          "name": "campaign_documents_uploaded_by_fkey",
          "tableFrom": "campaign_documents",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "campaign_documents_delete": {
          "name": "campaign_documents_delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ],
          "using": "(auth_has_role('admin'::text) OR (uploaded_by = auth.uid()))"
        },
        "campaign_documents_insert": {
          "name": "campaign_documents_insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "campaign_documents_org_isolation": {
          "name": "campaign_documents_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        },
        "campaign_documents_select": {
          "name": "campaign_documents_select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "campaign_documents_update": {
          "name": "campaign_documents_update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.event_delivery_log": {
      "name": "event_delivery_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "event_id": {
          "name": "event_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "subscription_id": {
          "name": "subscription_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "attempted_at": {
          "name": "attempted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "response_code": {
          "name": "response_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_body": {
          "name": "response_body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_event_delivery_attempted": {
          "name": "idx_event_delivery_attempted",
          "columns": [
            {
              "expression": "attempted_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_event_delivery_event": {
          "name": "idx_event_delivery_event",
          "columns": [
            {
              "expression": "event_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_event_delivery_log_org_id": {
          "name": "idx_event_delivery_log_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_event_delivery_subscription": {
          "name": "idx_event_delivery_subscription",
          "columns": [
            {
              "expression": "subscription_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "event_delivery_log_event_id_fkey": {
          "name": "event_delivery_log_event_id_fkey",
          "tableFrom": "event_delivery_log",
          "tableTo": "events",
          "schemaTo": "public",
          "columnsFrom": [
            "event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "event_delivery_log_org_id_fkey": {
          "name": "event_delivery_log_org_id_fkey",
          "tableFrom": "event_delivery_log",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "event_delivery_log_subscription_id_fkey": {
          "name": "event_delivery_log_subscription_id_fkey",
          "tableFrom": "event_delivery_log",
          "tableTo": "event_subscriptions",
          "schemaTo": "public",
          "columnsFrom": [
            "subscription_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "valid_delivery_status": {
          "name": "valid_delivery_status",
          "value": "status = ANY (ARRAY['success'::text, 'failure'::text, 'timeout'::text, 'skipped'::text])"
        }
      },
      "policies": {
        "Admins can view delivery logs": {
          "name": "Admins can view delivery logs",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "user_is_admin()"
        },
        "System can insert delivery logs": {
          "name": "System can insert delivery logs",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Users can view delivery logs in their org": {
          "name": "Users can view delivery logs in their org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.onboarding_checklist": {
      "name": "onboarding_checklist",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "completed_profile": {
          "name": "completed_profile",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "completed_profile_at": {
          "name": "completed_profile_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "enrolled_first_course": {
          "name": "enrolled_first_course",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "enrolled_first_course_at": {
          "name": "enrolled_first_course_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "watched_first_video": {
          "name": "watched_first_video",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "watched_first_video_at": {
          "name": "watched_first_video_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_first_quiz": {
          "name": "completed_first_quiz",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "completed_first_quiz_at": {
          "name": "completed_first_quiz_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "joined_community": {
          "name": "joined_community",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "joined_community_at": {
          "name": "joined_community_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "connected_payment_method": {
          "name": "connected_payment_method",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "connected_payment_method_at": {
          "name": "connected_payment_method_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "set_learning_goals": {
          "name": "set_learning_goals",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "set_learning_goals_at": {
          "name": "set_learning_goals_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_orientation": {
          "name": "completed_orientation",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "completed_orientation_at": {
          "name": "completed_orientation_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "total_steps": {
          "name": "total_steps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "8",
            "type": "stored"
          }
        },
        "completed_steps": {
          "name": "completed_steps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "(((((((\nCASE\n    WHEN completed_profile THEN 1\n    ELSE 0\nEND +\nCASE\n    WHEN enrolled_first_course THEN 1\n    ELSE 0\nEND) +\nCASE\n    WHEN watched_first_video THEN 1\n    ELSE 0\nEND) +\nCASE\n    WHEN completed_first_quiz THEN 1\n    ELSE 0\nEND) +\nCASE\n    WHEN joined_community THEN 1\n    ELSE 0\nEND) +\nCASE\n    WHEN connected_payment_method THEN 1\n    ELSE 0\nEND) +\nCASE\n    WHEN set_learning_goals THEN 1\n    ELSE 0\nEND) +\nCASE\n    WHEN completed_orientation THEN 1\n    ELSE 0\nEND)",
            "type": "stored"
          }
        },
        "completion_percentage": {
          "name": "completion_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "round(((((((((((\nCASE\n    WHEN completed_profile THEN 1\n    ELSE 0\nEND +\nCASE\n    WHEN enrolled_first_course THEN 1\n    ELSE 0\nEND) +\nCASE\n    WHEN watched_first_video THEN 1\n    ELSE 0\nEND) +\nCASE\n    WHEN completed_first_quiz THEN 1\n    ELSE 0\nEND) +\nCASE\n    WHEN joined_community THEN 1\n    ELSE 0\nEND) +\nCASE\n    WHEN connected_payment_method THEN 1\n    ELSE 0\nEND) +\nCASE\n    WHEN set_learning_goals THEN 1\n    ELSE 0\nEND) +\nCASE\n    WHEN completed_orientation THEN 1\n    ELSE 0\nEND))::numeric / (8)::numeric) * (100)::numeric))",
            "type": "stored"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_onboarding_checklist_completion": {
          "name": "idx_onboarding_checklist_completion",
          "columns": [
            {
              "expression": "completion_percentage",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_onboarding_checklist_incomplete": {
          "name": "idx_onboarding_checklist_incomplete",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(completed_at IS NULL)",
          "with": {}
        },
        "idx_onboarding_checklist_user": {
          "name": "idx_onboarding_checklist_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "onboarding_checklist_user_id_fkey": {
          "name": "onboarding_checklist_user_id_fkey",
          "tableFrom": "onboarding_checklist",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_checklist_per_user": {
          "columns": [
            "user_id"
          ],
          "nullsNotDistinct": false,
          "name": "unique_checklist_per_user"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Admins can view all onboarding checklists": {
          "name": "Admins can view all onboarding checklists",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (user_roles ur\n     JOIN roles r ON ((r.id = ur.role_id)))\n  WHERE ((ur.user_id = auth.uid()) AND (r.name = ANY (ARRAY['admin'::text, 'super_admin'::text])))))"
        },
        "System can insert onboarding checklist": {
          "name": "System can insert onboarding checklist",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Users can update own onboarding checklist": {
          "name": "Users can update own onboarding checklist",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Users can view own onboarding checklist": {
          "name": "Users can view own onboarding checklist",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.ai_test": {
      "name": "ai_test",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.courses": {
      "name": "courses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subtitle": {
          "name": "subtitle",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "total_modules": {
          "name": "total_modules",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_topics": {
          "name": "total_topics",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "estimated_duration_weeks": {
          "name": "estimated_duration_weeks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "price_monthly": {
          "name": "price_monthly",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "price_one_time": {
          "name": "price_one_time",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "is_included_in_all_access": {
          "name": "is_included_in_all_access",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "prerequisite_course_ids": {
          "name": "prerequisite_course_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "skill_level": {
          "name": "skill_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "thumbnail_url": {
          "name": "thumbnail_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "promo_video_url": {
          "name": "promo_video_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_published": {
          "name": "is_published",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_featured": {
          "name": "is_featured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_courses_featured": {
          "name": "idx_courses_featured",
          "columns": [
            {
              "expression": "is_featured",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_featured = true)",
          "with": {}
        },
        "idx_courses_published": {
          "name": "idx_courses_published",
          "columns": [
            {
              "expression": "is_published",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_published = true)",
          "with": {}
        },
        "idx_courses_slug": {
          "name": "idx_courses_slug",
          "columns": [
            {
              "expression": "slug",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "courses_created_by_fkey": {
          "name": "courses_created_by_fkey",
          "tableFrom": "courses",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "courses_slug_key": {
          "columns": [
            "slug"
          ],
          "nullsNotDistinct": false,
          "name": "courses_slug_key"
        }
      },
      "checkConstraints": {
        "courses_skill_level_check": {
          "name": "courses_skill_level_check",
          "value": "skill_level = ANY (ARRAY['beginner'::text, 'intermediate'::text, 'advanced'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.course_modules": {
      "name": "course_modules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "module_number": {
          "name": "module_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "estimated_duration_hours": {
          "name": "estimated_duration_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "prerequisite_module_ids": {
          "name": "prerequisite_module_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_published": {
          "name": "is_published",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_course_modules_course_id": {
          "name": "idx_course_modules_course_id",
          "columns": [
            {
              "expression": "course_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_course_modules_number": {
          "name": "idx_course_modules_number",
          "columns": [
            {
              "expression": "course_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "module_number",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "course_modules_course_id_fkey": {
          "name": "course_modules_course_id_fkey",
          "tableFrom": "course_modules",
          "tableTo": "courses",
          "schemaTo": "public",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_course_module_number": {
          "columns": [
            "course_id",
            "module_number"
          ],
          "nullsNotDistinct": false,
          "name": "unique_course_module_number"
        },
        "unique_course_module_slug": {
          "columns": [
            "course_id",
            "slug"
          ],
          "nullsNotDistinct": false,
          "name": "unique_course_module_slug"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.module_topics": {
      "name": "module_topics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "module_id": {
          "name": "module_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "topic_number": {
          "name": "topic_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "estimated_duration_minutes": {
          "name": "estimated_duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "content_type": {
          "name": "content_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "prerequisite_topic_ids": {
          "name": "prerequisite_topic_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_published": {
          "name": "is_published",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_module_topics_module_id": {
          "name": "idx_module_topics_module_id",
          "columns": [
            {
              "expression": "module_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_module_topics_number": {
          "name": "idx_module_topics_number",
          "columns": [
            {
              "expression": "module_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "topic_number",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_module_topics_required": {
          "name": "idx_module_topics_required",
          "columns": [
            {
              "expression": "is_required",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_required = true)",
          "with": {}
        }
      },
      "foreignKeys": {
        "module_topics_module_id_fkey": {
          "name": "module_topics_module_id_fkey",
          "tableFrom": "module_topics",
          "tableTo": "course_modules",
          "schemaTo": "public",
          "columnsFrom": [
            "module_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_module_topic_number": {
          "columns": [
            "module_id",
            "topic_number"
          ],
          "nullsNotDistinct": false,
          "name": "unique_module_topic_number"
        },
        "unique_module_topic_slug": {
          "columns": [
            "module_id",
            "slug"
          ],
          "nullsNotDistinct": false,
          "name": "unique_module_topic_slug"
        }
      },
      "checkConstraints": {
        "module_topics_content_type_check": {
          "name": "module_topics_content_type_check",
          "value": "content_type = ANY (ARRAY['video'::text, 'reading'::text, 'quiz'::text, 'lab'::text, 'project'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.ai_conversations": {
      "name": "ai_conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agent_type": {
          "name": "agent_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "messages": {
          "name": "messages",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ai_conversations_agent_type": {
          "name": "idx_ai_conversations_agent_type",
          "columns": [
            {
              "expression": "agent_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_conversations_metadata": {
          "name": "idx_ai_conversations_metadata",
          "columns": [
            {
              "expression": "metadata",
              "asc": true,
              "nulls": "last",
              "opclass": "jsonb_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_ai_conversations_updated_at": {
          "name": "idx_ai_conversations_updated_at",
          "columns": [
            {
              "expression": "updated_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_conversations_user_id": {
          "name": "idx_ai_conversations_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_conversations_user_id_fkey": {
          "name": "ai_conversations_user_id_fkey",
          "tableFrom": "ai_conversations",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "ai_conversations_admin_all": {
          "name": "ai_conversations_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "user_is_admin()"
        },
        "ai_conversations_delete_own": {
          "name": "ai_conversations_delete_own",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        },
        "ai_conversations_insert_own": {
          "name": "ai_conversations_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "ai_conversations_select_own": {
          "name": "ai_conversations_select_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "ai_conversations_update_own": {
          "name": "ai_conversations_update_own",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.ai_embeddings": {
      "name": "ai_embeddings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ai_embeddings_metadata": {
          "name": "idx_ai_embeddings_metadata",
          "columns": [
            {
              "expression": "metadata",
              "asc": true,
              "nulls": "last",
              "opclass": "jsonb_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_ai_embeddings_vector": {
          "name": "idx_ai_embeddings_vector",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "ivfflat",
          "with": {
            "lists": "100"
          }
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "ai_embeddings_admin_modify": {
          "name": "ai_embeddings_admin_modify",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "user_is_admin()"
        },
        "ai_embeddings_select_authenticated": {
          "name": "ai_embeddings_select_authenticated",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.ai_patterns": {
      "name": "ai_patterns",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "pattern_type": {
          "name": "pattern_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "occurrence_count": {
          "name": "occurrence_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "first_seen": {
          "name": "first_seen",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_seen": {
          "name": "last_seen",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ai_patterns_last_seen": {
          "name": "idx_ai_patterns_last_seen",
          "columns": [
            {
              "expression": "last_seen",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_patterns_type": {
          "name": "idx_ai_patterns_type",
          "columns": [
            {
              "expression": "pattern_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_patterns_user_id": {
          "name": "idx_ai_patterns_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_patterns_user_id_fkey": {
          "name": "ai_patterns_user_id_fkey",
          "tableFrom": "ai_patterns",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "ai_patterns_admin_all": {
          "name": "ai_patterns_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "user_is_admin()"
        },
        "ai_patterns_insert_own": {
          "name": "ai_patterns_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "ai_patterns_select_own": {
          "name": "ai_patterns_select_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "ai_patterns_update_own": {
          "name": "ai_patterns_update_own",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.ai_cost_tracking": {
      "name": "ai_cost_tracking",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "input_tokens": {
          "name": "input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "output_tokens": {
          "name": "output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cost_usd": {
          "name": "cost_usd",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0.00'"
        },
        "latency_ms": {
          "name": "latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ai_cost_tracking_date": {
          "name": "idx_ai_cost_tracking_date",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_cost_tracking_model": {
          "name": "idx_ai_cost_tracking_model",
          "columns": [
            {
              "expression": "model",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_cost_tracking_org_date": {
          "name": "idx_ai_cost_tracking_org_date",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_cost_tracking_provider": {
          "name": "idx_ai_cost_tracking_provider",
          "columns": [
            {
              "expression": "provider",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_cost_tracking_user": {
          "name": "idx_ai_cost_tracking_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_cost_tracking_org_id_fkey": {
          "name": "ai_cost_tracking_org_id_fkey",
          "tableFrom": "ai_cost_tracking",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ai_cost_tracking_user_id_fkey": {
          "name": "ai_cost_tracking_user_id_fkey",
          "tableFrom": "ai_cost_tracking",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "ai_cost_tracking_cost_positive": {
          "name": "ai_cost_tracking_cost_positive",
          "value": "cost_usd >= (0)::numeric"
        },
        "ai_cost_tracking_latency_positive": {
          "name": "ai_cost_tracking_latency_positive",
          "value": "latency_ms >= 0"
        },
        "ai_cost_tracking_provider_check": {
          "name": "ai_cost_tracking_provider_check",
          "value": "provider = ANY (ARRAY['openai'::text, 'anthropic'::text])"
        },
        "ai_cost_tracking_tokens_positive": {
          "name": "ai_cost_tracking_tokens_positive",
          "value": "(input_tokens >= 0) AND (output_tokens >= 0)"
        }
      },
      "policies": {
        "ai_cost_tracking_insert_own": {
          "name": "ai_cost_tracking_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "((user_id = auth_user_id()) AND (org_id = auth_user_org_id()))"
        },
        "ai_cost_tracking_select_own": {
          "name": "ai_cost_tracking_select_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "ai_cost_tracking_select_platform_admin": {
          "name": "ai_cost_tracking_select_platform_admin",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.ai_prompts": {
      "name": "ai_prompts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "variables": {
          "name": "variables",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ai_prompts_active": {
          "name": "idx_ai_prompts_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_ai_prompts_category": {
          "name": "idx_ai_prompts_category",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_prompts_name": {
          "name": "idx_ai_prompts_name",
          "columns": [
            {
              "expression": "name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_prompts_created_by_fkey": {
          "name": "ai_prompts_created_by_fkey",
          "tableFrom": "ai_prompts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ai_prompts_name_version_unique": {
          "columns": [
            "name",
            "version"
          ],
          "nullsNotDistinct": false,
          "name": "ai_prompts_name_version_unique"
        }
      },
      "checkConstraints": {
        "ai_prompts_name_check": {
          "name": "ai_prompts_name_check",
          "value": "name ~ '^[a-z0-9_]+$'::text"
        },
        "ai_prompts_version_positive": {
          "name": "ai_prompts_version_positive",
          "value": "version > 0"
        }
      },
      "policies": {
        "ai_prompts_admin_all": {
          "name": "ai_prompts_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "user_is_admin()"
        },
        "ai_prompts_read_active": {
          "name": "ai_prompts_read_active",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.student_progress": {
      "name": "student_progress",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "student_id": {
          "name": "student_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "current_module": {
          "name": "current_module",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "completed_modules": {
          "name": "completed_modules",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"\"}'"
        },
        "struggle_areas": {
          "name": "struggle_areas",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"\"}'"
        },
        "mastery_score": {
          "name": "mastery_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_interactions": {
          "name": "total_interactions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "helpful_interactions": {
          "name": "helpful_interactions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_activity_at": {
          "name": "last_activity_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_student_progress_mastery": {
          "name": "idx_student_progress_mastery",
          "columns": [
            {
              "expression": "mastery_score",
              "asc": false,
              "nulls": "first",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_progress_module": {
          "name": "idx_student_progress_module",
          "columns": [
            {
              "expression": "current_module",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_progress_student": {
          "name": "idx_student_progress_student",
          "columns": [
            {
              "expression": "student_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "student_progress_student_id_fkey": {
          "name": "student_progress_student_id_fkey",
          "tableFrom": "student_progress",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "student_progress_student_id_key": {
          "columns": [
            "student_id"
          ],
          "nullsNotDistinct": false,
          "name": "student_progress_student_id_key"
        }
      },
      "checkConstraints": {
        "student_progress_mastery_score_check": {
          "name": "student_progress_mastery_score_check",
          "value": "(mastery_score >= 0) AND (mastery_score <= 100)"
        }
      },
      "policies": {
        "System can manage student progress": {
          "name": "System can manage student progress",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "withCheck": "true",
          "using": "true"
        },
        "student_progress_select_platform_admin": {
          "name": "student_progress_select_platform_admin",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.ai_agent_interactions": {
      "name": "ai_agent_interactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "agent_name": {
          "name": "agent_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "interaction_type": {
          "name": "interaction_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "input": {
          "name": "input",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "output": {
          "name": "output",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model_used": {
          "name": "model_used",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "cost_usd": {
          "name": "cost_usd",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.00'"
        },
        "latency_ms": {
          "name": "latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "success": {
          "name": "success",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ai_agent_interactions_agent": {
          "name": "idx_ai_agent_interactions_agent",
          "columns": [
            {
              "expression": "agent_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_agent_interactions_org_date": {
          "name": "idx_ai_agent_interactions_org_date",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_agent_interactions_success": {
          "name": "idx_ai_agent_interactions_success",
          "columns": [
            {
              "expression": "success",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(success = false)",
          "with": {}
        },
        "idx_ai_agent_interactions_type": {
          "name": "idx_ai_agent_interactions_type",
          "columns": [
            {
              "expression": "interaction_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_agent_interactions_user": {
          "name": "idx_ai_agent_interactions_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_agent_interactions_org_id_fkey": {
          "name": "ai_agent_interactions_org_id_fkey",
          "tableFrom": "ai_agent_interactions",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ai_agent_interactions_user_id_fkey": {
          "name": "ai_agent_interactions_user_id_fkey",
          "tableFrom": "ai_agent_interactions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "ai_agent_interactions_cost_positive": {
          "name": "ai_agent_interactions_cost_positive",
          "value": "cost_usd >= (0)::numeric"
        },
        "ai_agent_interactions_latency_positive": {
          "name": "ai_agent_interactions_latency_positive",
          "value": "latency_ms >= 0"
        },
        "ai_agent_interactions_tokens_positive": {
          "name": "ai_agent_interactions_tokens_positive",
          "value": "tokens_used >= 0"
        }
      },
      "policies": {
        "ai_agent_interactions_insert_own": {
          "name": "ai_agent_interactions_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "((user_id = auth_user_id()) AND (org_id = auth_user_org_id()))"
        },
        "ai_agent_interactions_select_own": {
          "name": "ai_agent_interactions_select_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "ai_agent_interactions_select_platform_admin": {
          "name": "ai_agent_interactions_select_platform_admin",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.guru_interactions": {
      "name": "guru_interactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "student_id": {
          "name": "student_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agent_type": {
          "name": "agent_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "input": {
          "name": "input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "output": {
          "name": "output",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "was_helpful": {
          "name": "was_helpful",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "user_feedback": {
          "name": "user_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model_used": {
          "name": "model_used",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cost_usd": {
          "name": "cost_usd",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "latency_ms": {
          "name": "latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_guru_interactions_agent_type": {
          "name": "idx_guru_interactions_agent_type",
          "columns": [
            {
              "expression": "agent_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_guru_interactions_conversation": {
          "name": "idx_guru_interactions_conversation",
          "columns": [
            {
              "expression": "conversation_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(conversation_id IS NOT NULL)",
          "with": {}
        },
        "idx_guru_interactions_org": {
          "name": "idx_guru_interactions_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_guru_interactions_student": {
          "name": "idx_guru_interactions_student",
          "columns": [
            {
              "expression": "student_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "guru_interactions_org_id_fkey": {
          "name": "guru_interactions_org_id_fkey",
          "tableFrom": "guru_interactions",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "guru_interactions_student_id_fkey": {
          "name": "guru_interactions_student_id_fkey",
          "tableFrom": "guru_interactions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "guru_interactions_agent_type_check": {
          "name": "guru_interactions_agent_type_check",
          "value": "agent_type = ANY (ARRAY['code_mentor'::text, 'resume_builder'::text, 'project_planner'::text, 'interview_coach'::text])"
        },
        "guru_interactions_cost_check": {
          "name": "guru_interactions_cost_check",
          "value": "cost_usd >= (0)::numeric"
        },
        "guru_interactions_tokens_check": {
          "name": "guru_interactions_tokens_check",
          "value": "tokens_used >= 0"
        }
      },
      "policies": {
        "Students can update own feedback": {
          "name": "Students can update own feedback",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ],
          "withCheck": "(student_id = auth.uid())",
          "using": "(student_id = auth.uid())"
        },
        "System can insert guru interactions": {
          "name": "System can insert guru interactions",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.resume_versions": {
      "name": "resume_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "student_id": {
          "name": "student_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "format": {
          "name": "format",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "ats_score": {
          "name": "ats_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "keyword_matches": {
          "name": "keyword_matches",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"\"}'"
        },
        "target_job_description": {
          "name": "target_job_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_resume_versions_ats_score": {
          "name": "idx_resume_versions_ats_score",
          "columns": [
            {
              "expression": "ats_score",
              "asc": false,
              "nulls": "first",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_resume_versions_format": {
          "name": "idx_resume_versions_format",
          "columns": [
            {
              "expression": "format",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_resume_versions_student": {
          "name": "idx_resume_versions_student",
          "columns": [
            {
              "expression": "student_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "resume_versions_student_id_fkey": {
          "name": "resume_versions_student_id_fkey",
          "tableFrom": "resume_versions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "resume_versions_student_id_version_key": {
          "columns": [
            "student_id",
            "version"
          ],
          "nullsNotDistinct": false,
          "name": "resume_versions_student_id_version_key"
        }
      },
      "checkConstraints": {
        "resume_versions_ats_score_check": {
          "name": "resume_versions_ats_score_check",
          "value": "(ats_score >= 0) AND (ats_score <= 100)"
        },
        "resume_versions_format_check": {
          "name": "resume_versions_format_check",
          "value": "format = ANY (ARRAY['pdf'::text, 'docx'::text, 'linkedin'::text, 'json'::text])"
        }
      },
      "policies": {
        "Students can insert own resumes": {
          "name": "Students can insert own resumes",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "(student_id = auth.uid())"
        },
        "Students can update own resumes": {
          "name": "Students can update own resumes",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Students can view own resumes": {
          "name": "Students can view own resumes",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.interview_sessions": {
      "name": "interview_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "student_id": {
          "name": "student_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "interview_type": {
          "name": "interview_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "guidewire_module": {
          "name": "guidewire_module",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "questions": {
          "name": "questions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "average_score": {
          "name": "average_score",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_interview_sessions_module": {
          "name": "idx_interview_sessions_module",
          "columns": [
            {
              "expression": "guidewire_module",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(guidewire_module IS NOT NULL)",
          "with": {}
        },
        "idx_interview_sessions_score": {
          "name": "idx_interview_sessions_score",
          "columns": [
            {
              "expression": "average_score",
              "asc": false,
              "nulls": "first",
              "opclass": "numeric_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_interview_sessions_student": {
          "name": "idx_interview_sessions_student",
          "columns": [
            {
              "expression": "student_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_interview_sessions_type": {
          "name": "idx_interview_sessions_type",
          "columns": [
            {
              "expression": "interview_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "interview_sessions_student_id_fkey": {
          "name": "interview_sessions_student_id_fkey",
          "tableFrom": "interview_sessions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "interview_sessions_average_score_check": {
          "name": "interview_sessions_average_score_check",
          "value": "(average_score >= (0)::numeric) AND (average_score <= (10)::numeric)"
        },
        "interview_sessions_interview_type_check": {
          "name": "interview_sessions_interview_type_check",
          "value": "interview_type = ANY (ARRAY['technical'::text, 'behavioral'::text, 'mixed'::text])"
        }
      },
      "policies": {
        "Students can insert own interview sessions": {
          "name": "Students can insert own interview sessions",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "(student_id = auth.uid())"
        },
        "Students can update own interview sessions": {
          "name": "Students can update own interview sessions",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Students can view own interview sessions": {
          "name": "Students can view own interview sessions",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "interview_sessions_select_platform_admin": {
          "name": "interview_sessions_select_platform_admin",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.employee_screenshots": {
      "name": "employee_screenshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "filename": {
          "name": "filename",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "storage_bucket": {
          "name": "storage_bucket",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'employee-screenshots'"
        },
        "captured_at": {
          "name": "captured_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "machine_name": {
          "name": "machine_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "os_type": {
          "name": "os_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "active_window_title": {
          "name": "active_window_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "analyzed": {
          "name": "analyzed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "activity_category": {
          "name": "activity_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "analyzed_at": {
          "name": "analyzed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_screenshots_analyzed": {
          "name": "idx_screenshots_analyzed",
          "columns": [
            {
              "expression": "analyzed",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((NOT analyzed) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_screenshots_captured_at": {
          "name": "idx_screenshots_captured_at",
          "columns": [
            {
              "expression": "captured_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_screenshots_category": {
          "name": "idx_screenshots_category",
          "columns": [
            {
              "expression": "activity_category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(analyzed = true)",
          "with": {}
        },
        "idx_screenshots_machine": {
          "name": "idx_screenshots_machine",
          "columns": [
            {
              "expression": "machine_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_screenshots_user_date": {
          "name": "idx_screenshots_user_date",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "captured_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_screenshots_user_id": {
          "name": "idx_screenshots_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "employee_screenshots_user_id_fkey": {
          "name": "employee_screenshots_user_id_fkey",
          "tableFrom": "employee_screenshots",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "screenshots_admin_select": {
          "name": "screenshots_admin_select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (user_roles ur\n     JOIN roles r ON ((ur.role_id = r.id)))\n  WHERE ((ur.user_id = auth.uid()) AND (r.name = 'admin'::text))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.topic_lessons": {
      "name": "topic_lessons",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "lesson_number": {
          "name": "lesson_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "content_type": {
          "name": "content_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content_url": {
          "name": "content_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_markdown": {
          "name": "content_markdown",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "lab_environment_template": {
          "name": "lab_environment_template",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lab_instructions_url": {
          "name": "lab_instructions_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_topic_lessons_topic_id": {
          "name": "idx_topic_lessons_topic_id",
          "columns": [
            {
              "expression": "topic_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_topic_lessons_type": {
          "name": "idx_topic_lessons_type",
          "columns": [
            {
              "expression": "content_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "topic_lessons_topic_id_fkey": {
          "name": "topic_lessons_topic_id_fkey",
          "tableFrom": "topic_lessons",
          "tableTo": "module_topics",
          "schemaTo": "public",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_topic_lesson_number": {
          "columns": [
            "topic_id",
            "lesson_number"
          ],
          "nullsNotDistinct": false,
          "name": "unique_topic_lesson_number"
        }
      },
      "checkConstraints": {
        "topic_lessons_content_type_check": {
          "name": "topic_lessons_content_type_check",
          "value": "content_type = ANY (ARRAY['video'::text, 'markdown'::text, 'pdf'::text, 'quiz'::text, 'lab'::text, 'external_link'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.topic_completions": {
      "name": "topic_completions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "module_id": {
          "name": "module_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "time_spent_seconds": {
          "name": "time_spent_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "xp_earned": {
          "name": "xp_earned",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "completion_source": {
          "name": "completion_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_topic_completions_completed_at": {
          "name": "idx_topic_completions_completed_at",
          "columns": [
            {
              "expression": "completed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_topic_completions_course": {
          "name": "idx_topic_completions_course",
          "columns": [
            {
              "expression": "course_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_topic_completions_enrollment": {
          "name": "idx_topic_completions_enrollment",
          "columns": [
            {
              "expression": "enrollment_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_topic_completions_user": {
          "name": "idx_topic_completions_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "topic_completions_course_id_fkey": {
          "name": "topic_completions_course_id_fkey",
          "tableFrom": "topic_completions",
          "tableTo": "courses",
          "schemaTo": "public",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "topic_completions_enrollment_id_fkey": {
          "name": "topic_completions_enrollment_id_fkey",
          "tableFrom": "topic_completions",
          "tableTo": "student_enrollments",
          "schemaTo": "public",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "topic_completions_module_id_fkey": {
          "name": "topic_completions_module_id_fkey",
          "tableFrom": "topic_completions",
          "tableTo": "course_modules",
          "schemaTo": "public",
          "columnsFrom": [
            "module_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "topic_completions_topic_id_fkey": {
          "name": "topic_completions_topic_id_fkey",
          "tableFrom": "topic_completions",
          "tableTo": "module_topics",
          "schemaTo": "public",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "topic_completions_user_id_fkey": {
          "name": "topic_completions_user_id_fkey",
          "tableFrom": "topic_completions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_user_topic_completion": {
          "columns": [
            "user_id",
            "topic_id"
          ],
          "nullsNotDistinct": false,
          "name": "unique_user_topic_completion"
        }
      },
      "checkConstraints": {
        "topic_completions_completion_source_check": {
          "name": "topic_completions_completion_source_check",
          "value": "completion_source = ANY (ARRAY['manual'::text, 'auto'::text, 'admin_override'::text])"
        },
        "valid_time_spent": {
          "name": "valid_time_spent",
          "value": "time_spent_seconds >= 0"
        },
        "valid_xp": {
          "name": "valid_xp",
          "value": "xp_earned >= 0"
        }
      },
      "policies": {
        "Users can view their own completions": {
          "name": "Users can view their own completions",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(user_id = auth.uid())"
        }
      },
      "isRLSEnabled": true
    },
    "public.xp_transactions": {
      "name": "xp_transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_type": {
          "name": "transaction_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reference_type": {
          "name": "reference_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reference_id": {
          "name": "reference_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "awarded_at": {
          "name": "awarded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "awarded_by": {
          "name": "awarded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_xp_transactions_awarded_at": {
          "name": "idx_xp_transactions_awarded_at",
          "columns": [
            {
              "expression": "awarded_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_xp_transactions_created_week": {
          "name": "idx_xp_transactions_created_week",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_xp_transactions_reference": {
          "name": "idx_xp_transactions_reference",
          "columns": [
            {
              "expression": "reference_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "reference_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_xp_transactions_type": {
          "name": "idx_xp_transactions_type",
          "columns": [
            {
              "expression": "transaction_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_xp_transactions_user": {
          "name": "idx_xp_transactions_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "xp_transactions_awarded_by_fkey": {
          "name": "xp_transactions_awarded_by_fkey",
          "tableFrom": "xp_transactions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "awarded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "xp_transactions_user_id_fkey": {
          "name": "xp_transactions_user_id_fkey",
          "tableFrom": "xp_transactions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "xp_transactions_reference_type_check": {
          "name": "xp_transactions_reference_type_check",
          "value": "reference_type = ANY (ARRAY['topic_completion'::text, 'enrollment'::text, 'achievement'::text, 'admin_action'::text])"
        },
        "xp_transactions_transaction_type_check": {
          "name": "xp_transactions_transaction_type_check",
          "value": "transaction_type = ANY (ARRAY['topic_completion'::text, 'quiz_passed'::text, 'lab_completed'::text, 'project_submitted'::text, 'bonus_achievement'::text, 'penalty'::text, 'adjustment'::text])"
        }
      },
      "policies": {
        "Users can view their own XP transactions": {
          "name": "Users can view their own XP transactions",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(user_id = auth.uid())"
        }
      },
      "isRLSEnabled": true
    },
    "public.reading_progress": {
      "name": "reading_progress",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "scroll_percentage": {
          "name": "scroll_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_scroll_position": {
          "name": "last_scroll_position",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_reading_time_seconds": {
          "name": "total_reading_time_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "current_page": {
          "name": "current_page",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_pages": {
          "name": "total_pages",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "content_type": {
          "name": "content_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_length": {
          "name": "content_length",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "session_count": {
          "name": "session_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "last_read_at": {
          "name": "last_read_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_reading_progress_enrollment": {
          "name": "idx_reading_progress_enrollment",
          "columns": [
            {
              "expression": "enrollment_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reading_progress_topic": {
          "name": "idx_reading_progress_topic",
          "columns": [
            {
              "expression": "topic_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reading_progress_updated": {
          "name": "idx_reading_progress_updated",
          "columns": [
            {
              "expression": "updated_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reading_progress_user": {
          "name": "idx_reading_progress_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "reading_progress_enrollment_id_fkey": {
          "name": "reading_progress_enrollment_id_fkey",
          "tableFrom": "reading_progress",
          "tableTo": "student_enrollments",
          "schemaTo": "public",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "reading_progress_topic_id_fkey": {
          "name": "reading_progress_topic_id_fkey",
          "tableFrom": "reading_progress",
          "tableTo": "module_topics",
          "schemaTo": "public",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "reading_progress_user_id_fkey": {
          "name": "reading_progress_user_id_fkey",
          "tableFrom": "reading_progress",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "reading_progress_user_id_topic_id_key": {
          "columns": [
            "user_id",
            "topic_id"
          ],
          "nullsNotDistinct": false,
          "name": "reading_progress_user_id_topic_id_key"
        }
      },
      "checkConstraints": {
        "valid_content_type": {
          "name": "valid_content_type",
          "value": "content_type = ANY (ARRAY['markdown'::text, 'pdf'::text, 'html'::text])"
        },
        "valid_page": {
          "name": "valid_page",
          "value": "(current_page IS NULL) OR (current_page > 0)"
        },
        "valid_reading_time": {
          "name": "valid_reading_time",
          "value": "total_reading_time_seconds >= 0"
        },
        "valid_scroll_percentage": {
          "name": "valid_scroll_percentage",
          "value": "(scroll_percentage >= 0) AND (scroll_percentage <= 100)"
        },
        "valid_scroll_position": {
          "name": "valid_scroll_position",
          "value": "last_scroll_position >= 0"
        }
      },
      "policies": {
        "reading_progress_user_policy": {
          "name": "reading_progress_user_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "withCheck": "((user_id = auth.uid()) OR (EXISTS ( SELECT 1\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid()))))",
          "using": "((user_id = auth.uid()) OR (EXISTS ( SELECT 1\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid()))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.lab_templates": {
      "name": "lab_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "github_template_url": {
          "name": "github_template_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "difficulty_level": {
          "name": "difficulty_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "time_limit_minutes": {
          "name": "time_limit_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 120
        },
        "auto_grading_enabled": {
          "name": "auto_grading_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "github_actions_workflow": {
          "name": "github_actions_workflow",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "required_skills": {
          "name": "required_skills",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_duration_minutes": {
          "name": "estimated_duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        }
      },
      "indexes": {
        "idx_lab_templates_active": {
          "name": "idx_lab_templates_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lab_templates_difficulty": {
          "name": "idx_lab_templates_difficulty",
          "columns": [
            {
              "expression": "difficulty_level",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lab_templates_created_by_fkey": {
          "name": "lab_templates_created_by_fkey",
          "tableFrom": "lab_templates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "lab_templates_github_template_url_key": {
          "columns": [
            "github_template_url"
          ],
          "nullsNotDistinct": false,
          "name": "lab_templates_github_template_url_key"
        }
      },
      "checkConstraints": {
        "lab_templates_difficulty_level_check": {
          "name": "lab_templates_difficulty_level_check",
          "value": "difficulty_level = ANY (ARRAY['beginner'::text, 'intermediate'::text, 'advanced'::text])"
        }
      },
      "policies": {
        "lab_templates_public_read": {
          "name": "lab_templates_public_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(is_active = true)"
        }
      },
      "isRLSEnabled": true
    },
    "public.lab_instances": {
      "name": "lab_instances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "lab_template_id": {
          "name": "lab_template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "forked_repo_url": {
          "name": "forked_repo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "forked_repo_name": {
          "name": "forked_repo_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_template_url": {
          "name": "original_template_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "time_spent_seconds": {
          "name": "time_spent_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_activity_at": {
          "name": "last_activity_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "github_username": {
          "name": "github_username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provisioning_metadata": {
          "name": "provisioning_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_lab_instances_active_unique": {
          "name": "idx_lab_instances_active_unique",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "topic_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(status = 'active'::text)",
          "with": {}
        },
        "idx_lab_instances_enrollment": {
          "name": "idx_lab_instances_enrollment",
          "columns": [
            {
              "expression": "enrollment_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lab_instances_expires": {
          "name": "idx_lab_instances_expires",
          "columns": [
            {
              "expression": "expires_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lab_instances_status": {
          "name": "idx_lab_instances_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lab_instances_topic": {
          "name": "idx_lab_instances_topic",
          "columns": [
            {
              "expression": "topic_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lab_instances_user": {
          "name": "idx_lab_instances_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lab_instances_enrollment_id_fkey": {
          "name": "lab_instances_enrollment_id_fkey",
          "tableFrom": "lab_instances",
          "tableTo": "student_enrollments",
          "schemaTo": "public",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lab_instances_lab_template_id_fkey": {
          "name": "lab_instances_lab_template_id_fkey",
          "tableFrom": "lab_instances",
          "tableTo": "lab_templates",
          "schemaTo": "public",
          "columnsFrom": [
            "lab_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lab_instances_topic_id_fkey": {
          "name": "lab_instances_topic_id_fkey",
          "tableFrom": "lab_instances",
          "tableTo": "module_topics",
          "schemaTo": "public",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lab_instances_user_id_fkey": {
          "name": "lab_instances_user_id_fkey",
          "tableFrom": "lab_instances",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "lab_instances_status_check": {
          "name": "lab_instances_status_check",
          "value": "status = ANY (ARRAY['active'::text, 'submitted'::text, 'expired'::text, 'abandoned'::text, 'completed'::text])"
        },
        "valid_time_spent": {
          "name": "valid_time_spent",
          "value": "time_spent_seconds >= 0"
        }
      },
      "policies": {
        "lab_instances_user_policy": {
          "name": "lab_instances_user_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "withCheck": "((user_id = auth.uid()) OR (EXISTS ( SELECT 1\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid()))))",
          "using": "((user_id = auth.uid()) OR (EXISTS ( SELECT 1\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid()))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.lab_submissions": {
      "name": "lab_submissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "lab_instance_id": {
          "name": "lab_instance_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "repository_url": {
          "name": "repository_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "commit_sha": {
          "name": "commit_sha",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "branch_name": {
          "name": "branch_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'main'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "auto_grade_result": {
          "name": "auto_grade_result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "auto_grade_score": {
          "name": "auto_grade_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "auto_graded_at": {
          "name": "auto_graded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "manual_grade_score": {
          "name": "manual_grade_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "rubric_scores": {
          "name": "rubric_scores",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "graded_by": {
          "name": "graded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "graded_at": {
          "name": "graded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "feedback": {
          "name": "feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "final_score": {
          "name": "final_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "passed": {
          "name": "passed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "attempt_number": {
          "name": "attempt_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "previous_submission_id": {
          "name": "previous_submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_lab_submissions_grader": {
          "name": "idx_lab_submissions_grader",
          "columns": [
            {
              "expression": "graded_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lab_submissions_instance": {
          "name": "idx_lab_submissions_instance",
          "columns": [
            {
              "expression": "lab_instance_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lab_submissions_pending": {
          "name": "idx_lab_submissions_pending",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = ANY (ARRAY['pending'::text, 'manual_review'::text]))",
          "with": {}
        },
        "idx_lab_submissions_status": {
          "name": "idx_lab_submissions_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lab_submissions_topic": {
          "name": "idx_lab_submissions_topic",
          "columns": [
            {
              "expression": "topic_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lab_submissions_user": {
          "name": "idx_lab_submissions_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lab_submissions_enrollment_id_fkey": {
          "name": "lab_submissions_enrollment_id_fkey",
          "tableFrom": "lab_submissions",
          "tableTo": "student_enrollments",
          "schemaTo": "public",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lab_submissions_graded_by_fkey": {
          "name": "lab_submissions_graded_by_fkey",
          "tableFrom": "lab_submissions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "graded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lab_submissions_lab_instance_id_fkey": {
          "name": "lab_submissions_lab_instance_id_fkey",
          "tableFrom": "lab_submissions",
          "tableTo": "lab_instances",
          "schemaTo": "public",
          "columnsFrom": [
            "lab_instance_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lab_submissions_previous_submission_id_fkey": {
          "name": "lab_submissions_previous_submission_id_fkey",
          "tableFrom": "lab_submissions",
          "tableTo": "lab_submissions",
          "schemaTo": "public",
          "columnsFrom": [
            "previous_submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lab_submissions_topic_id_fkey": {
          "name": "lab_submissions_topic_id_fkey",
          "tableFrom": "lab_submissions",
          "tableTo": "module_topics",
          "schemaTo": "public",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lab_submissions_user_id_fkey": {
          "name": "lab_submissions_user_id_fkey",
          "tableFrom": "lab_submissions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "lab_submissions_status_check": {
          "name": "lab_submissions_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'grading'::text, 'auto_graded'::text, 'manual_review'::text, 'passed'::text, 'failed'::text])"
        },
        "valid_auto_score": {
          "name": "valid_auto_score",
          "value": "(auto_grade_score IS NULL) OR ((auto_grade_score >= (0)::numeric) AND (auto_grade_score <= (100)::numeric))"
        },
        "valid_final_score": {
          "name": "valid_final_score",
          "value": "(final_score IS NULL) OR ((final_score >= (0)::numeric) AND (final_score <= (100)::numeric))"
        },
        "valid_manual_score": {
          "name": "valid_manual_score",
          "value": "(manual_grade_score IS NULL) OR ((manual_grade_score >= (0)::numeric) AND (manual_grade_score <= (100)::numeric))"
        }
      },
      "policies": {
        "lab_submissions_user_policy": {
          "name": "lab_submissions_user_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "withCheck": "((user_id = auth.uid()) OR (EXISTS ( SELECT 1\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid()))))",
          "using": "((user_id = auth.uid()) OR (EXISTS ( SELECT 1\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid()))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.capstone_submissions": {
      "name": "capstone_submissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "repository_url": {
          "name": "repository_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "demo_video_url": {
          "name": "demo_video_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "revision_count": {
          "name": "revision_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "graded_by": {
          "name": "graded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "graded_at": {
          "name": "graded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "grade": {
          "name": "grade",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "feedback": {
          "name": "feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rubric_scores": {
          "name": "rubric_scores",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "peer_review_count": {
          "name": "peer_review_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "avg_peer_rating": {
          "name": "avg_peer_rating",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_capstone_submissions_course": {
          "name": "idx_capstone_submissions_course",
          "columns": [
            {
              "expression": "course_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_capstone_submissions_enrollment": {
          "name": "idx_capstone_submissions_enrollment",
          "columns": [
            {
              "expression": "enrollment_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_capstone_submissions_grader": {
          "name": "idx_capstone_submissions_grader",
          "columns": [
            {
              "expression": "graded_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_capstone_submissions_status": {
          "name": "idx_capstone_submissions_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_capstone_submissions_user": {
          "name": "idx_capstone_submissions_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "capstone_submissions_course_id_fkey": {
          "name": "capstone_submissions_course_id_fkey",
          "tableFrom": "capstone_submissions",
          "tableTo": "courses",
          "schemaTo": "public",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "capstone_submissions_enrollment_id_fkey": {
          "name": "capstone_submissions_enrollment_id_fkey",
          "tableFrom": "capstone_submissions",
          "tableTo": "student_enrollments",
          "schemaTo": "public",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "capstone_submissions_graded_by_fkey": {
          "name": "capstone_submissions_graded_by_fkey",
          "tableFrom": "capstone_submissions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "graded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capstone_submissions_user_id_fkey": {
          "name": "capstone_submissions_user_id_fkey",
          "tableFrom": "capstone_submissions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "capstone_submissions_enrollment_id_revision_count_key": {
          "columns": [
            "enrollment_id",
            "revision_count"
          ],
          "nullsNotDistinct": false,
          "name": "capstone_submissions_enrollment_id_revision_count_key"
        }
      },
      "checkConstraints": {
        "capstone_submissions_avg_peer_rating_check": {
          "name": "capstone_submissions_avg_peer_rating_check",
          "value": "(avg_peer_rating >= (0)::numeric) AND (avg_peer_rating <= (5)::numeric)"
        },
        "capstone_submissions_grade_check": {
          "name": "capstone_submissions_grade_check",
          "value": "(grade >= (0)::numeric) AND (grade <= (100)::numeric)"
        },
        "capstone_submissions_status_check": {
          "name": "capstone_submissions_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'peer_review'::text, 'trainer_review'::text, 'passed'::text, 'failed'::text, 'revision_requested'::text])"
        }
      },
      "policies": {
        "capstone_submissions_insert_own": {
          "name": "capstone_submissions_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "(user_id = auth.uid())"
        },
        "capstone_submissions_select_own": {
          "name": "capstone_submissions_select_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "capstone_submissions_select_trainer": {
          "name": "capstone_submissions_select_trainer",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "capstone_submissions_update_own": {
          "name": "capstone_submissions_update_own",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "capstone_submissions_update_trainer": {
          "name": "capstone_submissions_update_trainer",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.twin_events": {
      "name": "twin_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "source_user_id": {
          "name": "source_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "source_role": {
          "name": "source_role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_role": {
          "name": "target_role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "processed": {
          "name": "processed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "processed_by": {
          "name": "processed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "(now() + '7 days'::interval)"
        }
      },
      "indexes": {
        "idx_twin_events_org_role": {
          "name": "idx_twin_events_org_role",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "target_role",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "processed",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_twin_events_source": {
          "name": "idx_twin_events_source",
          "columns": [
            {
              "expression": "source_user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_twin_events_type": {
          "name": "idx_twin_events_type",
          "columns": [
            {
              "expression": "event_type",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_twin_events_unprocessed": {
          "name": "idx_twin_events_unprocessed",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "processed",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "priority",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(processed = false)",
          "with": {}
        }
      },
      "foreignKeys": {
        "twin_events_processed_by_fkey": {
          "name": "twin_events_processed_by_fkey",
          "tableFrom": "twin_events",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "processed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "twin_events_source_user_id_fkey": {
          "name": "twin_events_source_user_id_fkey",
          "tableFrom": "twin_events",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "source_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "twin_events_event_type_check": {
          "name": "twin_events_event_type_check",
          "value": "event_type = ANY (ARRAY['placement_complete'::text, 'bench_ending'::text, 'training_graduate'::text, 'deal_closed'::text, 'escalation'::text, 'approval_needed'::text, 'milestone_reached'::text, 'cross_sell_opportunity'::text, 'custom'::text])"
        },
        "twin_events_priority_check": {
          "name": "twin_events_priority_check",
          "value": "priority = ANY (ARRAY['low'::text, 'medium'::text, 'high'::text, 'critical'::text])"
        },
        "twin_events_source_role_check": {
          "name": "twin_events_source_role_check",
          "value": "source_role = ANY (ARRAY['ceo'::text, 'admin'::text, 'recruiter'::text, 'bench_sales'::text, 'talent_acquisition'::text, 'hr'::text, 'immigration'::text, 'trainer'::text])"
        },
        "twin_events_target_role_check": {
          "name": "twin_events_target_role_check",
          "value": "(target_role IS NULL) OR (target_role = ANY (ARRAY['ceo'::text, 'admin'::text, 'recruiter'::text, 'bench_sales'::text, 'talent_acquisition'::text, 'hr'::text, 'immigration'::text, 'trainer'::text]))"
        }
      },
      "policies": {
        "twin_events_org_access": {
          "name": "twin_events_org_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())))"
        }
      },
      "isRLSEnabled": true
    },
    "public.twin_conversations": {
      "name": "twin_conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "initiator_user_id": {
          "name": "initiator_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "initiator_role": {
          "name": "initiator_role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "responder_role": {
          "name": "responder_role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "question": {
          "name": "question",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "response": {
          "name": "response",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cost_usd": {
          "name": "cost_usd",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "latency_ms": {
          "name": "latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "model_used": {
          "name": "model_used",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'gpt-4o-mini'"
        },
        "context": {
          "name": "context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'completed'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_twin_conversations_initiator": {
          "name": "idx_twin_conversations_initiator",
          "columns": [
            {
              "expression": "initiator_role",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_twin_conversations_org": {
          "name": "idx_twin_conversations_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_twin_conversations_responder": {
          "name": "idx_twin_conversations_responder",
          "columns": [
            {
              "expression": "responder_role",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "twin_conversations_initiator_user_id_fkey": {
          "name": "twin_conversations_initiator_user_id_fkey",
          "tableFrom": "twin_conversations",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "initiator_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "twin_conversations_initiator_role_check": {
          "name": "twin_conversations_initiator_role_check",
          "value": "initiator_role = ANY (ARRAY['ceo'::text, 'admin'::text, 'recruiter'::text, 'bench_sales'::text, 'talent_acquisition'::text, 'hr'::text, 'immigration'::text, 'trainer'::text, 'organization'::text])"
        },
        "twin_conversations_responder_role_check": {
          "name": "twin_conversations_responder_role_check",
          "value": "responder_role = ANY (ARRAY['ceo'::text, 'admin'::text, 'recruiter'::text, 'bench_sales'::text, 'talent_acquisition'::text, 'hr'::text, 'immigration'::text, 'trainer'::text, 'organization'::text])"
        },
        "twin_conversations_status_check": {
          "name": "twin_conversations_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'completed'::text, 'failed'::text])"
        }
      },
      "policies": {
        "twin_conversations_org_access": {
          "name": "twin_conversations_org_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())))"
        }
      },
      "isRLSEnabled": true
    },
    "public.quiz_questions": {
      "name": "quiz_questions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "question_text": {
          "name": "question_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "question_type": {
          "name": "question_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "options": {
          "name": "options",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "correct_answers": {
          "name": "correct_answers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "explanation": {
          "name": "explanation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "difficulty": {
          "name": "difficulty",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "points": {
          "name": "points",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "code_language": {
          "name": "code_language",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_quiz_questions_created_by": {
          "name": "idx_quiz_questions_created_by",
          "columns": [
            {
              "expression": "created_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_quiz_questions_difficulty": {
          "name": "idx_quiz_questions_difficulty",
          "columns": [
            {
              "expression": "difficulty",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_quiz_questions_public": {
          "name": "idx_quiz_questions_public",
          "columns": [
            {
              "expression": "is_public",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_public = true)",
          "with": {}
        },
        "idx_quiz_questions_text_search": {
          "name": "idx_quiz_questions_text_search",
          "columns": [
            {
              "expression": "to_tsvector('english'::regconfig, question_text)",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": true
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_quiz_questions_topic": {
          "name": "idx_quiz_questions_topic",
          "columns": [
            {
              "expression": "topic_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_quiz_questions_type": {
          "name": "idx_quiz_questions_type",
          "columns": [
            {
              "expression": "question_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "quiz_questions_created_by_fkey": {
          "name": "quiz_questions_created_by_fkey",
          "tableFrom": "quiz_questions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "quiz_questions_topic_id_fkey": {
          "name": "quiz_questions_topic_id_fkey",
          "tableFrom": "quiz_questions",
          "tableTo": "module_topics",
          "schemaTo": "public",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "quiz_questions_difficulty_check": {
          "name": "quiz_questions_difficulty_check",
          "value": "difficulty = ANY (ARRAY['easy'::text, 'medium'::text, 'hard'::text])"
        },
        "quiz_questions_points_check": {
          "name": "quiz_questions_points_check",
          "value": "points > 0"
        },
        "quiz_questions_question_text_check": {
          "name": "quiz_questions_question_text_check",
          "value": "length(question_text) >= 10"
        },
        "quiz_questions_question_type_check": {
          "name": "quiz_questions_question_type_check",
          "value": "question_type = ANY (ARRAY['multiple_choice_single'::text, 'multiple_choice_multiple'::text, 'true_false'::text, 'code'::text])"
        }
      },
      "policies": {
        "quiz_questions_admin_all": {
          "name": "quiz_questions_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "using": "true"
        },
        "quiz_questions_student_read": {
          "name": "quiz_questions_student_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.quiz_settings": {
      "name": "quiz_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "randomize_questions": {
          "name": "randomize_questions",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "randomize_options": {
          "name": "randomize_options",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "passing_threshold": {
          "name": "passing_threshold",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 70
        },
        "show_correct_answers": {
          "name": "show_correct_answers",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "time_limit_minutes": {
          "name": "time_limit_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "allow_review": {
          "name": "allow_review",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "xp_reward": {
          "name": "xp_reward",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_quiz_settings_topic": {
          "name": "idx_quiz_settings_topic",
          "columns": [
            {
              "expression": "topic_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "quiz_settings_topic_id_fkey": {
          "name": "quiz_settings_topic_id_fkey",
          "tableFrom": "quiz_settings",
          "tableTo": "module_topics",
          "schemaTo": "public",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "quiz_settings_topic_id_key": {
          "columns": [
            "topic_id"
          ],
          "nullsNotDistinct": false,
          "name": "quiz_settings_topic_id_key"
        }
      },
      "checkConstraints": {
        "quiz_settings_max_attempts_check": {
          "name": "quiz_settings_max_attempts_check",
          "value": "max_attempts > 0"
        },
        "quiz_settings_passing_threshold_check": {
          "name": "quiz_settings_passing_threshold_check",
          "value": "(passing_threshold >= 0) AND (passing_threshold <= 100)"
        },
        "quiz_settings_time_limit_minutes_check": {
          "name": "quiz_settings_time_limit_minutes_check",
          "value": "time_limit_minutes > 0"
        },
        "quiz_settings_xp_reward_check": {
          "name": "quiz_settings_xp_reward_check",
          "value": "xp_reward >= 0"
        }
      },
      "policies": {
        "quiz_settings_admin_all": {
          "name": "quiz_settings_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "authenticated"
          ],
          "using": "true"
        },
        "quiz_settings_student_read": {
          "name": "quiz_settings_student_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.org_context_cache": {
      "name": "org_context_cache",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "context_type": {
          "name": "context_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "(now() + '24:00:00'::interval)"
        },
        "refresh_triggered_at": {
          "name": "refresh_triggered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_org_context_cache_lookup": {
          "name": "idx_org_context_cache_lookup",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "context_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "expires_at",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "org_context_cache_org_id_context_type_key": {
          "columns": [
            "org_id",
            "context_type"
          ],
          "nullsNotDistinct": false,
          "name": "org_context_cache_org_id_context_type_key"
        }
      },
      "checkConstraints": {
        "org_context_cache_context_type_check": {
          "name": "org_context_cache_context_type_check",
          "value": "context_type = ANY (ARRAY['priorities'::text, 'metrics'::text, 'pillar_health'::text, 'cross_pollination'::text, 'announcements'::text, 'goals'::text])"
        }
      },
      "policies": {
        "org_context_cache_read": {
          "name": "org_context_cache_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())))"
        },
        "org_context_cache_update": {
          "name": "org_context_cache_update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "org_context_cache_write": {
          "name": "org_context_cache_write",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.org_standups": {
      "name": "org_standups",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "standup_date": {
          "name": "standup_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_DATE"
        },
        "generated_by": {
          "name": "generated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'organization_twin'"
        },
        "report": {
          "name": "report",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "pillar_summaries": {
          "name": "pillar_summaries",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "cross_pollination_insights": {
          "name": "cross_pollination_insights",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "escalations": {
          "name": "escalations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "blockers": {
          "name": "blockers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "organism_health_score": {
          "name": "organism_health_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cost_usd": {
          "name": "cost_usd",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_org_standups_date": {
          "name": "idx_org_standups_date",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "standup_date",
              "asc": false,
              "nulls": "first",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "org_standups_org_id_standup_date_key": {
          "columns": [
            "org_id",
            "standup_date"
          ],
          "nullsNotDistinct": false,
          "name": "org_standups_org_id_standup_date_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "org_standups_org_access": {
          "name": "org_standups_org_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())))"
        }
      },
      "isRLSEnabled": true
    },
    "public.peer_reviews": {
      "name": "peer_reviews",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "submission_id": {
          "name": "submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "reviewer_id": {
          "name": "reviewer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "comments": {
          "name": "comments",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "strengths": {
          "name": "strengths",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "improvements": {
          "name": "improvements",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_peer_reviews_reviewer": {
          "name": "idx_peer_reviews_reviewer",
          "columns": [
            {
              "expression": "reviewer_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_peer_reviews_submission": {
          "name": "idx_peer_reviews_submission",
          "columns": [
            {
              "expression": "submission_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "peer_reviews_reviewer_id_fkey": {
          "name": "peer_reviews_reviewer_id_fkey",
          "tableFrom": "peer_reviews",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "reviewer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "peer_reviews_submission_id_fkey": {
          "name": "peer_reviews_submission_id_fkey",
          "tableFrom": "peer_reviews",
          "tableTo": "capstone_submissions",
          "schemaTo": "public",
          "columnsFrom": [
            "submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "peer_reviews_submission_id_reviewer_id_key": {
          "columns": [
            "submission_id",
            "reviewer_id"
          ],
          "nullsNotDistinct": false,
          "name": "peer_reviews_submission_id_reviewer_id_key"
        }
      },
      "checkConstraints": {
        "peer_reviews_rating_check": {
          "name": "peer_reviews_rating_check",
          "value": "(rating >= 1) AND (rating <= 5)"
        }
      },
      "policies": {
        "peer_reviews_insert_student": {
          "name": "peer_reviews_insert_student",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "((reviewer_id = auth.uid()) AND (NOT (EXISTS ( SELECT 1\n   FROM capstone_submissions\n  WHERE ((capstone_submissions.id = peer_reviews.submission_id) AND (capstone_submissions.user_id = auth.uid()))))))"
        },
        "peer_reviews_select_own_reviews": {
          "name": "peer_reviews_select_own_reviews",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "peer_reviews_select_own_submission": {
          "name": "peer_reviews_select_own_submission",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "peer_reviews_select_trainer": {
          "name": "peer_reviews_select_trainer",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.ai_mentor_chats": {
      "name": "ai_mentor_chats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "question": {
          "name": "question",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "response": {
          "name": "response",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_context": {
          "name": "conversation_context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "response_time_ms": {
          "name": "response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'gpt-4o-mini'"
        },
        "cost_usd": {
          "name": "cost_usd",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "student_rating": {
          "name": "student_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "student_feedback": {
          "name": "student_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "flagged_for_review": {
          "name": "flagged_for_review",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "escalated_to_trainer": {
          "name": "escalated_to_trainer",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "escalation_reason": {
          "name": "escalation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "rated_at": {
          "name": "rated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "escalated_at": {
          "name": "escalated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "prompt_variant_id": {
          "name": "prompt_variant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "question_hash": {
          "name": "question_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "md5(lower(TRIM(BOTH FROM question)))",
            "type": "stored"
          }
        }
      },
      "indexes": {
        "idx_ai_mentor_chats_course_id": {
          "name": "idx_ai_mentor_chats_course_id",
          "columns": [
            {
              "expression": "course_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_mentor_chats_created_at": {
          "name": "idx_ai_mentor_chats_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_mentor_chats_escalated": {
          "name": "idx_ai_mentor_chats_escalated",
          "columns": [
            {
              "expression": "escalated_to_trainer",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(escalated_to_trainer = true)",
          "with": {}
        },
        "idx_ai_mentor_chats_flagged": {
          "name": "idx_ai_mentor_chats_flagged",
          "columns": [
            {
              "expression": "flagged_for_review",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(flagged_for_review = true)",
          "with": {}
        },
        "idx_ai_mentor_chats_topic_id": {
          "name": "idx_ai_mentor_chats_topic_id",
          "columns": [
            {
              "expression": "topic_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_mentor_chats_user_id": {
          "name": "idx_ai_mentor_chats_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_mentor_chats_prompt_variant": {
          "name": "idx_mentor_chats_prompt_variant",
          "columns": [
            {
              "expression": "prompt_variant_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_mentor_chats_question_hash": {
          "name": "idx_mentor_chats_question_hash",
          "columns": [
            {
              "expression": "question_hash",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_mentor_chats_course_id_fkey": {
          "name": "ai_mentor_chats_course_id_fkey",
          "tableFrom": "ai_mentor_chats",
          "tableTo": "courses",
          "schemaTo": "public",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ai_mentor_chats_prompt_variant_id_fkey": {
          "name": "ai_mentor_chats_prompt_variant_id_fkey",
          "tableFrom": "ai_mentor_chats",
          "tableTo": "ai_prompt_variants",
          "schemaTo": "public",
          "columnsFrom": [
            "prompt_variant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ai_mentor_chats_topic_id_fkey": {
          "name": "ai_mentor_chats_topic_id_fkey",
          "tableFrom": "ai_mentor_chats",
          "tableTo": "module_topics",
          "schemaTo": "public",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ai_mentor_chats_user_id_fkey": {
          "name": "ai_mentor_chats_user_id_fkey",
          "tableFrom": "ai_mentor_chats",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "ai_mentor_chats_student_rating_check": {
          "name": "ai_mentor_chats_student_rating_check",
          "value": "(student_rating >= 1) AND (student_rating <= 5)"
        }
      },
      "policies": {
        "ai_mentor_chats_insert_own": {
          "name": "ai_mentor_chats_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "(user_id = auth.uid())"
        },
        "ai_mentor_chats_select_own": {
          "name": "ai_mentor_chats_select_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "ai_mentor_chats_select_staff": {
          "name": "ai_mentor_chats_select_staff",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "ai_mentor_chats_update_rating": {
          "name": "ai_mentor_chats_update_rating",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.sequence_templates": {
      "name": "sequence_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "channel": {
          "name": "channel",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "steps": {
          "name": "steps",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_sequence_templates_channel": {
          "name": "idx_sequence_templates_channel",
          "columns": [
            {
              "expression": "channel",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sequence_templates_created_by": {
          "name": "idx_sequence_templates_created_by",
          "columns": [
            {
              "expression": "created_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sequence_templates_is_active": {
          "name": "idx_sequence_templates_is_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_sequence_templates_org_id": {
          "name": "idx_sequence_templates_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sequence_templates_created_by_fkey": {
          "name": "sequence_templates_created_by_fkey",
          "tableFrom": "sequence_templates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sequence_templates_org_id_fkey": {
          "name": "sequence_templates_org_id_fkey",
          "tableFrom": "sequence_templates",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "sequence_templates_channel_check": {
          "name": "sequence_templates_channel_check",
          "value": "channel = ANY (ARRAY['email'::text, 'linkedin'::text, 'phone'::text, 'sms'::text])"
        },
        "sequence_templates_name_length": {
          "name": "sequence_templates_name_length",
          "value": "char_length(name) <= 255"
        }
      },
      "policies": {
        "sequence_templates_delete_org": {
          "name": "sequence_templates_delete_org",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.current_org_id'::text, true))::uuid)"
        },
        "sequence_templates_insert_org": {
          "name": "sequence_templates_insert_org",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "sequence_templates_select_org": {
          "name": "sequence_templates_select_org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "sequence_templates_update_org": {
          "name": "sequence_templates_update_org",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.ai_mentor_rate_limits": {
      "name": "ai_mentor_rate_limits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "hourly_count": {
          "name": "hourly_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "daily_count": {
          "name": "daily_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "monthly_count": {
          "name": "monthly_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "hourly_reset_at": {
          "name": "hourly_reset_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "(now() + '01:00:00'::interval)"
        },
        "daily_reset_at": {
          "name": "daily_reset_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "(now() + '1 day'::interval)"
        },
        "monthly_reset_at": {
          "name": "monthly_reset_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "(now() + '1 mon'::interval)"
        },
        "monthly_cost_usd": {
          "name": "monthly_cost_usd",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ai_mentor_rate_limits_user_id": {
          "name": "idx_ai_mentor_rate_limits_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_mentor_rate_limits_user_id_fkey": {
          "name": "ai_mentor_rate_limits_user_id_fkey",
          "tableFrom": "ai_mentor_rate_limits",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ai_mentor_rate_limits_user_id_key": {
          "columns": [
            "user_id"
          ],
          "nullsNotDistinct": false,
          "name": "ai_mentor_rate_limits_user_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "ai_mentor_rate_limits_select_own": {
          "name": "ai_mentor_rate_limits_select_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(user_id = auth.uid())"
        }
      },
      "isRLSEnabled": true
    },
    "public.ai_mentor_sessions": {
      "name": "ai_mentor_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "message_count": {
          "name": "message_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_tokens": {
          "name": "total_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_cost_usd": {
          "name": "total_cost_usd",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "last_message_at": {
          "name": "last_message_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_ai_mentor_sessions_last_message": {
          "name": "idx_ai_mentor_sessions_last_message",
          "columns": [
            {
              "expression": "last_message_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ai_mentor_sessions_user_id": {
          "name": "idx_ai_mentor_sessions_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_mentor_sessions_course_id_fkey": {
          "name": "ai_mentor_sessions_course_id_fkey",
          "tableFrom": "ai_mentor_sessions",
          "tableTo": "courses",
          "schemaTo": "public",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ai_mentor_sessions_topic_id_fkey": {
          "name": "ai_mentor_sessions_topic_id_fkey",
          "tableFrom": "ai_mentor_sessions",
          "tableTo": "module_topics",
          "schemaTo": "public",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ai_mentor_sessions_user_id_fkey": {
          "name": "ai_mentor_sessions_user_id_fkey",
          "tableFrom": "ai_mentor_sessions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "ai_mentor_sessions_select_own": {
          "name": "ai_mentor_sessions_select_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(user_id = auth.uid())"
        },
        "ai_mentor_sessions_select_staff": {
          "name": "ai_mentor_sessions_select_staff",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.permission_overrides": {
      "name": "permission_overrides",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "permission_id": {
          "name": "permission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "granted": {
          "name": "granted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "scope_override": {
          "name": "scope_override",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_by": {
          "name": "revoked_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_permission_overrides_active": {
          "name": "idx_permission_overrides_active",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "permission_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(revoked_at IS NULL)",
          "with": {}
        },
        "idx_permission_overrides_expires": {
          "name": "idx_permission_overrides_expires",
          "columns": [
            {
              "expression": "expires_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(expires_at IS NOT NULL)",
          "with": {}
        },
        "idx_permission_overrides_org": {
          "name": "idx_permission_overrides_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_permission_overrides_user": {
          "name": "idx_permission_overrides_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "permission_overrides_created_by_fkey": {
          "name": "permission_overrides_created_by_fkey",
          "tableFrom": "permission_overrides",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "permission_overrides_org_id_fkey": {
          "name": "permission_overrides_org_id_fkey",
          "tableFrom": "permission_overrides",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "permission_overrides_permission_id_fkey": {
          "name": "permission_overrides_permission_id_fkey",
          "tableFrom": "permission_overrides",
          "tableTo": "permissions",
          "schemaTo": "public",
          "columnsFrom": [
            "permission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "permission_overrides_revoked_by_fkey": {
          "name": "permission_overrides_revoked_by_fkey",
          "tableFrom": "permission_overrides",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "revoked_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "permission_overrides_user_id_fkey": {
          "name": "permission_overrides_user_id_fkey",
          "tableFrom": "permission_overrides",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "permission_overrides_valid_scope": {
          "name": "permission_overrides_valid_scope",
          "value": "(scope_override IS NULL) OR ((scope_override)::text = ANY ((ARRAY['own'::character varying, 'own_raci'::character varying, 'own_ra'::character varying, 'team'::character varying, 'region'::character varying, 'org'::character varying, 'draft_only'::character varying])::text[]))"
        }
      },
      "policies": {
        "permission_overrides_org_isolation": {
          "name": "permission_overrides_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = COALESCE(( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())), ((auth.jwt() ->> 'org_id'::text))::uuid))"
        }
      },
      "isRLSEnabled": true
    },
    "public.campaign_sequences": {
      "name": "campaign_sequences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sequence_template_id": {
          "name": "sequence_template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "enrolled_count": {
          "name": "enrolled_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completed_count": {
          "name": "completed_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_campaign_sequences_campaign_id": {
          "name": "idx_campaign_sequences_campaign_id",
          "columns": [
            {
              "expression": "campaign_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_campaign_sequences_sequence_template_id": {
          "name": "idx_campaign_sequences_sequence_template_id",
          "columns": [
            {
              "expression": "sequence_template_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "campaign_sequences_campaign_id_fkey": {
          "name": "campaign_sequences_campaign_id_fkey",
          "tableFrom": "campaign_sequences",
          "tableTo": "campaigns",
          "schemaTo": "public",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "campaign_sequences_org_id_fkey": {
          "name": "campaign_sequences_org_id_fkey",
          "tableFrom": "campaign_sequences",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "campaign_sequences_sequence_template_id_fkey": {
          "name": "campaign_sequences_sequence_template_id_fkey",
          "tableFrom": "campaign_sequences",
          "tableTo": "sequence_templates",
          "schemaTo": "public",
          "columnsFrom": [
            "sequence_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "campaign_sequences_unique": {
          "columns": [
            "campaign_id",
            "sequence_template_id"
          ],
          "nullsNotDistinct": false,
          "name": "campaign_sequences_unique"
        }
      },
      "checkConstraints": {},
      "policies": {
        "campaign_sequences_delete_org": {
          "name": "campaign_sequences_delete_org",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.current_org_id'::text, true))::uuid)"
        },
        "campaign_sequences_insert_org": {
          "name": "campaign_sequences_insert_org",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "campaign_sequences_select_org": {
          "name": "campaign_sequences_select_org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "campaign_sequences_update_org": {
          "name": "campaign_sequences_update_org",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.api_tokens": {
      "name": "api_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "token_hash": {
          "name": "token_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "token_prefix": {
          "name": "token_prefix",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "scopes": {
          "name": "scopes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"\"}'"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_ip": {
          "name": "last_used_ip",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "rate_limit_per_hour": {
          "name": "rate_limit_per_hour",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1000
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_by": {
          "name": "revoked_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_api_tokens_active": {
          "name": "idx_api_tokens_active",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(revoked_at IS NULL)",
          "with": {}
        },
        "idx_api_tokens_hash": {
          "name": "idx_api_tokens_hash",
          "columns": [
            {
              "expression": "token_hash",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_api_tokens_org": {
          "name": "idx_api_tokens_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "api_tokens_created_by_fkey": {
          "name": "api_tokens_created_by_fkey",
          "tableFrom": "api_tokens",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "api_tokens_org_id_fkey": {
          "name": "api_tokens_org_id_fkey",
          "tableFrom": "api_tokens",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "api_tokens_revoked_by_fkey": {
          "name": "api_tokens_revoked_by_fkey",
          "tableFrom": "api_tokens",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "revoked_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "api_tokens_org_isolation": {
          "name": "api_tokens_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = COALESCE(( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())), ((auth.jwt() ->> 'org_id'::text))::uuid))"
        }
      },
      "isRLSEnabled": true
    },
    "public.bulk_update_history": {
      "name": "bulk_update_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "update_type": {
          "name": "update_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "affected_user_ids": {
          "name": "affected_user_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": true
        },
        "changes": {
          "name": "changes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "previous_state": {
          "name": "previous_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "applied_by": {
          "name": "applied_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "applied_at": {
          "name": "applied_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "rolled_back_at": {
          "name": "rolled_back_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rolled_back_by": {
          "name": "rolled_back_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_bulk_update_history_applied": {
          "name": "idx_bulk_update_history_applied",
          "columns": [
            {
              "expression": "applied_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bulk_update_history_org": {
          "name": "idx_bulk_update_history_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "bulk_update_history_applied_by_fkey": {
          "name": "bulk_update_history_applied_by_fkey",
          "tableFrom": "bulk_update_history",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "applied_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bulk_update_history_org_id_fkey": {
          "name": "bulk_update_history_org_id_fkey",
          "tableFrom": "bulk_update_history",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "bulk_update_history_rolled_back_by_fkey": {
          "name": "bulk_update_history_rolled_back_by_fkey",
          "tableFrom": "bulk_update_history",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "rolled_back_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "bulk_update_history_valid_type": {
          "name": "bulk_update_history_valid_type",
          "value": "(update_type)::text = ANY ((ARRAY['enable_feature'::character varying, 'disable_feature'::character varying, 'change_scope'::character varying, 'add_permission'::character varying, 'remove_permission'::character varying])::text[])"
        }
      },
      "policies": {
        "bulk_update_history_org_isolation": {
          "name": "bulk_update_history_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = COALESCE(( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())), ((auth.jwt() ->> 'org_id'::text))::uuid))"
        }
      },
      "isRLSEnabled": true
    },
    "public.role_permissions": {
      "name": "role_permissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "permission_id": {
          "name": "permission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "scope_condition": {
          "name": "scope_condition",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'own'"
        },
        "granted": {
          "name": "granted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "granted_by": {
          "name": "granted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_role_permissions_permission_id": {
          "name": "idx_role_permissions_permission_id",
          "columns": [
            {
              "expression": "permission_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_role_permissions_role_id": {
          "name": "idx_role_permissions_role_id",
          "columns": [
            {
              "expression": "role_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "role_permissions_granted_by_fkey": {
          "name": "role_permissions_granted_by_fkey",
          "tableFrom": "role_permissions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "granted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "role_permissions_permission_id_fkey": {
          "name": "role_permissions_permission_id_fkey",
          "tableFrom": "role_permissions",
          "tableTo": "permissions",
          "schemaTo": "public",
          "columnsFrom": [
            "permission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "role_permissions_role_id_fkey": {
          "name": "role_permissions_role_id_fkey",
          "tableFrom": "role_permissions",
          "tableTo": "system_roles",
          "schemaTo": "public",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "role_permissions_role_id_permission_id_key": {
          "columns": [
            "role_id",
            "permission_id"
          ],
          "nullsNotDistinct": false,
          "name": "role_permissions_role_id_permission_id_key"
        }
      },
      "checkConstraints": {
        "role_permissions_valid_scope": {
          "name": "role_permissions_valid_scope",
          "value": "(scope_condition)::text = ANY ((ARRAY['own'::character varying, 'own_raci'::character varying, 'own_ra'::character varying, 'team'::character varying, 'region'::character varying, 'org'::character varying, 'draft_only'::character varying])::text[])"
        }
      },
      "policies": {
        "role_permissions_public_read": {
          "name": "role_permissions_public_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.permissions": {
      "name": "permissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "object_type": {
          "name": "object_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_permissions_action": {
          "name": "idx_permissions_action",
          "columns": [
            {
              "expression": "action",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_permissions_code": {
          "name": "idx_permissions_code",
          "columns": [
            {
              "expression": "code",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_permissions_object_type": {
          "name": "idx_permissions_object_type",
          "columns": [
            {
              "expression": "object_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "permissions_code_key": {
          "columns": [
            "code"
          ],
          "nullsNotDistinct": false,
          "name": "permissions_code_key"
        }
      },
      "checkConstraints": {
        "permissions_valid_action": {
          "name": "permissions_valid_action",
          "value": "(action)::text = ANY ((ARRAY['create'::character varying, 'read'::character varying, 'update'::character varying, 'delete'::character varying, 'approve'::character varying, 'reject'::character varying, 'export'::character varying, 'import'::character varying, 'manage'::character varying, 'assign'::character varying, 'send'::character varying, 'issue'::character varying, 'view'::character varying, 'use'::character varying, 'access'::character varying])::text[])"
        }
      },
      "policies": {
        "permissions_public_read": {
          "name": "permissions_public_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.ai_question_patterns": {
      "name": "ai_question_patterns",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "pattern_hash": {
          "name": "pattern_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "canonical_question": {
          "name": "canonical_question",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "occurrence_count": {
          "name": "occurrence_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "unique_students": {
          "name": "unique_students",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "avg_response_quality": {
          "name": "avg_response_quality",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "escalation_rate": {
          "name": "escalation_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "first_seen": {
          "name": "first_seen",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "last_seen": {
          "name": "last_seen",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_question_patterns_hash": {
          "name": "idx_question_patterns_hash",
          "columns": [
            {
              "expression": "pattern_hash",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_question_patterns_occurrence": {
          "name": "idx_question_patterns_occurrence",
          "columns": [
            {
              "expression": "occurrence_count",
              "asc": false,
              "nulls": "first",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_question_patterns_topic": {
          "name": "idx_question_patterns_topic",
          "columns": [
            {
              "expression": "topic_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_question_patterns_topic_id_fkey": {
          "name": "ai_question_patterns_topic_id_fkey",
          "tableFrom": "ai_question_patterns",
          "tableTo": "module_topics",
          "schemaTo": "public",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ai_question_patterns_pattern_hash_key": {
          "columns": [
            "pattern_hash"
          ],
          "nullsNotDistinct": false,
          "name": "ai_question_patterns_pattern_hash_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "question_patterns_select_admin": {
          "name": "question_patterns_select_admin",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (user_roles ur\n     JOIN roles r ON ((r.id = ur.role_id)))\n  WHERE ((ur.user_id = auth.uid()) AND (r.name = 'admin'::text))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.feature_flag_roles": {
      "name": "feature_flag_roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "feature_flag_id": {
          "name": "feature_flag_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_feature_flag_roles_flag": {
          "name": "idx_feature_flag_roles_flag",
          "columns": [
            {
              "expression": "feature_flag_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feature_flag_roles_role": {
          "name": "idx_feature_flag_roles_role",
          "columns": [
            {
              "expression": "role_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "feature_flag_roles_feature_flag_id_fkey": {
          "name": "feature_flag_roles_feature_flag_id_fkey",
          "tableFrom": "feature_flag_roles",
          "tableTo": "feature_flags",
          "schemaTo": "public",
          "columnsFrom": [
            "feature_flag_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "feature_flag_roles_role_id_fkey": {
          "name": "feature_flag_roles_role_id_fkey",
          "tableFrom": "feature_flag_roles",
          "tableTo": "system_roles",
          "schemaTo": "public",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "feature_flag_roles_feature_flag_id_role_id_key": {
          "columns": [
            "feature_flag_id",
            "role_id"
          ],
          "nullsNotDistinct": false,
          "name": "feature_flag_roles_feature_flag_id_role_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "feature_flag_roles_read": {
          "name": "feature_flag_roles_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.ai_prompt_variants": {
      "name": "ai_prompt_variants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "variant_name": {
          "name": "variant_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "system_prompt": {
          "name": "system_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "traffic_percentage": {
          "name": "traffic_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_uses": {
          "name": "total_uses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "avg_rating": {
          "name": "avg_rating",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "avg_response_time_ms": {
          "name": "avg_response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "avg_tokens_used": {
          "name": "avg_tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "escalation_count": {
          "name": "escalation_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deactivated_at": {
          "name": "deactivated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ai_prompt_variants_variant_name_key": {
          "columns": [
            "variant_name"
          ],
          "nullsNotDistinct": false,
          "name": "ai_prompt_variants_variant_name_key"
        }
      },
      "checkConstraints": {
        "ai_prompt_variants_traffic_percentage_check": {
          "name": "ai_prompt_variants_traffic_percentage_check",
          "value": "(traffic_percentage >= 0) AND (traffic_percentage <= 100)"
        }
      },
      "policies": {
        "prompt_variants_all_admin": {
          "name": "prompt_variants_all_admin",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (user_roles ur\n     JOIN roles r ON ((r.id = ur.role_id)))\n  WHERE ((ur.user_id = auth.uid()) AND (r.name = 'admin'::text))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.badges": {
      "name": "badges",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "icon_url": {
          "name": "icon_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "xp_reward": {
          "name": "xp_reward",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 50
        },
        "rarity": {
          "name": "rarity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_hidden": {
          "name": "is_hidden",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_threshold": {
          "name": "trigger_threshold",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_badges_rarity": {
          "name": "idx_badges_rarity",
          "columns": [
            {
              "expression": "rarity",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_badges_trigger_type": {
          "name": "idx_badges_trigger_type",
          "columns": [
            {
              "expression": "trigger_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "badges_slug_key": {
          "columns": [
            "slug"
          ],
          "nullsNotDistinct": false,
          "name": "badges_slug_key"
        }
      },
      "checkConstraints": {
        "badges_rarity_check": {
          "name": "badges_rarity_check",
          "value": "rarity = ANY (ARRAY['common'::text, 'rare'::text, 'epic'::text, 'legendary'::text])"
        },
        "badges_trigger_type_check": {
          "name": "badges_trigger_type_check",
          "value": "trigger_type = ANY (ARRAY['first_video'::text, 'first_quiz'::text, 'first_lab'::text, 'quiz_streak'::text, 'perfect_quiz'::text, 'lab_completion'::text, 'course_completion'::text, 'ai_mentor_usage'::text, 'help_others'::text, 'speed_demon'::text, 'night_owl'::text, 'early_bird'::text, 'consistency'::text, 'achievement_hunter'::text])"
        },
        "badges_xp_reward_check": {
          "name": "badges_xp_reward_check",
          "value": "xp_reward >= 0"
        }
      },
      "policies": {
        "badges_all_admin": {
          "name": "badges_all_admin",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (user_roles ur\n     JOIN roles r ON ((r.id = ur.role_id)))\n  WHERE ((ur.user_id = auth.uid()) AND (r.name = 'admin'::text))))"
        },
        "badges_select_all": {
          "name": "badges_select_all",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.user_badges": {
      "name": "user_badges",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "badge_id": {
          "name": "badge_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "earned_at": {
          "name": "earned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "progress_value": {
          "name": "progress_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_new": {
          "name": "is_new",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "viewed_at": {
          "name": "viewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "shared_at": {
          "name": "shared_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "share_count": {
          "name": "share_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {
        "idx_user_badges_badge": {
          "name": "idx_user_badges_badge",
          "columns": [
            {
              "expression": "badge_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_badges_earned": {
          "name": "idx_user_badges_earned",
          "columns": [
            {
              "expression": "earned_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_badges_new": {
          "name": "idx_user_badges_new",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "is_new",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_new = true)",
          "with": {}
        },
        "idx_user_badges_user": {
          "name": "idx_user_badges_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_badges_badge_id_fkey": {
          "name": "user_badges_badge_id_fkey",
          "tableFrom": "user_badges",
          "tableTo": "badges",
          "schemaTo": "public",
          "columnsFrom": [
            "badge_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_badges_user_id_fkey": {
          "name": "user_badges_user_id_fkey",
          "tableFrom": "user_badges",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_badges_user_id_badge_id_key": {
          "columns": [
            "user_id",
            "badge_id"
          ],
          "nullsNotDistinct": false,
          "name": "user_badges_user_id_badge_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "user_badges_select_own": {
          "name": "user_badges_select_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(user_id = auth.uid())"
        },
        "user_badges_update_own": {
          "name": "user_badges_update_own",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.system_settings": {
      "name": "system_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "key": {
          "name": "key",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "data_type": {
          "name": "data_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'string'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_value": {
          "name": "default_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "constraints": {
          "name": "constraints",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_sensitive": {
          "name": "is_sensitive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_system_settings_category": {
          "name": "idx_system_settings_category",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "system_settings_updated_by_fkey": {
          "name": "system_settings_updated_by_fkey",
          "tableFrom": "system_settings",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "system_settings_key_key": {
          "columns": [
            "key"
          ],
          "nullsNotDistinct": false,
          "name": "system_settings_key_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.workflow_states": {
      "name": "workflow_states",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workflow_id": {
          "name": "workflow_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state_order": {
          "name": "state_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "is_initial": {
          "name": "is_initial",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_terminal": {
          "name": "is_terminal",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "actions": {
          "name": "actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_workflow_states_terminal": {
          "name": "idx_workflow_states_terminal",
          "columns": [
            {
              "expression": "is_terminal",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_terminal = true)",
          "with": {}
        },
        "idx_workflow_states_workflow_id": {
          "name": "idx_workflow_states_workflow_id",
          "columns": [
            {
              "expression": "workflow_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workflow_states_workflow_id_fkey": {
          "name": "workflow_states_workflow_id_fkey",
          "tableFrom": "workflow_states",
          "tableTo": "workflows",
          "schemaTo": "public",
          "columnsFrom": [
            "workflow_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_state_name_per_workflow": {
          "columns": [
            "workflow_id",
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "unique_state_name_per_workflow"
        },
        "unique_state_order_per_workflow": {
          "columns": [
            "workflow_id",
            "state_order"
          ],
          "nullsNotDistinct": false,
          "name": "unique_state_order_per_workflow"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Only admins can modify workflow states": {
          "name": "Only admins can modify workflow states",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "user_is_admin()"
        },
        "Users can view workflow states": {
          "name": "Users can view workflow states",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.workflow_transitions": {
      "name": "workflow_transitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workflow_id": {
          "name": "workflow_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "from_state_id": {
          "name": "from_state_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "to_state_id": {
          "name": "to_state_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "required_permission": {
          "name": "required_permission",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "conditions": {
          "name": "conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "auto_transition": {
          "name": "auto_transition",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_workflow_transitions_action": {
          "name": "idx_workflow_transitions_action",
          "columns": [
            {
              "expression": "action",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workflow_transitions_from_state": {
          "name": "idx_workflow_transitions_from_state",
          "columns": [
            {
              "expression": "from_state_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workflow_transitions_workflow_id": {
          "name": "idx_workflow_transitions_workflow_id",
          "columns": [
            {
              "expression": "workflow_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workflow_transitions_from_state_id_fkey": {
          "name": "workflow_transitions_from_state_id_fkey",
          "tableFrom": "workflow_transitions",
          "tableTo": "workflow_states",
          "schemaTo": "public",
          "columnsFrom": [
            "from_state_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workflow_transitions_to_state_id_fkey": {
          "name": "workflow_transitions_to_state_id_fkey",
          "tableFrom": "workflow_transitions",
          "tableTo": "workflow_states",
          "schemaTo": "public",
          "columnsFrom": [
            "to_state_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workflow_transitions_workflow_id_fkey": {
          "name": "workflow_transitions_workflow_id_fkey",
          "tableFrom": "workflow_transitions",
          "tableTo": "workflows",
          "schemaTo": "public",
          "columnsFrom": [
            "workflow_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_transition_action": {
          "columns": [
            "workflow_id",
            "from_state_id",
            "action"
          ],
          "nullsNotDistinct": false,
          "name": "unique_transition_action"
        }
      },
      "checkConstraints": {
        "no_self_transition": {
          "name": "no_self_transition",
          "value": "from_state_id <> to_state_id"
        }
      },
      "policies": {
        "Only admins can modify workflow transitions": {
          "name": "Only admins can modify workflow transitions",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "user_is_admin()"
        },
        "Users can view workflow transitions": {
          "name": "Users can view workflow transitions",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.workflow_instances": {
      "name": "workflow_instances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_id": {
          "name": "workflow_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "current_state_id": {
          "name": "current_state_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_workflow_instances_current_state": {
          "name": "idx_workflow_instances_current_state",
          "columns": [
            {
              "expression": "current_state_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workflow_instances_entity": {
          "name": "idx_workflow_instances_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workflow_instances_org_id": {
          "name": "idx_workflow_instances_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workflow_instances_status": {
          "name": "idx_workflow_instances_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = 'active'::text)",
          "with": {}
        },
        "idx_workflow_instances_workflow_id": {
          "name": "idx_workflow_instances_workflow_id",
          "columns": [
            {
              "expression": "workflow_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workflow_instances_created_by_fkey": {
          "name": "workflow_instances_created_by_fkey",
          "tableFrom": "workflow_instances",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_instances_current_state_id_fkey": {
          "name": "workflow_instances_current_state_id_fkey",
          "tableFrom": "workflow_instances",
          "tableTo": "workflow_states",
          "schemaTo": "public",
          "columnsFrom": [
            "current_state_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_instances_org_id_fkey": {
          "name": "workflow_instances_org_id_fkey",
          "tableFrom": "workflow_instances",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workflow_instances_workflow_id_fkey": {
          "name": "workflow_instances_workflow_id_fkey",
          "tableFrom": "workflow_instances",
          "tableTo": "workflows",
          "schemaTo": "public",
          "columnsFrom": [
            "workflow_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_entity_workflow": {
          "columns": [
            "org_id",
            "workflow_id",
            "entity_type",
            "entity_id"
          ],
          "nullsNotDistinct": false,
          "name": "unique_entity_workflow"
        }
      },
      "checkConstraints": {
        "valid_status": {
          "name": "valid_status",
          "value": "status = ANY (ARRAY['active'::text, 'completed'::text, 'cancelled'::text, 'failed'::text])"
        }
      },
      "policies": {
        "Service role can update workflow instances": {
          "name": "Service role can update workflow instances",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ],
          "using": "true"
        },
        "Users can create workflow instances in their org": {
          "name": "Users can create workflow instances in their org",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Users can view workflow instances in their org": {
          "name": "Users can view workflow instances in their org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.workflow_history": {
      "name": "workflow_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workflow_instance_id": {
          "name": "workflow_instance_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "from_state_id": {
          "name": "from_state_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "to_state_id": {
          "name": "to_state_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "performed_by": {
          "name": "performed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_workflow_history_created_at": {
          "name": "idx_workflow_history_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workflow_history_instance_id": {
          "name": "idx_workflow_history_instance_id",
          "columns": [
            {
              "expression": "workflow_instance_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workflow_history_performed_by": {
          "name": "idx_workflow_history_performed_by",
          "columns": [
            {
              "expression": "performed_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workflow_history_from_state_id_fkey": {
          "name": "workflow_history_from_state_id_fkey",
          "tableFrom": "workflow_history",
          "tableTo": "workflow_states",
          "schemaTo": "public",
          "columnsFrom": [
            "from_state_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_history_performed_by_fkey": {
          "name": "workflow_history_performed_by_fkey",
          "tableFrom": "workflow_history",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "performed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_history_to_state_id_fkey": {
          "name": "workflow_history_to_state_id_fkey",
          "tableFrom": "workflow_history",
          "tableTo": "workflow_states",
          "schemaTo": "public",
          "columnsFrom": [
            "to_state_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_history_workflow_instance_id_fkey": {
          "name": "workflow_history_workflow_instance_id_fkey",
          "tableFrom": "workflow_history",
          "tableTo": "workflow_instances",
          "schemaTo": "public",
          "columnsFrom": [
            "workflow_instance_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Service role can insert workflow history": {
          "name": "Service role can insert workflow history",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "true"
        },
        "Users can view workflow history for their org instances": {
          "name": "Users can view workflow history for their org instances",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.file_uploads": {
      "name": "file_uploads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "bucket": {
          "name": "bucket",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "idx_file_uploads_bucket": {
          "name": "idx_file_uploads_bucket",
          "columns": [
            {
              "expression": "bucket",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_file_uploads_entity": {
          "name": "idx_file_uploads_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_file_uploads_not_deleted": {
          "name": "idx_file_uploads_not_deleted",
          "columns": [
            {
              "expression": "deleted_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_file_uploads_org_id": {
          "name": "idx_file_uploads_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_file_uploads_uploaded_by": {
          "name": "idx_file_uploads_uploaded_by",
          "columns": [
            {
              "expression": "uploaded_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "file_uploads_org_id_fkey": {
          "name": "file_uploads_org_id_fkey",
          "tableFrom": "file_uploads",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "file_uploads_uploaded_by_fkey": {
          "name": "file_uploads_uploaded_by_fkey",
          "tableFrom": "file_uploads",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_file_path": {
          "columns": [
            "bucket",
            "file_path"
          ],
          "nullsNotDistinct": false,
          "name": "unique_file_path"
        }
      },
      "checkConstraints": {
        "valid_bucket": {
          "name": "valid_bucket",
          "value": "bucket = ANY (ARRAY['avatars'::text, 'resumes'::text, 'documents'::text, 'attachments'::text, 'course-materials'::text])"
        }
      },
      "policies": {
        "Users can soft-delete their own files": {
          "name": "Users can soft-delete their own files",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ],
          "withCheck": "((org_id = auth_user_org_id()) AND (uploaded_by = auth_user_id()))",
          "using": "((org_id = auth_user_org_id()) AND (uploaded_by = auth_user_id()))"
        },
        "Users can upload files to their org": {
          "name": "Users can upload files to their org",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Users can view files in their org": {
          "name": "Users can view files in their org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "file_uploads_org_isolation": {
          "name": "file_uploads_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.document_templates": {
      "name": "document_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "template_type": {
          "name": "template_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "template_content": {
          "name": "template_content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "variables": {
          "name": "variables",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "sample_data": {
          "name": "sample_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_document_templates_active": {
          "name": "idx_document_templates_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_document_templates_category": {
          "name": "idx_document_templates_category",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_templates_org_id": {
          "name": "idx_document_templates_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_templates_type": {
          "name": "idx_document_templates_type",
          "columns": [
            {
              "expression": "template_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "document_templates_created_by_fkey": {
          "name": "document_templates_created_by_fkey",
          "tableFrom": "document_templates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "document_templates_org_id_fkey": {
          "name": "document_templates_org_id_fkey",
          "tableFrom": "document_templates",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_template_name_per_org": {
          "columns": [
            "org_id",
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "unique_template_name_per_org"
        }
      },
      "checkConstraints": {
        "valid_template_type": {
          "name": "valid_template_type",
          "value": "template_type = ANY (ARRAY['pdf'::text, 'docx'::text, 'html'::text])"
        }
      },
      "policies": {
        "Only admins can create templates": {
          "name": "Only admins can create templates",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "user_is_admin()"
        },
        "Only admins can delete templates": {
          "name": "Only admins can delete templates",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        },
        "Only admins can update templates": {
          "name": "Only admins can update templates",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Users can view templates in their org": {
          "name": "Users can view templates in their org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.generated_documents": {
      "name": "generated_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "generated_by": {
          "name": "generated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "idx_generated_documents_entity": {
          "name": "idx_generated_documents_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_generated_documents_generated_at": {
          "name": "idx_generated_documents_generated_at",
          "columns": [
            {
              "expression": "generated_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_generated_documents_org_id": {
          "name": "idx_generated_documents_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_generated_documents_template_id": {
          "name": "idx_generated_documents_template_id",
          "columns": [
            {
              "expression": "template_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "generated_documents_generated_by_fkey": {
          "name": "generated_documents_generated_by_fkey",
          "tableFrom": "generated_documents",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "generated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "generated_documents_org_id_fkey": {
          "name": "generated_documents_org_id_fkey",
          "tableFrom": "generated_documents",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "generated_documents_template_id_fkey": {
          "name": "generated_documents_template_id_fkey",
          "tableFrom": "generated_documents",
          "tableTo": "document_templates",
          "schemaTo": "public",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "valid_mime_type": {
          "name": "valid_mime_type",
          "value": "mime_type = ANY (ARRAY['application/pdf'::text, 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'::text])"
        }
      },
      "policies": {
        "Users can create generated documents in their org": {
          "name": "Users can create generated documents in their org",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "(org_id = auth_user_org_id())"
        },
        "Users can view generated documents in their org": {
          "name": "Users can view generated documents in their org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.workflows": {
      "name": "workflows",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "initial_state_id": {
          "name": "initial_state_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "definition": {
          "name": "definition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "idx_workflows_active": {
          "name": "idx_workflows_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_workflows_definition_actions": {
          "name": "idx_workflows_definition_actions",
          "columns": [
            {
              "expression": "((definition -> 'actions'::text))",
              "asc": true,
              "nulls": "last",
              "opclass": "jsonb_ops",
              "isExpression": true
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_workflows_definition_triggers": {
          "name": "idx_workflows_definition_triggers",
          "columns": [
            {
              "expression": "((definition -> 'triggers'::text))",
              "asc": true,
              "nulls": "last",
              "opclass": "jsonb_ops",
              "isExpression": true
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_workflows_entity_type": {
          "name": "idx_workflows_entity_type",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workflows_org_id": {
          "name": "idx_workflows_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workflows_created_by_fkey": {
          "name": "workflows_created_by_fkey",
          "tableFrom": "workflows",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflows_org_id_fkey": {
          "name": "workflows_org_id_fkey",
          "tableFrom": "workflows",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_workflow_name_per_org": {
          "columns": [
            "org_id",
            "name",
            "version"
          ],
          "nullsNotDistinct": false,
          "name": "unique_workflow_name_per_org"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Only admins can create workflows": {
          "name": "Only admins can create workflows",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "user_is_admin()"
        },
        "Only admins can delete workflows": {
          "name": "Only admins can delete workflows",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        },
        "Only admins can update workflows": {
          "name": "Only admins can update workflows",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Users can view workflows in their org": {
          "name": "Users can view workflows in their org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.email_logs": {
      "name": "email_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "to_email": {
          "name": "to_email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cc_email": {
          "name": "cc_email",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "bcc_email": {
          "name": "bcc_email",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "resend_id": {
          "name": "resend_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "opened_at": {
          "name": "opened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "clicked_at": {
          "name": "clicked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_email_logs_org_id": {
          "name": "idx_email_logs_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_logs_resend_id": {
          "name": "idx_email_logs_resend_id",
          "columns": [
            {
              "expression": "resend_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(resend_id IS NOT NULL)",
          "with": {}
        },
        "idx_email_logs_sent_at": {
          "name": "idx_email_logs_sent_at",
          "columns": [
            {
              "expression": "sent_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_logs_status": {
          "name": "idx_email_logs_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_logs_template_id": {
          "name": "idx_email_logs_template_id",
          "columns": [
            {
              "expression": "template_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_logs_to_email": {
          "name": "idx_email_logs_to_email",
          "columns": [
            {
              "expression": "to_email",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "email_logs_org_id_fkey": {
          "name": "email_logs_org_id_fkey",
          "tableFrom": "email_logs",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "email_logs_template_id_fkey": {
          "name": "email_logs_template_id_fkey",
          "tableFrom": "email_logs",
          "tableTo": "email_templates",
          "schemaTo": "public",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "valid_email_status": {
          "name": "valid_email_status",
          "value": "status = ANY (ARRAY['pending'::text, 'sent'::text, 'failed'::text, 'bounced'::text, 'opened'::text, 'clicked'::text])"
        }
      },
      "policies": {
        "Service role can insert email logs": {
          "name": "Service role can insert email logs",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "true"
        },
        "Service role can update email logs": {
          "name": "Service role can update email logs",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Users can view email logs in their org": {
          "name": "Users can view email logs in their org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.background_jobs": {
      "name": "background_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_type": {
          "name": "job_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "attempts": {
          "name": "attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_background_jobs_failed": {
          "name": "idx_background_jobs_failed",
          "columns": [
            {
              "expression": "attempts",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status = 'failed'::text) AND (attempts < max_attempts))",
          "with": {}
        },
        "idx_background_jobs_job_type": {
          "name": "idx_background_jobs_job_type",
          "columns": [
            {
              "expression": "job_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_background_jobs_org_id": {
          "name": "idx_background_jobs_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_background_jobs_pending": {
          "name": "idx_background_jobs_pending",
          "columns": [
            {
              "expression": "priority",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = 'pending'::text)",
          "with": {}
        },
        "idx_background_jobs_status": {
          "name": "idx_background_jobs_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "background_jobs_created_by_fkey": {
          "name": "background_jobs_created_by_fkey",
          "tableFrom": "background_jobs",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "background_jobs_org_id_fkey": {
          "name": "background_jobs_org_id_fkey",
          "tableFrom": "background_jobs",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "valid_job_status": {
          "name": "valid_job_status",
          "value": "status = ANY (ARRAY['pending'::text, 'processing'::text, 'completed'::text, 'failed'::text])"
        },
        "valid_job_type": {
          "name": "valid_job_type",
          "value": "job_type = ANY (ARRAY['generate_document'::text, 'send_email'::text, 'send_bulk_email'::text, 'import_data'::text, 'export_data'::text])"
        },
        "valid_priority": {
          "name": "valid_priority",
          "value": "(priority >= 1) AND (priority <= 10)"
        }
      },
      "policies": {
        "Service role can update jobs": {
          "name": "Service role can update jobs",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ],
          "using": "true"
        },
        "Users can create jobs in their org": {
          "name": "Users can create jobs in their org",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Users can view jobs in their org": {
          "name": "Users can view jobs in their org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.pricing_plans": {
      "name": "pricing_plans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "plan_type": {
          "name": "plan_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "price_monthly": {
          "name": "price_monthly",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "price_annual": {
          "name": "price_annual",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "price_one_time": {
          "name": "price_one_time",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_price_id_monthly": {
          "name": "stripe_price_id_monthly",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_price_id_annual": {
          "name": "stripe_price_id_annual",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_price_id_one_time": {
          "name": "stripe_price_id_one_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_product_id": {
          "name": "stripe_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "features": {
          "name": "features",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "max_courses": {
          "name": "max_courses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_users": {
          "name": "max_users",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_featured": {
          "name": "is_featured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "badge_text": {
          "name": "badge_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_pricing_plans_active": {
          "name": "idx_pricing_plans_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_pricing_plans_plan_type": {
          "name": "idx_pricing_plans_plan_type",
          "columns": [
            {
              "expression": "plan_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_pricing_plans_slug": {
          "name": "idx_pricing_plans_slug",
          "columns": [
            {
              "expression": "slug",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "pricing_plans_name_key": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "pricing_plans_name_key"
        },
        "pricing_plans_slug_key": {
          "columns": [
            "slug"
          ],
          "nullsNotDistinct": false,
          "name": "pricing_plans_slug_key"
        }
      },
      "checkConstraints": {
        "pricing_plans_plan_type_check": {
          "name": "pricing_plans_plan_type_check",
          "value": "plan_type = ANY (ARRAY['per_course'::text, 'all_access'::text, 'team'::text, 'enterprise'::text])"
        }
      },
      "policies": {
        "pricing_plans_admin_all": {
          "name": "pricing_plans_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (user_roles ur\n     JOIN roles r ON ((r.id = ur.role_id)))\n  WHERE ((ur.user_id = auth.uid()) AND (r.name = ANY (ARRAY['admin'::text, 'super_admin'::text])))))"
        },
        "pricing_plans_public_read": {
          "name": "pricing_plans_public_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.discount_codes": {
      "name": "discount_codes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "discount_type": {
          "name": "discount_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discount_value": {
          "name": "discount_value",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "max_uses": {
          "name": "max_uses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "uses_count": {
          "name": "uses_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "max_uses_per_user": {
          "name": "max_uses_per_user",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "applicable_plan_types": {
          "name": "applicable_plan_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "applicable_course_ids": {
          "name": "applicable_course_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "minimum_purchase_amount": {
          "name": "minimum_purchase_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_coupon_id": {
          "name": "stripe_coupon_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_promotion_code_id": {
          "name": "stripe_promotion_code_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_discount_codes_active": {
          "name": "idx_discount_codes_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "valid_from",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "valid_until",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_discount_codes_code": {
          "name": "idx_discount_codes_code",
          "columns": [
            {
              "expression": "code",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((deleted_at IS NULL) AND (is_active = true))",
          "with": {}
        },
        "idx_discount_codes_validity": {
          "name": "idx_discount_codes_validity",
          "columns": [
            {
              "expression": "valid_from",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "valid_until",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((deleted_at IS NULL) AND (is_active = true))",
          "with": {}
        }
      },
      "foreignKeys": {
        "discount_codes_created_by_fkey": {
          "name": "discount_codes_created_by_fkey",
          "tableFrom": "discount_codes",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "discount_codes_code_key": {
          "columns": [
            "code"
          ],
          "nullsNotDistinct": false,
          "name": "discount_codes_code_key"
        }
      },
      "checkConstraints": {
        "discount_codes_discount_type_check": {
          "name": "discount_codes_discount_type_check",
          "value": "discount_type = ANY (ARRAY['percentage'::text, 'fixed'::text])"
        },
        "discount_codes_discount_value_check": {
          "name": "discount_codes_discount_value_check",
          "value": "discount_value > (0)::numeric"
        },
        "discount_codes_uses_count_check": {
          "name": "discount_codes_uses_count_check",
          "value": "uses_count >= 0"
        }
      },
      "policies": {
        "discount_codes_admin_all": {
          "name": "discount_codes_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (user_roles ur\n     JOIN roles r ON ((r.id = ur.role_id)))\n  WHERE ((ur.user_id = auth.uid()) AND (r.name = ANY (ARRAY['admin'::text, 'super_admin'::text])))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.student_interventions": {
      "name": "student_interventions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "student_id": {
          "name": "student_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "risk_level": {
          "name": "risk_level",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "risk_reasons": {
          "name": "risk_reasons",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "intervention_type": {
          "name": "intervention_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_trainer_id": {
          "name": "assigned_trainer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "trainer_notes": {
          "name": "trainer_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_notes": {
          "name": "resolution_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "outcome": {
          "name": "outcome",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_student_interventions_created": {
          "name": "idx_student_interventions_created",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_student_interventions_enrollment": {
          "name": "idx_student_interventions_enrollment",
          "columns": [
            {
              "expression": "enrollment_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_student_interventions_status": {
          "name": "idx_student_interventions_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_student_interventions_student": {
          "name": "idx_student_interventions_student",
          "columns": [
            {
              "expression": "student_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_student_interventions_trainer": {
          "name": "idx_student_interventions_trainer",
          "columns": [
            {
              "expression": "assigned_trainer_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((deleted_at IS NULL) AND (status = ANY (ARRAY['pending'::text, 'in_progress'::text])))",
          "with": {}
        }
      },
      "foreignKeys": {
        "student_interventions_assigned_trainer_id_fkey": {
          "name": "student_interventions_assigned_trainer_id_fkey",
          "tableFrom": "student_interventions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "assigned_trainer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "student_interventions_course_id_fkey": {
          "name": "student_interventions_course_id_fkey",
          "tableFrom": "student_interventions",
          "tableTo": "courses",
          "schemaTo": "public",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_interventions_enrollment_id_fkey": {
          "name": "student_interventions_enrollment_id_fkey",
          "tableFrom": "student_interventions",
          "tableTo": "student_enrollments",
          "schemaTo": "public",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "student_interventions_student_id_fkey": {
          "name": "student_interventions_student_id_fkey",
          "tableFrom": "student_interventions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "student_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "student_interventions_intervention_type_check": {
          "name": "student_interventions_intervention_type_check",
          "value": "intervention_type = ANY (ARRAY['automated_email'::text, 'trainer_notification'::text, 'one_on_one_scheduled'::text, 'mentor_assigned'::text, 'resource_recommended'::text, 'deadline_extended'::text, 'other'::text])"
        },
        "student_interventions_outcome_check": {
          "name": "student_interventions_outcome_check",
          "value": "outcome = ANY (ARRAY['student_improved'::text, 'student_completed'::text, 'student_dropped'::text, 'false_positive'::text, 'needs_escalation'::text])"
        },
        "student_interventions_risk_level_check": {
          "name": "student_interventions_risk_level_check",
          "value": "risk_level = ANY (ARRAY['low'::text, 'medium'::text, 'high'::text])"
        },
        "student_interventions_status_check": {
          "name": "student_interventions_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'in_progress'::text, 'resolved'::text, 'escalated'::text, 'dismissed'::text])"
        },
        "valid_assignment": {
          "name": "valid_assignment",
          "value": "((assigned_trainer_id IS NULL) AND (assigned_at IS NULL)) OR ((assigned_trainer_id IS NOT NULL) AND (assigned_at IS NOT NULL))"
        },
        "valid_resolution": {
          "name": "valid_resolution",
          "value": "((status <> 'resolved'::text) AND (resolved_at IS NULL)) OR ((status = 'resolved'::text) AND (resolved_at IS NOT NULL))"
        }
      },
      "policies": {
        "Only admins can delete interventions": {
          "name": "Only admins can delete interventions",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (user_roles ur\n     JOIN roles r ON ((r.id = ur.role_id)))\n  WHERE ((ur.user_id = auth.uid()) AND (r.name = ANY (ARRAY['admin'::text, 'super_admin'::text])))))"
        },
        "Students can view own interventions": {
          "name": "Students can view own interventions",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Trainers and admins can create interventions": {
          "name": "Trainers and admins can create interventions",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Trainers and admins can view all interventions": {
          "name": "Trainers and admins can view all interventions",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Trainers can update assigned interventions": {
          "name": "Trainers can update assigned interventions",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.student_enrollments": {
      "name": "student_enrollments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "enrolled_at": {
          "name": "enrolled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "dropped_at": {
          "name": "dropped_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "payment_id": {
          "name": "payment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_amount": {
          "name": "payment_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "payment_type": {
          "name": "payment_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_module_id": {
          "name": "current_module_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "current_topic_id": {
          "name": "current_topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "completion_percentage": {
          "name": "completion_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "enrollment_source": {
          "name": "enrollment_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "is_at_risk": {
          "name": "is_at_risk",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "at_risk_since": {
          "name": "at_risk_since",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "risk_level": {
          "name": "risk_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "risk_reasons": {
          "name": "risk_reasons",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_enrollments_active": {
          "name": "idx_enrollments_active",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = 'active'::text)",
          "with": {}
        },
        "idx_enrollments_course_id": {
          "name": "idx_enrollments_course_id",
          "columns": [
            {
              "expression": "course_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_enrollments_payment": {
          "name": "idx_enrollments_payment",
          "columns": [
            {
              "expression": "payment_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(payment_id IS NOT NULL)",
          "with": {}
        },
        "idx_enrollments_status": {
          "name": "idx_enrollments_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_enrollments_user_id": {
          "name": "idx_enrollments_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_student_enrollments_at_risk": {
          "name": "idx_student_enrollments_at_risk",
          "columns": [
            {
              "expression": "is_at_risk",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "risk_level",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_at_risk = true)",
          "with": {}
        },
        "idx_student_enrollments_enrolled_month": {
          "name": "idx_student_enrollments_enrolled_month",
          "columns": [
            {
              "expression": "course_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "enrolled_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "student_enrollments_course_id_fkey": {
          "name": "student_enrollments_course_id_fkey",
          "tableFrom": "student_enrollments",
          "tableTo": "courses",
          "schemaTo": "public",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        },
        "student_enrollments_current_module_id_fkey": {
          "name": "student_enrollments_current_module_id_fkey",
          "tableFrom": "student_enrollments",
          "tableTo": "course_modules",
          "schemaTo": "public",
          "columnsFrom": [
            "current_module_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "student_enrollments_current_topic_id_fkey": {
          "name": "student_enrollments_current_topic_id_fkey",
          "tableFrom": "student_enrollments",
          "tableTo": "module_topics",
          "schemaTo": "public",
          "columnsFrom": [
            "current_topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "student_enrollments_user_id_fkey": {
          "name": "student_enrollments_user_id_fkey",
          "tableFrom": "student_enrollments",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_user_course_enrollment": {
          "columns": [
            "user_id",
            "course_id"
          ],
          "nullsNotDistinct": false,
          "name": "unique_user_course_enrollment"
        }
      },
      "checkConstraints": {
        "student_enrollments_completion_percentage_check": {
          "name": "student_enrollments_completion_percentage_check",
          "value": "(completion_percentage >= 0) AND (completion_percentage <= 100)"
        },
        "student_enrollments_payment_type_check": {
          "name": "student_enrollments_payment_type_check",
          "value": "payment_type = ANY (ARRAY['subscription'::text, 'one_time'::text, 'free'::text, 'scholarship'::text])"
        },
        "student_enrollments_risk_level_check": {
          "name": "student_enrollments_risk_level_check",
          "value": "risk_level = ANY (ARRAY['low'::text, 'medium'::text, 'high'::text])"
        },
        "student_enrollments_status_check": {
          "name": "student_enrollments_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'active'::text, 'completed'::text, 'dropped'::text, 'expired'::text])"
        },
        "valid_dates": {
          "name": "valid_dates",
          "value": "((completed_at IS NULL) OR (completed_at >= enrolled_at)) AND ((dropped_at IS NULL) OR (dropped_at >= enrolled_at))"
        }
      },
      "policies": {
        "Admins create enrollments": {
          "name": "Admins create enrollments",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "(EXISTS ( SELECT 1\n   FROM user_roles\n  WHERE ((user_roles.user_id = auth.uid()) AND (user_roles.role_id IN ( SELECT roles.id\n           FROM roles\n          WHERE (roles.name = ANY (ARRAY['admin'::text, 'course_admin'::text])))))))"
        },
        "Students update own enrollments": {
          "name": "Students update own enrollments",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Students view own enrollments": {
          "name": "Students view own enrollments",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.discount_code_usage": {
      "name": "discount_code_usage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "discount_code_id": {
          "name": "discount_code_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "original_amount": {
          "name": "original_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "discount_amount": {
          "name": "discount_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "final_amount": {
          "name": "final_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_payment_intent_id": {
          "name": "stripe_payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_discount_usage_code": {
          "name": "idx_discount_usage_code",
          "columns": [
            {
              "expression": "discount_code_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_discount_usage_enrollment": {
          "name": "idx_discount_usage_enrollment",
          "columns": [
            {
              "expression": "enrollment_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_discount_usage_user": {
          "name": "idx_discount_usage_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_discount_usage_user_code": {
          "name": "idx_discount_usage_user_code",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "discount_code_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "discount_code_usage_discount_code_id_fkey": {
          "name": "discount_code_usage_discount_code_id_fkey",
          "tableFrom": "discount_code_usage",
          "tableTo": "discount_codes",
          "schemaTo": "public",
          "columnsFrom": [
            "discount_code_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "discount_code_usage_enrollment_id_fkey": {
          "name": "discount_code_usage_enrollment_id_fkey",
          "tableFrom": "discount_code_usage",
          "tableTo": "student_enrollments",
          "schemaTo": "public",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_code_usage_user_id_fkey": {
          "name": "discount_code_usage_user_id_fkey",
          "tableFrom": "discount_code_usage",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "discount_usage_admin_all": {
          "name": "discount_usage_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (user_roles ur\n     JOIN roles r ON ((r.id = ur.role_id)))\n  WHERE ((ur.user_id = auth.uid()) AND (r.name = ANY (ARRAY['admin'::text, 'super_admin'::text])))))"
        },
        "discount_usage_own_read": {
          "name": "discount_usage_own_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.course_pricing": {
      "name": "course_pricing",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "price_monthly": {
          "name": "price_monthly",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "price_annual": {
          "name": "price_annual",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "price_one_time": {
          "name": "price_one_time",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_price_id_monthly": {
          "name": "stripe_price_id_monthly",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_price_id_annual": {
          "name": "stripe_price_id_annual",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_price_id_one_time": {
          "name": "stripe_price_id_one_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_product_id": {
          "name": "stripe_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "early_bird_price": {
          "name": "early_bird_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "early_bird_valid_until": {
          "name": "early_bird_valid_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "scholarship_available": {
          "name": "scholarship_available",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "scholarship_criteria": {
          "name": "scholarship_criteria",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "team_discount_percentage": {
          "name": "team_discount_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "min_team_size": {
          "name": "min_team_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_course_pricing_course": {
          "name": "idx_course_pricing_course",
          "columns": [
            {
              "expression": "course_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_course_pricing_early_bird": {
          "name": "idx_course_pricing_early_bird",
          "columns": [
            {
              "expression": "early_bird_valid_until",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(early_bird_price IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "course_pricing_course_id_fkey": {
          "name": "course_pricing_course_id_fkey",
          "tableFrom": "course_pricing",
          "tableTo": "courses",
          "schemaTo": "public",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "course_pricing_course_id_key": {
          "columns": [
            "course_id"
          ],
          "nullsNotDistinct": false,
          "name": "course_pricing_course_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "course_pricing_admin_all": {
          "name": "course_pricing_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM (user_roles ur\n     JOIN roles r ON ((r.id = ur.role_id)))\n  WHERE ((ur.user_id = auth.uid()) AND (r.name = ANY (ARRAY['admin'::text, 'super_admin'::text])))))"
        },
        "course_pricing_public_read": {
          "name": "course_pricing_public_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.organization_settings": {
      "name": "organization_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_org_settings_category": {
          "name": "idx_org_settings_category",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_org_settings_org": {
          "name": "idx_org_settings_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "organization_settings_org_id_fkey": {
          "name": "organization_settings_org_id_fkey",
          "tableFrom": "organization_settings",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "organization_settings_updated_by_fkey": {
          "name": "organization_settings_updated_by_fkey",
          "tableFrom": "organization_settings",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "organization_settings_org_id_key_key": {
          "columns": [
            "org_id",
            "key"
          ],
          "nullsNotDistinct": false,
          "name": "organization_settings_org_id_key_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Users can manage their org settings": {
          "name": "Users can manage their org settings",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id = auth_user_org_id()) OR user_is_admin())"
        },
        "Users can view their org settings": {
          "name": "Users can view their org settings",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.contact_lead_data": {
      "name": "contact_lead_data",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "lead_score": {
          "name": "lead_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "lead_status": {
          "name": "lead_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'new'"
        },
        "qualification_status": {
          "name": "qualification_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "budget_confirmed": {
          "name": "budget_confirmed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "authority_confirmed": {
          "name": "authority_confirmed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "need_confirmed": {
          "name": "need_confirmed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "timeline_confirmed": {
          "name": "timeline_confirmed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "estimated_value": {
          "name": "estimated_value",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_close_date": {
          "name": "estimated_close_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "converted_to_deal_id": {
          "name": "converted_to_deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "converted_to_account_id": {
          "name": "converted_to_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "converted_at": {
          "name": "converted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "lost_reason": {
          "name": "lost_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_campaign_id": {
          "name": "source_campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_contact_lead_data_contact_id": {
          "name": "idx_contact_lead_data_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contact_lead_data_status": {
          "name": "idx_contact_lead_data_status",
          "columns": [
            {
              "expression": "lead_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "contact_lead_data_contact_id_fkey": {
          "name": "contact_lead_data_contact_id_fkey",
          "tableFrom": "contact_lead_data",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_lead_data_source_campaign_id_fkey": {
          "name": "contact_lead_data_source_campaign_id_fkey",
          "tableFrom": "contact_lead_data",
          "tableTo": "campaigns",
          "schemaTo": "public",
          "columnsFrom": [
            "source_campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "contact_lead_data_contact_id_key": {
          "columns": [
            "contact_id"
          ],
          "nullsNotDistinct": false,
          "name": "contact_lead_data_contact_id_key"
        }
      },
      "checkConstraints": {
        "contact_lead_data_lead_score_check": {
          "name": "contact_lead_data_lead_score_check",
          "value": "(lead_score >= 0) AND (lead_score <= 100)"
        },
        "contact_lead_data_lead_status_check": {
          "name": "contact_lead_data_lead_status_check",
          "value": "lead_status = ANY (ARRAY['new'::text, 'warm'::text, 'hot'::text, 'cold'::text, 'qualified'::text, 'unqualified'::text, 'converted'::text, 'lost'::text])"
        },
        "contact_lead_data_qualification_status_check": {
          "name": "contact_lead_data_qualification_status_check",
          "value": "qualification_status = ANY (ARRAY['unqualified'::text, 'marketing_qualified'::text, 'sales_qualified'::text, 'opportunity'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": true
    },
    "public.comments": {
      "name": "comments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parent_comment_id": {
          "name": "parent_comment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reply_count": {
          "name": "reply_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "author_id": {
          "name": "author_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "mentioned_user_ids": {
          "name": "mentioned_user_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "reactions": {
          "name": "reactions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_edited": {
          "name": "is_edited",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "edited_at": {
          "name": "edited_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "original_content": {
          "name": "original_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_comments_author": {
          "name": "idx_comments_author",
          "columns": [
            {
              "expression": "author_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_comments_created": {
          "name": "idx_comments_created",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_comments_entity": {
          "name": "idx_comments_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(NOT is_deleted)",
          "with": {}
        },
        "idx_comments_org": {
          "name": "idx_comments_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_comments_parent": {
          "name": "idx_comments_parent",
          "columns": [
            {
              "expression": "parent_comment_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "comments_author_id_fkey": {
          "name": "comments_author_id_fkey",
          "tableFrom": "comments",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "author_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "comments_deleted_by_fkey": {
          "name": "comments_deleted_by_fkey",
          "tableFrom": "comments",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "comments_org_id_fkey": {
          "name": "comments_org_id_fkey",
          "tableFrom": "comments",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "comments_parent_comment_id_fkey": {
          "name": "comments_parent_comment_id_fkey",
          "tableFrom": "comments",
          "tableTo": "comments",
          "schemaTo": "public",
          "columnsFrom": [
            "parent_comment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "comments_create_employee": {
          "name": "comments_create_employee",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "((author_id = auth.uid()) AND (auth_has_role('employee'::text) OR auth_has_role('admin'::text)))"
        },
        "comments_delete_own_or_admin": {
          "name": "comments_delete_own_or_admin",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        },
        "comments_org_isolation": {
          "name": "comments_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        },
        "comments_read_all": {
          "name": "comments_read_all",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "comments_update_own": {
          "name": "comments_update_own",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.lead_tasks": {
      "name": "lead_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "completed": {
          "name": "completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_by": {
          "name": "completed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_lead_tasks_completed": {
          "name": "idx_lead_tasks_completed",
          "columns": [
            {
              "expression": "completed",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(NOT completed)",
          "with": {}
        },
        "idx_lead_tasks_due_date": {
          "name": "idx_lead_tasks_due_date",
          "columns": [
            {
              "expression": "due_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lead_tasks_lead_id": {
          "name": "idx_lead_tasks_lead_id",
          "columns": [
            {
              "expression": "lead_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lead_tasks_org_id": {
          "name": "idx_lead_tasks_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lead_tasks_assigned_to_fkey": {
          "name": "lead_tasks_assigned_to_fkey",
          "tableFrom": "lead_tasks",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lead_tasks_completed_by_fkey": {
          "name": "lead_tasks_completed_by_fkey",
          "tableFrom": "lead_tasks",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "completed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lead_tasks_created_by_fkey": {
          "name": "lead_tasks_created_by_fkey",
          "tableFrom": "lead_tasks",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lead_tasks_lead_id_fkey": {
          "name": "lead_tasks_lead_id_fkey",
          "tableFrom": "lead_tasks",
          "tableTo": "leads",
          "schemaTo": "public",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lead_tasks_org_id_fkey": {
          "name": "lead_tasks_org_id_fkey",
          "tableFrom": "lead_tasks",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "lead_tasks_priority_check": {
          "name": "lead_tasks_priority_check",
          "value": "priority = ANY (ARRAY['low'::text, 'medium'::text, 'high'::text])"
        }
      },
      "policies": {
        "lead_tasks_org_isolation": {
          "name": "lead_tasks_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid())))"
        }
      },
      "isRLSEnabled": true
    },
    "public.notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "notification_type": {
          "name": "notification_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "channels": {
          "name": "channels",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"RAY['in_app'::tex\"}'"
        },
        "email_sent_at": {
          "name": "email_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "email_error": {
          "name": "email_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "slack_sent_at": {
          "name": "slack_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "slack_error": {
          "name": "slack_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_archived": {
          "name": "is_archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'normal'"
        },
        "action_url": {
          "name": "action_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action_label": {
          "name": "action_label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_notifications_created": {
          "name": "idx_notifications_created",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notifications_entity": {
          "name": "idx_notifications_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notifications_org": {
          "name": "idx_notifications_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notifications_type": {
          "name": "idx_notifications_type",
          "columns": [
            {
              "expression": "notification_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notifications_user": {
          "name": "idx_notifications_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notifications_user_unread": {
          "name": "idx_notifications_user_unread",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "is_read",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((NOT is_read) AND (NOT is_archived))",
          "with": {}
        }
      },
      "foreignKeys": {
        "notifications_org_id_fkey": {
          "name": "notifications_org_id_fkey",
          "tableFrom": "notifications",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "notifications_user_id_fkey": {
          "name": "notifications_user_id_fkey",
          "tableFrom": "notifications",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "notifications_org_isolation": {
          "name": "notifications_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        },
        "notifications_system_create": {
          "name": "notifications_system_create",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "notifications_user_own": {
          "name": "notifications_user_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "notifications_user_update_own": {
          "name": "notifications_user_update_own",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.tasks": {
      "name": "tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'todo'"
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'medium'"
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_by": {
          "name": "completed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_recurring": {
          "name": "is_recurring",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "recurrence_pattern": {
          "name": "recurrence_pattern",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_task_id": {
          "name": "parent_task_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_tasks_assigned": {
          "name": "idx_tasks_assigned",
          "columns": [
            {
              "expression": "assigned_to",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = ANY (ARRAY['todo'::text, 'in_progress'::text]))",
          "with": {}
        },
        "idx_tasks_assignee": {
          "name": "idx_tasks_assignee",
          "columns": [
            {
              "expression": "assigned_to",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tasks_created_by": {
          "name": "idx_tasks_created_by",
          "columns": [
            {
              "expression": "created_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tasks_due": {
          "name": "idx_tasks_due",
          "columns": [
            {
              "expression": "due_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = ANY (ARRAY['todo'::text, 'in_progress'::text]))",
          "with": {}
        },
        "idx_tasks_entity": {
          "name": "idx_tasks_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tasks_org": {
          "name": "idx_tasks_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tasks_status": {
          "name": "idx_tasks_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tasks_assigned_to_fkey": {
          "name": "tasks_assigned_to_fkey",
          "tableFrom": "tasks",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tasks_completed_by_fkey": {
          "name": "tasks_completed_by_fkey",
          "tableFrom": "tasks",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "completed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tasks_created_by_fkey": {
          "name": "tasks_created_by_fkey",
          "tableFrom": "tasks",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tasks_org_id_fkey": {
          "name": "tasks_org_id_fkey",
          "tableFrom": "tasks",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "tasks_parent_task_id_fkey": {
          "name": "tasks_parent_task_id_fkey",
          "tableFrom": "tasks",
          "tableTo": "tasks",
          "schemaTo": "public",
          "columnsFrom": [
            "parent_task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "tasks_assigned_or_created": {
          "name": "tasks_assigned_or_created",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "((assigned_to = auth.uid()) OR (created_by = auth.uid()) OR auth_has_role('admin'::text))"
        },
        "tasks_create_own": {
          "name": "tasks_create_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "tasks_delete_creator_or_admin": {
          "name": "tasks_delete_creator_or_admin",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        },
        "tasks_org_isolation": {
          "name": "tasks_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        },
        "tasks_update_assigned_or_admin": {
          "name": "tasks_update_assigned_or_admin",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.organization_branding": {
      "name": "organization_branding",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "asset_type": {
          "name": "asset_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "storage_path": {
          "name": "storage_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_org_branding_org": {
          "name": "idx_org_branding_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "organization_branding_org_id_fkey": {
          "name": "organization_branding_org_id_fkey",
          "tableFrom": "organization_branding",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "organization_branding_uploaded_by_fkey": {
          "name": "organization_branding_uploaded_by_fkey",
          "tableFrom": "organization_branding",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "organization_branding_org_id_asset_type_key": {
          "columns": [
            "org_id",
            "asset_type"
          ],
          "nullsNotDistinct": false,
          "name": "organization_branding_org_id_asset_type_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Users can manage their org branding": {
          "name": "Users can manage their org branding",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id = auth_user_org_id()) OR user_is_admin())"
        },
        "Users can view their org branding": {
          "name": "Users can view their org branding",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.company_contracts": {
      "name": "company_contracts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contract_type": {
          "name": "contract_type",
          "type": "contract_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "contract_number": {
          "name": "contract_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "contract_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expiration_date": {
          "name": "expiration_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "signed_date": {
          "name": "signed_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "terminated_date": {
          "name": "terminated_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "auto_renews": {
          "name": "auto_renews",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "renewal_term_months": {
          "name": "renewal_term_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "renewal_notice_days": {
          "name": "renewal_notice_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "contract_value": {
          "name": "contract_value",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "our_signatory_id": {
          "name": "our_signatory_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "their_signatory_name": {
          "name": "their_signatory_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "their_signatory_title": {
          "name": "their_signatory_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "their_signatory_email": {
          "name": "their_signatory_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_url": {
          "name": "document_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_storage_key": {
          "name": "document_storage_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "terms": {
          "name": "terms",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "parent_contract_id": {
          "name": "parent_contract_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "expiration_alert_sent": {
          "name": "expiration_alert_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "expiration_alert_date": {
          "name": "expiration_alert_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_contracts_company": {
          "name": "idx_contracts_company",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contracts_expiration": {
          "name": "idx_contracts_expiration",
          "columns": [
            {
              "expression": "expiration_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status = 'active'::contract_status) AND (deleted_at IS NULL))",
          "with": {}
        }
      },
      "foreignKeys": {
        "company_contracts_company_id_fkey": {
          "name": "company_contracts_company_id_fkey",
          "tableFrom": "company_contracts",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "company_contracts_created_by_fkey": {
          "name": "company_contracts_created_by_fkey",
          "tableFrom": "company_contracts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_contracts_org_id_fkey": {
          "name": "company_contracts_org_id_fkey",
          "tableFrom": "company_contracts",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_contracts_our_signatory_id_fkey": {
          "name": "company_contracts_our_signatory_id_fkey",
          "tableFrom": "company_contracts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "our_signatory_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_contracts_parent_contract_id_fkey": {
          "name": "company_contracts_parent_contract_id_fkey",
          "tableFrom": "company_contracts",
          "tableTo": "company_contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "parent_contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "contracts_org": {
          "name": "contracts_org",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.company_rate_cards": {
      "name": "company_rate_cards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "effective_start_date": {
          "name": "effective_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "effective_end_date": {
          "name": "effective_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "rate_card_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "applicable_regions": {
          "name": "applicable_regions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "msp_program_id": {
          "name": "msp_program_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "msp_tier": {
          "name": "msp_tier",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "default_markup_percentage": {
          "name": "default_markup_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "max_markup_percentage": {
          "name": "max_markup_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "min_margin_percentage": {
          "name": "min_margin_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "overtime_multiplier": {
          "name": "overtime_multiplier",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.5'"
        },
        "double_time_multiplier": {
          "name": "double_time_multiplier",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'2.0'"
        },
        "direct_hire_fee_percentage": {
          "name": "direct_hire_fee_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'20.00'"
        },
        "guarantee_period_days": {
          "name": "guarantee_period_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 90
        },
        "cth_conversion_fee_percentage": {
          "name": "cth_conversion_fee_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "cth_hours_credit": {
          "name": "cth_hours_credit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "per_diem_rate": {
          "name": "per_diem_rate",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "mileage_rate": {
          "name": "mileage_rate",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "expense_markup_percentage": {
          "name": "expense_markup_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_rate_cards_company": {
          "name": "idx_rate_cards_company",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "company_rate_cards_approved_by_fkey": {
          "name": "company_rate_cards_approved_by_fkey",
          "tableFrom": "company_rate_cards",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_rate_cards_company_id_fkey": {
          "name": "company_rate_cards_company_id_fkey",
          "tableFrom": "company_rate_cards",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "company_rate_cards_created_by_fkey": {
          "name": "company_rate_cards_created_by_fkey",
          "tableFrom": "company_rate_cards",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_rate_cards_msp_program_id_fkey": {
          "name": "company_rate_cards_msp_program_id_fkey",
          "tableFrom": "company_rate_cards",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "msp_program_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_rate_cards_org_id_fkey": {
          "name": "company_rate_cards_org_id_fkey",
          "tableFrom": "company_rate_cards",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "rate_cards_org": {
          "name": "rate_cards_org",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.company_rate_card_items": {
      "name": "company_rate_card_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "rate_card_id": {
          "name": "rate_card_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_category": {
          "name": "job_category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "job_level": {
          "name": "job_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "job_family": {
          "name": "job_family",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "min_pay_rate": {
          "name": "min_pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "max_pay_rate": {
          "name": "max_pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "target_pay_rate": {
          "name": "target_pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "min_bill_rate": {
          "name": "min_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "max_bill_rate": {
          "name": "max_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "standard_bill_rate": {
          "name": "standard_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "target_margin_percentage": {
          "name": "target_margin_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "min_margin_percentage": {
          "name": "min_margin_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "rate_type": {
          "name": "rate_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'hourly'"
        },
        "overtime_multiplier": {
          "name": "overtime_multiplier",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_rate_card_items_card": {
          "name": "idx_rate_card_items_card",
          "columns": [
            {
              "expression": "rate_card_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "company_rate_card_items_rate_card_id_fkey": {
          "name": "company_rate_card_items_rate_card_id_fkey",
          "tableFrom": "company_rate_card_items",
          "tableTo": "company_rate_cards",
          "schemaTo": "public",
          "columnsFrom": [
            "rate_card_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "rate_card_items_org": {
          "name": "rate_card_items_org",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM company_rate_cards rc\n  WHERE ((rc.id = company_rate_card_items.rate_card_id) AND (rc.org_id = current_user_org_id()))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.company_compliance_requirements": {
      "name": "company_compliance_requirements",
      "schema": "",
      "columns": {
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "general_liability_required": {
          "name": "general_liability_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "general_liability_minimum": {
          "name": "general_liability_minimum",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "professional_liability_required": {
          "name": "professional_liability_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "professional_liability_minimum": {
          "name": "professional_liability_minimum",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "workers_comp_required": {
          "name": "workers_comp_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "cyber_liability_required": {
          "name": "cyber_liability_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "cyber_liability_minimum": {
          "name": "cyber_liability_minimum",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "umbrella_required": {
          "name": "umbrella_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "umbrella_minimum": {
          "name": "umbrella_minimum",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "coi_on_file": {
          "name": "coi_on_file",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "coi_expiration_date": {
          "name": "coi_expiration_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "coi_document_url": {
          "name": "coi_document_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_named_on_coi": {
          "name": "client_named_on_coi",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "background_check_required": {
          "name": "background_check_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "background_check_level": {
          "name": "background_check_level",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "background_check_vendor": {
          "name": "background_check_vendor",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "background_check_max_age_days": {
          "name": "background_check_max_age_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 365
        },
        "drug_test_required": {
          "name": "drug_test_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "drug_test_type": {
          "name": "drug_test_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "drug_test_frequency": {
          "name": "drug_test_frequency",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "security_clearance_required": {
          "name": "security_clearance_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "security_clearance_level": {
          "name": "security_clearance_level",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "citizenship_required": {
          "name": "citizenship_required",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "hipaa_training_required": {
          "name": "hipaa_training_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sox_compliance_required": {
          "name": "sox_compliance_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "pci_compliance_required": {
          "name": "pci_compliance_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "fedramp_required": {
          "name": "fedramp_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "w9_required": {
          "name": "w9_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "nda_required": {
          "name": "nda_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "non_compete_required": {
          "name": "non_compete_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "i9_verification_method": {
          "name": "i9_verification_method",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'standard'"
        },
        "work_authorization_types": {
          "name": "work_authorization_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "soc2_attestation_required": {
          "name": "soc2_attestation_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "gdpr_compliance_required": {
          "name": "gdpr_compliance_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ccpa_compliance_required": {
          "name": "ccpa_compliance_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "data_retention_years": {
          "name": "data_retention_years",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 7
        },
        "data_handling_instructions": {
          "name": "data_handling_instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "safety_training_required": {
          "name": "safety_training_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "safety_certifications": {
          "name": "safety_certifications",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "ppe_requirements": {
          "name": "ppe_requirements",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "custom_requirements": {
          "name": "custom_requirements",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "company_compliance_requirements_company_id_fkey": {
          "name": "company_compliance_requirements_company_id_fkey",
          "tableFrom": "company_compliance_requirements",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "company_compliance_requirements_org_id_fkey": {
          "name": "company_compliance_requirements_org_id_fkey",
          "tableFrom": "company_compliance_requirements",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_compliance_requirements_updated_by_fkey": {
          "name": "company_compliance_requirements_updated_by_fkey",
          "tableFrom": "company_compliance_requirements",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "compliance_org": {
          "name": "compliance_org",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.company_health_scores": {
      "name": "company_health_scores",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "score_date": {
          "name": "score_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_DATE"
        },
        "overall_score": {
          "name": "overall_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "overall_grade": {
          "name": "overall_grade",
          "type": "char(1)",
          "primaryKey": false,
          "notNull": false
        },
        "health_status": {
          "name": "health_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "engagement_score": {
          "name": "engagement_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "days_since_last_contact": {
          "name": "days_since_last_contact",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "days_since_last_job": {
          "name": "days_since_last_job",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_rate_percentage": {
          "name": "response_rate_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "meetings_last_90d": {
          "name": "meetings_last_90d",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "financial_score": {
          "name": "financial_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "revenue_trend": {
          "name": "revenue_trend",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "revenue_vs_target_percentage": {
          "name": "revenue_vs_target_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "payment_timeliness_score": {
          "name": "payment_timeliness_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "outstanding_ar_amount": {
          "name": "outstanding_ar_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "relationship_score": {
          "name": "relationship_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "nps_score": {
          "name": "nps_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "satisfaction_score": {
          "name": "satisfaction_score",
          "type": "numeric(3, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "escalations_last_90d": {
          "name": "escalations_last_90d",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "decision_maker_turnover": {
          "name": "decision_maker_turnover",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "opportunity_score": {
          "name": "opportunity_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "active_jobs_count": {
          "name": "active_jobs_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pipeline_value": {
          "name": "pipeline_value",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "expansion_potential": {
          "name": "expansion_potential",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "risk_factors": {
          "name": "risk_factors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "recommended_actions": {
          "name": "recommended_actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "calculated_by": {
          "name": "calculated_by",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'system'"
        }
      },
      "indexes": {
        "idx_health_scores_company": {
          "name": "idx_health_scores_company",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            },
            {
              "expression": "score_date",
              "asc": false,
              "nulls": "first",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_health_scores_date": {
          "name": "idx_health_scores_date",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            },
            {
              "expression": "score_date",
              "asc": false,
              "nulls": "first",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "company_health_scores_company_id_fkey": {
          "name": "company_health_scores_company_id_fkey",
          "tableFrom": "company_health_scores",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "company_health_scores_org_id_fkey": {
          "name": "company_health_scores_org_id_fkey",
          "tableFrom": "company_health_scores",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "company_health_scores_engagement_score_check": {
          "name": "company_health_scores_engagement_score_check",
          "value": "(engagement_score >= 0) AND (engagement_score <= 30)"
        },
        "company_health_scores_financial_score_check": {
          "name": "company_health_scores_financial_score_check",
          "value": "(financial_score >= 0) AND (financial_score <= 30)"
        },
        "company_health_scores_opportunity_score_check": {
          "name": "company_health_scores_opportunity_score_check",
          "value": "(opportunity_score >= 0) AND (opportunity_score <= 20)"
        },
        "company_health_scores_overall_grade_check": {
          "name": "company_health_scores_overall_grade_check",
          "value": "overall_grade = ANY (ARRAY['A'::bpchar, 'B'::bpchar, 'C'::bpchar, 'D'::bpchar, 'F'::bpchar])"
        },
        "company_health_scores_overall_score_check": {
          "name": "company_health_scores_overall_score_check",
          "value": "(overall_score >= 0) AND (overall_score <= 100)"
        },
        "company_health_scores_relationship_score_check": {
          "name": "company_health_scores_relationship_score_check",
          "value": "(relationship_score >= 0) AND (relationship_score <= 20)"
        }
      },
      "policies": {
        "health_scores_org": {
          "name": "health_scores_org",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.company_metrics": {
      "name": "company_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "period_type": {
          "name": "period_type",
          "type": "metric_period_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "jobs_posted": {
          "name": "jobs_posted",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "jobs_filled": {
          "name": "jobs_filled",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "jobs_cancelled": {
          "name": "jobs_cancelled",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "fill_rate": {
          "name": "fill_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "avg_time_to_fill_days": {
          "name": "avg_time_to_fill_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "submissions_sent": {
          "name": "submissions_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "submissions_accepted": {
          "name": "submissions_accepted",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "submissions_rejected": {
          "name": "submissions_rejected",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "submission_to_interview_rate": {
          "name": "submission_to_interview_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "interviews_scheduled": {
          "name": "interviews_scheduled",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "interviews_completed": {
          "name": "interviews_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "interviews_cancelled": {
          "name": "interviews_cancelled",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "interview_to_offer_rate": {
          "name": "interview_to_offer_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "placements_started": {
          "name": "placements_started",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "placements_ended": {
          "name": "placements_ended",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "placements_active_eop": {
          "name": "placements_active_eop",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "avg_placement_duration_days": {
          "name": "avg_placement_duration_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "gross_revenue": {
          "name": "gross_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "net_revenue": {
          "name": "net_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "gross_margin": {
          "name": "gross_margin",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "gross_margin_percentage": {
          "name": "gross_margin_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "revenue_per_placement": {
          "name": "revenue_per_placement",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "activities_logged": {
          "name": "activities_logged",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "emails_sent": {
          "name": "emails_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "calls_made": {
          "name": "calls_made",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "meetings_held": {
          "name": "meetings_held",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "engagement_score": {
          "name": "engagement_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "performance_score": {
          "name": "performance_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_company_metrics_lookup": {
          "name": "idx_company_metrics_lookup",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            },
            {
              "expression": "period_type",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            },
            {
              "expression": "period_start",
              "asc": false,
              "nulls": "first",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "company_metrics_company_id_fkey": {
          "name": "company_metrics_company_id_fkey",
          "tableFrom": "company_metrics",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "company_metrics_org_id_fkey": {
          "name": "company_metrics_org_id_fkey",
          "tableFrom": "company_metrics",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "company_metrics_company_id_period_type_period_start_key": {
          "columns": [
            "company_id",
            "period_type",
            "period_start"
          ],
          "nullsNotDistinct": false,
          "name": "company_metrics_company_id_period_type_period_start_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "metrics_org": {
          "name": "metrics_org",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.company_revenue": {
      "name": "company_revenue",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "revenue_type": {
          "name": "revenue_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "placement_id": {
          "name": "placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "invoice_id": {
          "name": "invoice_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "revenue_date": {
          "name": "revenue_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "period_end": {
          "name": "period_end",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "gross_revenue": {
          "name": "gross_revenue",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "cost": {
          "name": "cost",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "gross_margin": {
          "name": "gross_margin",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "margin_percentage": {
          "name": "margin_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "billing_company_id": {
          "name": "billing_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "end_client_company_id": {
          "name": "end_client_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "job_category": {
          "name": "job_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "job_level": {
          "name": "job_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "work_location_state": {
          "name": "work_location_state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contract_type": {
          "name": "contract_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_company_revenue_company": {
          "name": "idx_company_revenue_company",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            },
            {
              "expression": "revenue_date",
              "asc": false,
              "nulls": "first",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "company_revenue_billing_company_id_fkey": {
          "name": "company_revenue_billing_company_id_fkey",
          "tableFrom": "company_revenue",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "billing_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_revenue_company_id_fkey": {
          "name": "company_revenue_company_id_fkey",
          "tableFrom": "company_revenue",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_revenue_end_client_company_id_fkey": {
          "name": "company_revenue_end_client_company_id_fkey",
          "tableFrom": "company_revenue",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "end_client_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_revenue_org_id_fkey": {
          "name": "company_revenue_org_id_fkey",
          "tableFrom": "company_revenue",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "revenue_org": {
          "name": "revenue_org",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.activity_log": {
      "name": "activity_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "activity_type": {
          "name": "activity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "direction": {
          "name": "direction",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "performed_by": {
          "name": "performed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "poc_id": {
          "name": "poc_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "activity_date": {
          "name": "activity_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "outcome": {
          "name": "outcome",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "next_action": {
          "name": "next_action",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "next_action_date": {
          "name": "next_action_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_activity_date": {
          "name": "idx_activity_date",
          "columns": [
            {
              "expression": "activity_date",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_entity": {
          "name": "idx_activity_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_log_activity_date": {
          "name": "idx_activity_log_activity_date",
          "columns": [
            {
              "expression": "activity_date",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_log_entity": {
          "name": "idx_activity_log_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_log_org_id": {
          "name": "idx_activity_log_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_log_performed_by": {
          "name": "idx_activity_log_performed_by",
          "columns": [
            {
              "expression": "performed_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_org": {
          "name": "idx_activity_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_owner": {
          "name": "idx_activity_owner",
          "columns": [
            {
              "expression": "performed_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_poc": {
          "name": "idx_activity_poc",
          "columns": [
            {
              "expression": "poc_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "activity_log_org_id_fkey": {
          "name": "activity_log_org_id_fkey",
          "tableFrom": "activity_log",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activity_log_performed_by_fkey": {
          "name": "activity_log_performed_by_fkey",
          "tableFrom": "activity_log",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "performed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "activity_employee_insert": {
          "name": "activity_employee_insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "(auth_has_role('employee'::text) OR auth_has_role('admin'::text) OR auth_has_role('recruiter'::text))"
        },
        "activity_employee_select": {
          "name": "activity_employee_select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "activity_org_isolation": {
          "name": "activity_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.engagement_tracking": {
      "name": "engagement_tracking",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "campaign_contact_id": {
          "name": "campaign_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_data": {
          "name": "event_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "event_timestamp": {
          "name": "event_timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "tracking_id": {
          "name": "tracking_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "clicked_url": {
          "name": "clicked_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_engagement_contact": {
          "name": "idx_engagement_contact",
          "columns": [
            {
              "expression": "campaign_contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_engagement_timestamp": {
          "name": "idx_engagement_timestamp",
          "columns": [
            {
              "expression": "event_timestamp",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_engagement_type": {
          "name": "idx_engagement_type",
          "columns": [
            {
              "expression": "event_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "public.employee_metadata": {
      "name": "employee_metadata",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "employment_type": {
          "name": "employment_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'full_time'"
        },
        "employee_id_number": {
          "name": "employee_id_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bonus_target": {
          "name": "bonus_target",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "commission_plan": {
          "name": "commission_plan",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "equity_shares": {
          "name": "equity_shares",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pod_id": {
          "name": "pod_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "pod_role": {
          "name": "pod_role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "kpi_targets": {
          "name": "kpi_targets",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "monthly_placement_target": {
          "name": "monthly_placement_target",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "work_schedule": {
          "name": "work_schedule",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'standard'"
        },
        "weekly_hours": {
          "name": "weekly_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 40
        },
        "benefits_eligible": {
          "name": "benefits_eligible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "benefits_start_date": {
          "name": "benefits_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact_name": {
          "name": "emergency_contact_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact_phone": {
          "name": "emergency_contact_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact_relationship": {
          "name": "emergency_contact_relationship",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_employee_id_number": {
          "name": "idx_employee_id_number",
          "columns": [
            {
              "expression": "employee_id_number",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(employee_id_number IS NOT NULL)",
          "with": {}
        },
        "idx_employee_metadata_pod": {
          "name": "idx_employee_metadata_pod",
          "columns": [
            {
              "expression": "pod_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "employee_metadata_user_id_fkey": {
          "name": "employee_metadata_user_id_fkey",
          "tableFrom": "employee_metadata",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fk_employee_pod": {
          "name": "fk_employee_pod",
          "tableFrom": "employee_metadata",
          "tableTo": "pods",
          "schemaTo": "public",
          "columnsFrom": [
            "pod_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "employee_metadata_employee_id_number_key": {
          "columns": [
            "employee_id_number"
          ],
          "nullsNotDistinct": false,
          "name": "employee_metadata_employee_id_number_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "employee_metadata_employee_own": {
          "name": "employee_metadata_employee_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(user_id = auth.uid())"
        },
        "employee_metadata_hr_all": {
          "name": "employee_metadata_hr_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.candidate_skills": {
      "name": "candidate_skills",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "skill_id": {
          "name": "skill_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "proficiency_level": {
          "name": "proficiency_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'intermediate'"
        },
        "years_of_experience": {
          "name": "years_of_experience",
          "type": "numeric(4, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "is_certified": {
          "name": "is_certified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "certification_name": {
          "name": "certification_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_date": {
          "name": "last_used_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "skill_name": {
          "name": "skill_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "certification_expiry": {
          "name": "certification_expiry",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_candidate_skills_candidate": {
          "name": "idx_candidate_skills_candidate",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_candidate_skills_contact_id": {
          "name": "idx_candidate_skills_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_candidate_skills_primary": {
          "name": "idx_candidate_skills_primary",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_primary = true)",
          "with": {}
        },
        "idx_candidate_skills_proficiency": {
          "name": "idx_candidate_skills_proficiency",
          "columns": [
            {
              "expression": "proficiency_level",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_candidate_skills_skill": {
          "name": "idx_candidate_skills_skill",
          "columns": [
            {
              "expression": "skill_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "candidate_skills_candidate_id_fkey": {
          "name": "candidate_skills_candidate_id_fkey",
          "tableFrom": "candidate_skills",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_skills_contact_id_fkey": {
          "name": "candidate_skills_contact_id_fkey",
          "tableFrom": "candidate_skills",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_skills_skill_id_fkey": {
          "name": "candidate_skills_skill_id_fkey",
          "tableFrom": "candidate_skills",
          "tableTo": "skills",
          "schemaTo": "public",
          "columnsFrom": [
            "skill_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "candidate_skills_candidate_id_skill_id_key": {
          "columns": [
            "candidate_id",
            "skill_id"
          ],
          "nullsNotDistinct": false,
          "name": "candidate_skills_candidate_id_skill_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "candidate_skills_candidate_own": {
          "name": "candidate_skills_candidate_own",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(candidate_id = auth.uid())"
        },
        "candidate_skills_employee_read": {
          "name": "candidate_skills_employee_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "candidate_skills_org_isolation": {
          "name": "candidate_skills_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        },
        "candidate_skills_recruiter_write": {
          "name": "candidate_skills_recruiter_write",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.pods": {
      "name": "pods",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "pod_type": {
          "name": "pod_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "senior_member_id": {
          "name": "senior_member_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "junior_member_id": {
          "name": "junior_member_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "sprint_duration_weeks": {
          "name": "sprint_duration_weeks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2
        },
        "placements_per_sprint_target": {
          "name": "placements_per_sprint_target",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2
        },
        "total_placements": {
          "name": "total_placements",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "current_sprint_placements": {
          "name": "current_sprint_placements",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "current_sprint_start_date": {
          "name": "current_sprint_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "average_placements_per_sprint": {
          "name": "average_placements_per_sprint",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "formed_date": {
          "name": "formed_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "dissolved_date": {
          "name": "dissolved_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "region_id": {
          "name": "region_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "manager_id": {
          "name": "manager_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sprint_start_day": {
          "name": "sprint_start_day",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'monday'"
        },
        "send_sprint_summary": {
          "name": "send_sprint_summary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "send_midpoint_check": {
          "name": "send_midpoint_check",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "alert_if_below_target": {
          "name": "alert_if_below_target",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        }
      },
      "indexes": {
        "idx_pods_active": {
          "name": "idx_pods_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_pods_manager_id": {
          "name": "idx_pods_manager_id",
          "columns": [
            {
              "expression": "manager_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pods_members": {
          "name": "idx_pods_members",
          "columns": [
            {
              "expression": "senior_member_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "junior_member_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pods_org": {
          "name": "idx_pods_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pods_region_id": {
          "name": "idx_pods_region_id",
          "columns": [
            {
              "expression": "region_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pods_type": {
          "name": "idx_pods_type",
          "columns": [
            {
              "expression": "pod_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pods_created_by_fkey": {
          "name": "pods_created_by_fkey",
          "tableFrom": "pods",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "pods_junior_member_id_fkey": {
          "name": "pods_junior_member_id_fkey",
          "tableFrom": "pods",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "junior_member_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "pods_manager_id_fkey": {
          "name": "pods_manager_id_fkey",
          "tableFrom": "pods",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "pods_org_id_fkey": {
          "name": "pods_org_id_fkey",
          "tableFrom": "pods",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "pods_region_id_fkey": {
          "name": "pods_region_id_fkey",
          "tableFrom": "pods",
          "tableTo": "regions",
          "schemaTo": "public",
          "columnsFrom": [
            "region_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "pods_senior_member_id_fkey": {
          "name": "pods_senior_member_id_fkey",
          "tableFrom": "pods",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "senior_member_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "pods_pod_type_check": {
          "name": "pods_pod_type_check",
          "value": "pod_type = ANY (ARRAY['recruiting'::text, 'bench_sales'::text, 'ta'::text, 'hr'::text, 'mixed'::text])"
        },
        "pods_sprint_start_day_check": {
          "name": "pods_sprint_start_day_check",
          "value": "sprint_start_day = ANY (ARRAY['monday'::text, 'tuesday'::text, 'wednesday'::text, 'thursday'::text, 'friday'::text, 'saturday'::text, 'sunday'::text])"
        }
      },
      "policies": {
        "pods_admin_write": {
          "name": "pods_admin_write",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(auth_has_role('admin'::text) OR auth_has_role('hr'::text))"
        },
        "pods_employee_read": {
          "name": "pods_employee_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "pods_org_isolation": {
          "name": "pods_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.user_session_context": {
      "name": "user_session_context",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "active_role": {
          "name": "active_role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "session_started_at": {
          "name": "session_started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "session_ended_at": {
          "name": "session_ended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "\nCASE\n    WHEN (session_ended_at IS NOT NULL) THEN (EXTRACT(epoch FROM (session_ended_at - session_started_at)))::integer\n    ELSE NULL::integer\nEND",
            "type": "stored"
          }
        }
      },
      "indexes": {
        "idx_session_context_role": {
          "name": "idx_session_context_role",
          "columns": [
            {
              "expression": "active_role",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_session_context_started": {
          "name": "idx_session_context_started",
          "columns": [
            {
              "expression": "session_started_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_session_context_user": {
          "name": "idx_session_context_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_session_context_user_id_fkey": {
          "name": "user_session_context_user_id_fkey",
          "tableFrom": "user_session_context",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "session_context_own": {
          "name": "session_context_own",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(user_id = auth.uid())"
        }
      },
      "isRLSEnabled": true
    },
    "public.pod_managers": {
      "name": "pod_managers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "pod_id": {
          "name": "pod_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "assigned_by": {
          "name": "assigned_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "removed_at": {
          "name": "removed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "removed_by": {
          "name": "removed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_pod_managers_active": {
          "name": "idx_pod_managers_active",
          "columns": [
            {
              "expression": "pod_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(removed_at IS NULL)",
          "with": {}
        },
        "idx_pod_managers_org": {
          "name": "idx_pod_managers_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pod_managers_org_id": {
          "name": "idx_pod_managers_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pod_managers_pod": {
          "name": "idx_pod_managers_pod",
          "columns": [
            {
              "expression": "pod_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pod_managers_pod_id": {
          "name": "idx_pod_managers_pod_id",
          "columns": [
            {
              "expression": "pod_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pod_managers_primary": {
          "name": "idx_pod_managers_primary",
          "columns": [
            {
              "expression": "pod_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "((is_primary = true) AND (removed_at IS NULL))",
          "with": {}
        },
        "idx_pod_managers_user": {
          "name": "idx_pod_managers_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pod_managers_user_id": {
          "name": "idx_pod_managers_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pod_managers_assigned_by_fkey": {
          "name": "pod_managers_assigned_by_fkey",
          "tableFrom": "pod_managers",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "assigned_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "pod_managers_org_id_fkey": {
          "name": "pod_managers_org_id_fkey",
          "tableFrom": "pod_managers",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "pod_managers_pod_id_fkey": {
          "name": "pod_managers_pod_id_fkey",
          "tableFrom": "pod_managers",
          "tableTo": "pods",
          "schemaTo": "public",
          "columnsFrom": [
            "pod_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "pod_managers_removed_by_fkey": {
          "name": "pod_managers_removed_by_fkey",
          "tableFrom": "pod_managers",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "removed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "pod_managers_user_id_fkey": {
          "name": "pod_managers_user_id_fkey",
          "tableFrom": "pod_managers",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "pod_managers_org_isolation": {
          "name": "pod_managers_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid())\n LIMIT 1))"
        },
        "pod_managers_org_policy": {
          "name": "pod_managers_org_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.lead_strategies": {
      "name": "lead_strategies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "strategy_notes": {
          "name": "strategy_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "talking_points": {
          "name": "talking_points",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "value_proposition": {
          "name": "value_proposition",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "differentiators": {
          "name": "differentiators",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "objections": {
          "name": "objections",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "stakeholders": {
          "name": "stakeholders",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "competitors": {
          "name": "competitors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "win_themes": {
          "name": "win_themes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "pain_points": {
          "name": "pain_points",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "meeting_agenda": {
          "name": "meeting_agenda",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "questions_to_ask": {
          "name": "questions_to_ask",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "desired_outcomes": {
          "name": "desired_outcomes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_lead_strategies_lead": {
          "name": "idx_lead_strategies_lead",
          "columns": [
            {
              "expression": "lead_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lead_strategies_org": {
          "name": "idx_lead_strategies_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lead_strategies_created_by_fkey": {
          "name": "lead_strategies_created_by_fkey",
          "tableFrom": "lead_strategies",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lead_strategies_lead_id_fkey": {
          "name": "lead_strategies_lead_id_fkey",
          "tableFrom": "lead_strategies",
          "tableTo": "leads",
          "schemaTo": "public",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lead_strategies_org_id_fkey": {
          "name": "lead_strategies_org_id_fkey",
          "tableFrom": "lead_strategies",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lead_strategies_updated_by_fkey": {
          "name": "lead_strategies_updated_by_fkey",
          "tableFrom": "lead_strategies",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "lead_strategies_lead_id_key": {
          "columns": [
            "lead_id"
          ],
          "nullsNotDistinct": false,
          "name": "lead_strategies_lead_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "lead_strategies_org_isolation": {
          "name": "lead_strategies_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.talking_point_templates": {
      "name": "talking_point_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "talking_points": {
          "name": "talking_points",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_talking_point_templates_org": {
          "name": "idx_talking_point_templates_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "talking_point_templates_created_by_fkey": {
          "name": "talking_point_templates_created_by_fkey",
          "tableFrom": "talking_point_templates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "talking_point_templates_org_id_fkey": {
          "name": "talking_point_templates_org_id_fkey",
          "tableFrom": "talking_point_templates",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "talking_point_templates_org_isolation": {
          "name": "talking_point_templates_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.payroll_items": {
      "name": "payroll_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "payroll_run_id": {
          "name": "payroll_run_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "employee_id": {
          "name": "employee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "base_salary": {
          "name": "base_salary",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "commission": {
          "name": "commission",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "bonus": {
          "name": "bonus",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "overtime_hours": {
          "name": "overtime_hours",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "overtime_pay": {
          "name": "overtime_pay",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "other_earnings": {
          "name": "other_earnings",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "gross_pay": {
          "name": "gross_pay",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "taxes_withheld": {
          "name": "taxes_withheld",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "benefits_deductions": {
          "name": "benefits_deductions",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "other_deductions": {
          "name": "other_deductions",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "net_pay": {
          "name": "net_pay",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_payroll_items_employee": {
          "name": "idx_payroll_items_employee",
          "columns": [
            {
              "expression": "employee_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payroll_items_run": {
          "name": "idx_payroll_items_run",
          "columns": [
            {
              "expression": "payroll_run_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payroll_items_employee_id_fkey": {
          "name": "payroll_items_employee_id_fkey",
          "tableFrom": "payroll_items",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "employee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payroll_items_payroll_run_id_fkey": {
          "name": "payroll_items_payroll_run_id_fkey",
          "tableFrom": "payroll_items",
          "tableTo": "payroll_runs",
          "schemaTo": "public",
          "columnsFrom": [
            "payroll_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "payroll_items_payroll_run_id_employee_id_key": {
          "columns": [
            "payroll_run_id",
            "employee_id"
          ],
          "nullsNotDistinct": false,
          "name": "payroll_items_payroll_run_id_employee_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "payroll_items_employee_own": {
          "name": "payroll_items_employee_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(employee_id = auth.uid())"
        },
        "payroll_items_hr_admin_only": {
          "name": "payroll_items_hr_admin_only",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.time_attendance": {
      "name": "time_attendance",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "employee_id": {
          "name": "employee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "regular_hours": {
          "name": "regular_hours",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "overtime_hours": {
          "name": "overtime_hours",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "pto_hours": {
          "name": "pto_hours",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "sick_hours": {
          "name": "sick_hours",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "holiday_hours": {
          "name": "holiday_hours",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_hours": {
          "name": "total_hours",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "((((regular_hours + overtime_hours) + pto_hours) + sick_hours) + holiday_hours)",
            "type": "stored"
          }
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_time_attendance_date": {
          "name": "idx_time_attendance_date",
          "columns": [
            {
              "expression": "date",
              "asc": false,
              "nulls": "first",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_time_attendance_employee": {
          "name": "idx_time_attendance_employee",
          "columns": [
            {
              "expression": "employee_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_time_attendance_status": {
          "name": "idx_time_attendance_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "time_attendance_approved_by_fkey": {
          "name": "time_attendance_approved_by_fkey",
          "tableFrom": "time_attendance",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "time_attendance_employee_id_fkey": {
          "name": "time_attendance_employee_id_fkey",
          "tableFrom": "time_attendance",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "employee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "time_attendance_employee_id_date_key": {
          "columns": [
            "employee_id",
            "date"
          ],
          "nullsNotDistinct": false,
          "name": "time_attendance_employee_id_date_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "time_attendance_employee_own": {
          "name": "time_attendance_employee_own",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(employee_id = auth.uid())"
        },
        "time_attendance_hr_read": {
          "name": "time_attendance_hr_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "time_attendance_manager_approve": {
          "name": "time_attendance_manager_approve",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.payroll_runs": {
      "name": "payroll_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "period_start_date": {
          "name": "period_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "period_end_date": {
          "name": "period_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "pay_date": {
          "name": "pay_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "employee_count": {
          "name": "employee_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_gross_pay": {
          "name": "total_gross_pay",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_taxes": {
          "name": "total_taxes",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_net_pay": {
          "name": "total_net_pay",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "gusto_payroll_id": {
          "name": "gusto_payroll_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "processing_error": {
          "name": "processing_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_payroll_runs_org": {
          "name": "idx_payroll_runs_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payroll_runs_pay_date": {
          "name": "idx_payroll_runs_pay_date",
          "columns": [
            {
              "expression": "pay_date",
              "asc": false,
              "nulls": "first",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payroll_runs_period": {
          "name": "idx_payroll_runs_period",
          "columns": [
            {
              "expression": "period_start_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            },
            {
              "expression": "period_end_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_payroll_runs_status": {
          "name": "idx_payroll_runs_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payroll_runs_approved_by_fkey": {
          "name": "payroll_runs_approved_by_fkey",
          "tableFrom": "payroll_runs",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payroll_runs_created_by_fkey": {
          "name": "payroll_runs_created_by_fkey",
          "tableFrom": "payroll_runs",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payroll_runs_org_id_fkey": {
          "name": "payroll_runs_org_id_fkey",
          "tableFrom": "payroll_runs",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "payroll_runs_hr_admin_only": {
          "name": "payroll_runs_hr_admin_only",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(auth_has_role('admin'::text) OR auth_has_role('hr'::text))"
        },
        "payroll_runs_org_isolation": {
          "name": "payroll_runs_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.performance_reviews": {
      "name": "performance_reviews",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "employee_id": {
          "name": "employee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "reviewer_id": {
          "name": "reviewer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "review_cycle": {
          "name": "review_cycle",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "review_type": {
          "name": "review_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'annual'"
        },
        "period_start_date": {
          "name": "period_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "period_end_date": {
          "name": "period_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "overall_rating": {
          "name": "overall_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "quality_of_work": {
          "name": "quality_of_work",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "communication": {
          "name": "communication",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "teamwork": {
          "name": "teamwork",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "initiative": {
          "name": "initiative",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reliability": {
          "name": "reliability",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "goals_achieved": {
          "name": "goals_achieved",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "goals_next_period": {
          "name": "goals_next_period",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "strengths": {
          "name": "strengths",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "areas_for_improvement": {
          "name": "areas_for_improvement",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "manager_comments": {
          "name": "manager_comments",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_self_assessment": {
          "name": "employee_self_assessment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_comments": {
          "name": "employee_comments",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "scheduled_date": {
          "name": "scheduled_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "employee_acknowledged_at": {
          "name": "employee_acknowledged_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_reviews_cycle": {
          "name": "idx_reviews_cycle",
          "columns": [
            {
              "expression": "review_cycle",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reviews_employee": {
          "name": "idx_reviews_employee",
          "columns": [
            {
              "expression": "employee_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reviews_org": {
          "name": "idx_reviews_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reviews_reviewer": {
          "name": "idx_reviews_reviewer",
          "columns": [
            {
              "expression": "reviewer_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reviews_status": {
          "name": "idx_reviews_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "performance_reviews_employee_id_fkey": {
          "name": "performance_reviews_employee_id_fkey",
          "tableFrom": "performance_reviews",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "employee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "performance_reviews_org_id_fkey": {
          "name": "performance_reviews_org_id_fkey",
          "tableFrom": "performance_reviews",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "performance_reviews_reviewer_id_fkey": {
          "name": "performance_reviews_reviewer_id_fkey",
          "tableFrom": "performance_reviews",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "reviewer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "performance_reviews_communication_check": {
          "name": "performance_reviews_communication_check",
          "value": "(communication >= 1) AND (communication <= 5)"
        },
        "performance_reviews_initiative_check": {
          "name": "performance_reviews_initiative_check",
          "value": "(initiative >= 1) AND (initiative <= 5)"
        },
        "performance_reviews_overall_rating_check": {
          "name": "performance_reviews_overall_rating_check",
          "value": "(overall_rating >= 1) AND (overall_rating <= 5)"
        },
        "performance_reviews_quality_of_work_check": {
          "name": "performance_reviews_quality_of_work_check",
          "value": "(quality_of_work >= 1) AND (quality_of_work <= 5)"
        },
        "performance_reviews_reliability_check": {
          "name": "performance_reviews_reliability_check",
          "value": "(reliability >= 1) AND (reliability <= 5)"
        },
        "performance_reviews_teamwork_check": {
          "name": "performance_reviews_teamwork_check",
          "value": "(teamwork >= 1) AND (teamwork <= 5)"
        }
      },
      "policies": {
        "performance_reviews_org_isolation": {
          "name": "performance_reviews_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        },
        "reviews_employee_own": {
          "name": "reviews_employee_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "reviews_hr_all": {
          "name": "reviews_hr_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        },
        "reviews_org_isolation": {
          "name": "reviews_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.import_jobs": {
      "name": "import_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size_bytes": {
          "name": "file_size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "field_mapping": {
          "name": "field_mapping",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "import_options": {
          "name": "import_options",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "total_rows": {
          "name": "total_rows",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "processed_rows": {
          "name": "processed_rows",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "success_rows": {
          "name": "success_rows",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "error_rows": {
          "name": "error_rows",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "warning_rows": {
          "name": "warning_rows",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_log": {
          "name": "error_log",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "warnings_log": {
          "name": "warnings_log",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_import_jobs_created_at": {
          "name": "idx_import_jobs_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_import_jobs_created_by": {
          "name": "idx_import_jobs_created_by",
          "columns": [
            {
              "expression": "created_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_import_jobs_org": {
          "name": "idx_import_jobs_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_import_jobs_status": {
          "name": "idx_import_jobs_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "import_jobs_created_by_fkey": {
          "name": "import_jobs_created_by_fkey",
          "tableFrom": "import_jobs",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "import_jobs_org_id_fkey": {
          "name": "import_jobs_org_id_fkey",
          "tableFrom": "import_jobs",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "import_jobs_org_isolation": {
          "name": "import_jobs_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid()))) OR ((auth.jwt() ->> 'role'::text) = 'service_role'::text))"
        }
      },
      "isRLSEnabled": true
    },
    "public.export_jobs": {
      "name": "export_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "export_name": {
          "name": "export_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "filters": {
          "name": "filters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "columns": {
          "name": "columns",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "format": {
          "name": "format",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'csv'"
        },
        "include_headers": {
          "name": "include_headers",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_scheduled": {
          "name": "is_scheduled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "schedule_cron": {
          "name": "schedule_cron",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "schedule_name": {
          "name": "schedule_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "last_run_at": {
          "name": "last_run_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "next_run_at": {
          "name": "next_run_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_size_bytes": {
          "name": "file_size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "record_count": {
          "name": "record_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_export_jobs_created_at": {
          "name": "idx_export_jobs_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_export_jobs_next_run": {
          "name": "idx_export_jobs_next_run",
          "columns": [
            {
              "expression": "next_run_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_scheduled = true)",
          "with": {}
        },
        "idx_export_jobs_org": {
          "name": "idx_export_jobs_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_export_jobs_scheduled": {
          "name": "idx_export_jobs_scheduled",
          "columns": [
            {
              "expression": "is_scheduled",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_scheduled = true)",
          "with": {}
        },
        "idx_export_jobs_status": {
          "name": "idx_export_jobs_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "export_jobs_created_by_fkey": {
          "name": "export_jobs_created_by_fkey",
          "tableFrom": "export_jobs",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "export_jobs_org_id_fkey": {
          "name": "export_jobs_org_id_fkey",
          "tableFrom": "export_jobs",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "export_jobs_org_isolation": {
          "name": "export_jobs_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid()))) OR ((auth.jwt() ->> 'role'::text) = 'service_role'::text))"
        }
      },
      "isRLSEnabled": true
    },
    "public.gdpr_requests": {
      "name": "gdpr_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "request_number": {
          "name": "request_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "request_type": {
          "name": "request_type",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "subject_email": {
          "name": "subject_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "subject_name": {
          "name": "subject_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "subject_phone": {
          "name": "subject_phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "verification_method": {
          "name": "verification_method",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "data_found": {
          "name": "data_found",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "tables_scanned": {
          "name": "tables_scanned",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "total_records_found": {
          "name": "total_records_found",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "action_taken": {
          "name": "action_taken",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "export_file_path": {
          "name": "export_file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "anonymized_fields": {
          "name": "anonymized_fields",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "compliance_notes": {
          "name": "compliance_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "processed_by": {
          "name": "processed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_gdpr_requests_due_date": {
          "name": "idx_gdpr_requests_due_date",
          "columns": [
            {
              "expression": "due_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_gdpr_requests_email": {
          "name": "idx_gdpr_requests_email",
          "columns": [
            {
              "expression": "subject_email",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_gdpr_requests_org": {
          "name": "idx_gdpr_requests_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_gdpr_requests_status": {
          "name": "idx_gdpr_requests_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_gdpr_requests_type": {
          "name": "idx_gdpr_requests_type",
          "columns": [
            {
              "expression": "request_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "gdpr_requests_created_by_fkey": {
          "name": "gdpr_requests_created_by_fkey",
          "tableFrom": "gdpr_requests",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gdpr_requests_org_id_fkey": {
          "name": "gdpr_requests_org_id_fkey",
          "tableFrom": "gdpr_requests",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "gdpr_requests_processed_by_fkey": {
          "name": "gdpr_requests_processed_by_fkey",
          "tableFrom": "gdpr_requests",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "processed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "gdpr_requests_org_isolation": {
          "name": "gdpr_requests_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid()))) OR ((auth.jwt() ->> 'role'::text) = 'service_role'::text))"
        }
      },
      "isRLSEnabled": true
    },
    "public.duplicate_records": {
      "name": "duplicate_records",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "record_id_1": {
          "name": "record_id_1",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "record_id_2": {
          "name": "record_id_2",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "match_fields": {
          "name": "match_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "match_details": {
          "name": "match_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "merged_into_id": {
          "name": "merged_into_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "dismissed_reason": {
          "name": "dismissed_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_duplicate_records_confidence": {
          "name": "idx_duplicate_records_confidence",
          "columns": [
            {
              "expression": "confidence_score",
              "asc": false,
              "nulls": "first",
              "opclass": "numeric_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_duplicate_records_entity": {
          "name": "idx_duplicate_records_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_duplicate_records_org": {
          "name": "idx_duplicate_records_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_duplicate_records_status": {
          "name": "idx_duplicate_records_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "duplicate_records_org_id_fkey": {
          "name": "duplicate_records_org_id_fkey",
          "tableFrom": "duplicate_records",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "duplicate_records_reviewed_by_fkey": {
          "name": "duplicate_records_reviewed_by_fkey",
          "tableFrom": "duplicate_records",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_duplicate_pair": {
          "columns": [
            "org_id",
            "entity_type",
            "record_id_1",
            "record_id_2"
          ],
          "nullsNotDistinct": false,
          "name": "unique_duplicate_pair"
        }
      },
      "checkConstraints": {
        "ordered_record_ids": {
          "name": "ordered_record_ids",
          "value": "record_id_1 < record_id_2"
        }
      },
      "policies": {
        "duplicate_records_org_isolation": {
          "name": "duplicate_records_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid()))) OR ((auth.jwt() ->> 'role'::text) = 'service_role'::text))"
        }
      },
      "isRLSEnabled": true
    },
    "public.duplicate_rules": {
      "name": "duplicate_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "rule_name": {
          "name": "rule_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "match_fields": {
          "name": "match_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "match_type": {
          "name": "match_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'exact'"
        },
        "fuzzy_threshold": {
          "name": "fuzzy_threshold",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.85'"
        },
        "auto_merge_threshold": {
          "name": "auto_merge_threshold",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "auto_merge_enabled": {
          "name": "auto_merge_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_duplicate_rules_entity": {
          "name": "idx_duplicate_rules_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_duplicate_rules_org": {
          "name": "idx_duplicate_rules_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "duplicate_rules_created_by_fkey": {
          "name": "duplicate_rules_created_by_fkey",
          "tableFrom": "duplicate_rules",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "duplicate_rules_org_id_fkey": {
          "name": "duplicate_rules_org_id_fkey",
          "tableFrom": "duplicate_rules",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_rule_name": {
          "columns": [
            "org_id",
            "entity_type",
            "rule_name"
          ],
          "nullsNotDistinct": false,
          "name": "unique_rule_name"
        }
      },
      "checkConstraints": {},
      "policies": {
        "duplicate_rules_org_isolation": {
          "name": "duplicate_rules_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid()))) OR ((auth.jwt() ->> 'role'::text) = 'service_role'::text))"
        }
      },
      "isRLSEnabled": true
    },
    "public.archived_records": {
      "name": "archived_records",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "original_id": {
          "name": "original_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "original_data": {
          "name": "original_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "archive_reason": {
          "name": "archive_reason",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "archived_by": {
          "name": "archived_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "restored_at": {
          "name": "restored_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "restored_by": {
          "name": "restored_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "permanently_deleted_at": {
          "name": "permanently_deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_archived_records_archived_at": {
          "name": "idx_archived_records_archived_at",
          "columns": [
            {
              "expression": "archived_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_archived_records_entity": {
          "name": "idx_archived_records_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "original_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_archived_records_org": {
          "name": "idx_archived_records_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "archived_records_archived_by_fkey": {
          "name": "archived_records_archived_by_fkey",
          "tableFrom": "archived_records",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "archived_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "archived_records_deleted_by_fkey": {
          "name": "archived_records_deleted_by_fkey",
          "tableFrom": "archived_records",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "archived_records_org_id_fkey": {
          "name": "archived_records_org_id_fkey",
          "tableFrom": "archived_records",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "archived_records_restored_by_fkey": {
          "name": "archived_records_restored_by_fkey",
          "tableFrom": "archived_records",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "restored_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_archived_record": {
          "columns": [
            "org_id",
            "entity_type",
            "original_id"
          ],
          "nullsNotDistinct": false,
          "name": "unique_archived_record"
        }
      },
      "checkConstraints": {},
      "policies": {
        "archived_records_org_isolation": {
          "name": "archived_records_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid()))) OR ((auth.jwt() ->> 'role'::text) = 'service_role'::text))"
        }
      },
      "isRLSEnabled": true
    },
    "public.retention_policies": {
      "name": "retention_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "policy_name": {
          "name": "policy_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "retention_days": {
          "name": "retention_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "archive_after_days": {
          "name": "archive_after_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "delete_after_archive_days": {
          "name": "delete_after_archive_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status_filter": {
          "name": "status_filter",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "additional_conditions": {
          "name": "additional_conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_retention_policies_entity": {
          "name": "idx_retention_policies_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_retention_policies_org": {
          "name": "idx_retention_policies_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "retention_policies_created_by_fkey": {
          "name": "retention_policies_created_by_fkey",
          "tableFrom": "retention_policies",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "retention_policies_org_id_fkey": {
          "name": "retention_policies_org_id_fkey",
          "tableFrom": "retention_policies",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_retention_policy": {
          "columns": [
            "org_id",
            "entity_type",
            "policy_name"
          ],
          "nullsNotDistinct": false,
          "name": "unique_retention_policy"
        }
      },
      "checkConstraints": {},
      "policies": {
        "retention_policies_org_isolation": {
          "name": "retention_policies_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid()))) OR ((auth.jwt() ->> 'role'::text) = 'service_role'::text))"
        }
      },
      "isRLSEnabled": true
    },
    "public.candidate_resumes": {
      "name": "candidate_resumes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_latest": {
          "name": "is_latest",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "previous_version_id": {
          "name": "previous_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "bucket": {
          "name": "bucket",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'resumes'"
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resume_type": {
          "name": "resume_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'master'"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parsed_content": {
          "name": "parsed_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parsed_skills": {
          "name": "parsed_skills",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "parsed_experience": {
          "name": "parsed_experience",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_summary": {
          "name": "ai_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submission_write_up": {
          "name": "submission_write_up",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "is_archived": {
          "name": "is_archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "archived_by": {
          "name": "archived_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_candidate_resumes_candidate_id": {
          "name": "idx_candidate_resumes_candidate_id",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_candidate_resumes_contact_id": {
          "name": "idx_candidate_resumes_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_candidate_resumes_is_latest": {
          "name": "idx_candidate_resumes_is_latest",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "is_latest",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_latest = true)",
          "with": {}
        },
        "idx_candidate_resumes_not_archived": {
          "name": "idx_candidate_resumes_not_archived",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_archived = false)",
          "with": {}
        },
        "idx_candidate_resumes_org_id": {
          "name": "idx_candidate_resumes_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_candidate_resumes_resume_type": {
          "name": "idx_candidate_resumes_resume_type",
          "columns": [
            {
              "expression": "resume_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "candidate_resumes_archived_by_fkey": {
          "name": "candidate_resumes_archived_by_fkey",
          "tableFrom": "candidate_resumes",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "archived_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_resumes_candidate_id_fkey": {
          "name": "candidate_resumes_candidate_id_fkey",
          "tableFrom": "candidate_resumes",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_resumes_contact_id_fkey": {
          "name": "candidate_resumes_contact_id_fkey",
          "tableFrom": "candidate_resumes",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_resumes_org_id_fkey": {
          "name": "candidate_resumes_org_id_fkey",
          "tableFrom": "candidate_resumes",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_resumes_previous_version_id_fkey": {
          "name": "candidate_resumes_previous_version_id_fkey",
          "tableFrom": "candidate_resumes",
          "tableTo": "candidate_resumes",
          "schemaTo": "public",
          "columnsFrom": [
            "previous_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_resumes_uploaded_by_fkey": {
          "name": "candidate_resumes_uploaded_by_fkey",
          "tableFrom": "candidate_resumes",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Users can insert resumes in their org": {
          "name": "Users can insert resumes in their org",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "(org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid())))"
        },
        "Users can update resumes in their org": {
          "name": "Users can update resumes in their org",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Users can view resumes in their org": {
          "name": "Users can view resumes in their org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.user_profiles": {
      "name": "user_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "auth_id": {
          "name": "auth_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'America/New_York'"
        },
        "locale": {
          "name": "locale",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'en-US'"
        },
        "student_enrollment_date": {
          "name": "student_enrollment_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "student_course_id": {
          "name": "student_course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "student_current_module": {
          "name": "student_current_module",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "student_course_progress": {
          "name": "student_course_progress",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "student_graduation_date": {
          "name": "student_graduation_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "student_certificates": {
          "name": "student_certificates",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "employee_hire_date": {
          "name": "employee_hire_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "employee_department": {
          "name": "employee_department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_position": {
          "name": "employee_position",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_salary": {
          "name": "employee_salary",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "employee_status": {
          "name": "employee_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_manager_id": {
          "name": "employee_manager_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "employee_performance_rating": {
          "name": "employee_performance_rating",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_status": {
          "name": "candidate_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_resume_url": {
          "name": "candidate_resume_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_skills": {
          "name": "candidate_skills",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_experience_years": {
          "name": "candidate_experience_years",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_current_visa": {
          "name": "candidate_current_visa",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_visa_expiry": {
          "name": "candidate_visa_expiry",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_hourly_rate": {
          "name": "candidate_hourly_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_bench_start_date": {
          "name": "candidate_bench_start_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_availability": {
          "name": "candidate_availability",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_location": {
          "name": "candidate_location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_willing_to_relocate": {
          "name": "candidate_willing_to_relocate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "client_company_name": {
          "name": "client_company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_industry": {
          "name": "client_industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_tier": {
          "name": "client_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_contract_start_date": {
          "name": "client_contract_start_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "client_contract_end_date": {
          "name": "client_contract_end_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "client_payment_terms": {
          "name": "client_payment_terms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "client_preferred_markup_percentage": {
          "name": "client_preferred_markup_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "recruiter_territory": {
          "name": "recruiter_territory",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recruiter_specialization": {
          "name": "recruiter_specialization",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "recruiter_monthly_placement_target": {
          "name": "recruiter_monthly_placement_target",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2
        },
        "recruiter_pod_id": {
          "name": "recruiter_pod_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "search_vector": {
          "name": "search_vector",
          "type": "tsvector",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "leaderboard_visible": {
          "name": "leaderboard_visible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "middle_name": {
          "name": "middle_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_name": {
          "name": "preferred_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "gender": {
          "name": "gender",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "nationality": {
          "name": "nationality",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_secondary": {
          "name": "email_secondary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone_home": {
          "name": "phone_home",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone_work": {
          "name": "phone_work",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_contact_method": {
          "name": "preferred_contact_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_call_time": {
          "name": "preferred_call_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "do_not_contact": {
          "name": "do_not_contact",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "do_not_email": {
          "name": "do_not_email",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "do_not_text": {
          "name": "do_not_text",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "linkedin_url": {
          "name": "linkedin_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "github_url": {
          "name": "github_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "portfolio_url": {
          "name": "portfolio_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "personal_website": {
          "name": "personal_website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact_name": {
          "name": "emergency_contact_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact_relationship": {
          "name": "emergency_contact_relationship",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact_phone": {
          "name": "emergency_contact_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact_email": {
          "name": "emergency_contact_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_source": {
          "name": "lead_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_source_detail": {
          "name": "lead_source_detail",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "marketing_status": {
          "name": "marketing_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_on_hotlist": {
          "name": "is_on_hotlist",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "hotlist_added_at": {
          "name": "hotlist_added_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "hotlist_added_by": {
          "name": "hotlist_added_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "hotlist_notes": {
          "name": "hotlist_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_employment_status": {
          "name": "current_employment_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notice_period_days": {
          "name": "notice_period_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "earliest_start_date": {
          "name": "earliest_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_employment_type": {
          "name": "preferred_employment_type",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_locations": {
          "name": "preferred_locations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "relocation_assistance_required": {
          "name": "relocation_assistance_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "relocation_notes": {
          "name": "relocation_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "desired_salary_annual": {
          "name": "desired_salary_annual",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "desired_salary_currency": {
          "name": "desired_salary_currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "minimum_hourly_rate": {
          "name": "minimum_hourly_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "minimum_annual_salary": {
          "name": "minimum_annual_salary",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "benefits_required": {
          "name": "benefits_required",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "compensation_notes": {
          "name": "compensation_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "languages": {
          "name": "languages",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "recruiter_rating": {
          "name": "recruiter_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "recruiter_rating_notes": {
          "name": "recruiter_rating_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "profile_completeness_score": {
          "name": "profile_completeness_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_profile_update": {
          "name": "last_profile_update",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_activity_date": {
          "name": "last_activity_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_contacted_at": {
          "name": "last_contacted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_contacted_by": {
          "name": "last_contacted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "professional_headline": {
          "name": "professional_headline",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "professional_summary": {
          "name": "professional_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "career_objectives": {
          "name": "career_objectives",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "categories": {
          "name": "categories",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "employee_role": {
          "name": "employee_role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_placements": {
          "name": "total_placements",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "manager_id": {
          "name": "manager_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "two_factor_enabled": {
          "name": "two_factor_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "password_changed_at": {
          "name": "password_changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        }
      },
      "indexes": {
        "idx_user_profiles_active": {
          "name": "idx_user_profiles_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_user_profiles_auth": {
          "name": "idx_user_profiles_auth",
          "columns": [
            {
              "expression": "auth_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_profiles_auth_id": {
          "name": "idx_user_profiles_auth_id",
          "columns": [
            {
              "expression": "auth_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_user_profiles_auth_lookup": {
          "name": "idx_user_profiles_auth_lookup",
          "columns": [
            {
              "expression": "auth_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "email",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((deleted_at IS NULL) AND (is_active = true))",
          "with": {}
        },
        "idx_user_profiles_candidate_skills": {
          "name": "idx_user_profiles_candidate_skills",
          "columns": [
            {
              "expression": "candidate_skills",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "where": "((candidate_skills IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_user_profiles_candidate_status": {
          "name": "idx_user_profiles_candidate_status",
          "columns": [
            {
              "expression": "candidate_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((candidate_status IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_user_profiles_client_tier": {
          "name": "idx_user_profiles_client_tier",
          "columns": [
            {
              "expression": "client_tier",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((client_tier IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_user_profiles_created_at": {
          "name": "idx_user_profiles_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_profiles_email": {
          "name": "idx_user_profiles_email",
          "columns": [
            {
              "expression": "email",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_user_profiles_employee_department": {
          "name": "idx_user_profiles_employee_department",
          "columns": [
            {
              "expression": "employee_department",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((employee_department IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_user_profiles_employee_role": {
          "name": "idx_user_profiles_employee_role",
          "columns": [
            {
              "expression": "employee_role",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_user_profiles_last_login": {
          "name": "idx_user_profiles_last_login",
          "columns": [
            {
              "expression": "last_login_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_profiles_leaderboard_visible": {
          "name": "idx_user_profiles_leaderboard_visible",
          "columns": [
            {
              "expression": "leaderboard_visible",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(leaderboard_visible = true)",
          "with": {}
        },
        "idx_user_profiles_manager": {
          "name": "idx_user_profiles_manager",
          "columns": [
            {
              "expression": "manager_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_profiles_not_deleted": {
          "name": "idx_user_profiles_not_deleted",
          "columns": [
            {
              "expression": "id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_user_profiles_org": {
          "name": "idx_user_profiles_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_profiles_org_id": {
          "name": "idx_user_profiles_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_profiles_org_id_active": {
          "name": "idx_user_profiles_org_id_active",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_user_profiles_role": {
          "name": "idx_user_profiles_role",
          "columns": [
            {
              "expression": "role_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_profiles_search": {
          "name": "idx_user_profiles_search",
          "columns": [
            {
              "expression": "search_vector",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_user_profiles_status": {
          "name": "idx_user_profiles_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_profiles_stripe_customer": {
          "name": "idx_user_profiles_stripe_customer",
          "columns": [
            {
              "expression": "stripe_customer_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(stripe_customer_id IS NOT NULL)",
          "with": {}
        },
        "idx_user_profiles_updated_at": {
          "name": "idx_user_profiles_updated_at",
          "columns": [
            {
              "expression": "updated_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_profiles_manager_id_fkey": {
          "name": "user_profiles_manager_id_fkey",
          "tableFrom": "user_profiles",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_profiles_org_id_fkey": {
          "name": "user_profiles_org_id_fkey",
          "tableFrom": "user_profiles",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_profiles_role_id_fkey": {
          "name": "user_profiles_role_id_fkey",
          "tableFrom": "user_profiles",
          "tableTo": "system_roles",
          "schemaTo": "public",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_profiles_auth_id_key": {
          "columns": [
            "auth_id"
          ],
          "nullsNotDistinct": false,
          "name": "user_profiles_auth_id_key"
        },
        "user_profiles_email_key": {
          "columns": [
            "email"
          ],
          "nullsNotDistinct": false,
          "name": "user_profiles_email_key"
        }
      },
      "checkConstraints": {
        "user_profiles_status_check": {
          "name": "user_profiles_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'active'::text, 'suspended'::text, 'deactivated'::text])"
        },
        "valid_candidate_availability": {
          "name": "valid_candidate_availability",
          "value": "(candidate_availability IS NULL) OR (candidate_availability = ANY (ARRAY['immediate'::text, '2_weeks'::text, '1_month'::text]))"
        },
        "valid_candidate_status": {
          "name": "valid_candidate_status",
          "value": "(candidate_status IS NULL) OR (candidate_status = ANY (ARRAY['active'::text, 'placed'::text, 'bench'::text, 'inactive'::text, 'blacklisted'::text]))"
        },
        "valid_client_tier": {
          "name": "valid_client_tier",
          "value": "(client_tier IS NULL) OR (client_tier = ANY (ARRAY['preferred'::text, 'strategic'::text, 'exclusive'::text]))"
        },
        "valid_email": {
          "name": "valid_email",
          "value": "email ~* '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}$'::text"
        },
        "valid_employee_status": {
          "name": "valid_employee_status",
          "value": "(employee_status IS NULL) OR (employee_status = ANY (ARRAY['active'::text, 'on_leave'::text, 'terminated'::text]))"
        },
        "valid_phone": {
          "name": "valid_phone",
          "value": "(phone IS NULL) OR (phone ~* '^\\+?[1-9]\\d{1,14}$'::text)"
        }
      },
      "policies": {
        "Admins can insert profiles": {
          "name": "Admins can insert profiles",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "user_is_admin()"
        },
        "Admins can soft delete profiles": {
          "name": "Admins can soft delete profiles",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Admins can update any profile": {
          "name": "Admins can update any profile",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Admins can view all profiles": {
          "name": "Admins can view all profiles",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "HR managers can view employees": {
          "name": "HR managers can view employees",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Recruiters can view candidates": {
          "name": "Recruiters can view candidates",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Trainers can view students": {
          "name": "Trainers can view students",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Users can update own profile": {
          "name": "Users can update own profile",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Users can view own profile": {
          "name": "Users can view own profile",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Users can view profiles in their org": {
          "name": "Users can view profiles in their org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "candidates_context_read": {
          "name": "candidates_context_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "user_profiles_org_isolation": {
          "name": "user_profiles_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.candidate_background_checks": {
      "name": "candidate_background_checks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "submission_id": {
          "name": "submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "placement_id": {
          "name": "placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider_reference_id": {
          "name": "provider_reference_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider_order_id": {
          "name": "provider_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "package_name": {
          "name": "package_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "package_type": {
          "name": "package_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'not_started'"
        },
        "overall_result": {
          "name": "overall_result",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "requested_by": {
          "name": "requested_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "initiated_at": {
          "name": "initiated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_completion": {
          "name": "estimated_completion",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "valid_for_months": {
          "name": "valid_for_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 12
        },
        "checks": {
          "name": "checks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "adjudication_status": {
          "name": "adjudication_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "adjudication_notes": {
          "name": "adjudication_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "adjudicated_by": {
          "name": "adjudicated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "adjudicated_at": {
          "name": "adjudicated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "adverse_action_required": {
          "name": "adverse_action_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "pre_adverse_sent_at": {
          "name": "pre_adverse_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "pre_adverse_response_deadline": {
          "name": "pre_adverse_response_deadline",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "final_adverse_sent_at": {
          "name": "final_adverse_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "adverse_action_notes": {
          "name": "adverse_action_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "consent_form_file_id": {
          "name": "consent_form_file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "consent_signed_at": {
          "name": "consent_signed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "consent_ip_address": {
          "name": "consent_ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "consent_user_agent": {
          "name": "consent_user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "authorization_form_file_id": {
          "name": "authorization_form_file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "report_file_id": {
          "name": "report_file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "report_received_at": {
          "name": "report_received_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cost": {
          "name": "cost",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "cost_currency": {
          "name": "cost_currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "billed_to": {
          "name": "billed_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "internal_notes": {
          "name": "internal_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_bgc_candidate": {
          "name": "idx_bgc_candidate",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bgc_org": {
          "name": "idx_bgc_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_candidate_background_checks_contact_id": {
          "name": "idx_candidate_background_checks_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "candidate_background_checks_candidate_id_fkey": {
          "name": "candidate_background_checks_candidate_id_fkey",
          "tableFrom": "candidate_background_checks",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_background_checks_contact_id_fkey": {
          "name": "candidate_background_checks_contact_id_fkey",
          "tableFrom": "candidate_background_checks",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_background_checks_org_id_fkey": {
          "name": "candidate_background_checks_org_id_fkey",
          "tableFrom": "candidate_background_checks",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_background_checks_placement_id_fkey": {
          "name": "candidate_background_checks_placement_id_fkey",
          "tableFrom": "candidate_background_checks",
          "tableTo": "placements",
          "schemaTo": "public",
          "columnsFrom": [
            "placement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "candidate_background_checks_submission_id_fkey": {
          "name": "candidate_background_checks_submission_id_fkey",
          "tableFrom": "candidate_background_checks",
          "tableTo": "submissions",
          "schemaTo": "public",
          "columnsFrom": [
            "submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "bgv_service_all": {
          "name": "bgv_service_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "service_role"
          ],
          "withCheck": "true",
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.candidate_certifications": {
      "name": "candidate_certifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "certification_type": {
          "name": "certification_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "acronym": {
          "name": "acronym",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "issuing_organization": {
          "name": "issuing_organization",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "credential_id": {
          "name": "credential_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "credential_url": {
          "name": "credential_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "issue_date": {
          "name": "issue_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_lifetime": {
          "name": "is_lifetime",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "requires_renewal": {
          "name": "requires_renewal",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "renewal_period_months": {
          "name": "renewal_period_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cpe_credits_required": {
          "name": "cpe_credits_required",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "license_type": {
          "name": "license_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "license_number": {
          "name": "license_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "license_state": {
          "name": "license_state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "license_country": {
          "name": "license_country",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "license_jurisdiction": {
          "name": "license_jurisdiction",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "clearance_level": {
          "name": "clearance_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "clearance_status": {
          "name": "clearance_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "clearance_granted_date": {
          "name": "clearance_granted_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "investigation_type": {
          "name": "investigation_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "polygraph_type": {
          "name": "polygraph_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "polygraph_date": {
          "name": "polygraph_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "sap_access": {
          "name": "sap_access",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sci_access": {
          "name": "sci_access",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "verification_method": {
          "name": "verification_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verification_notes": {
          "name": "verification_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_file_id": {
          "name": "document_file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_featured": {
          "name": "is_featured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_candidate_certifications_contact_id": {
          "name": "idx_candidate_certifications_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_certifications_candidate": {
          "name": "idx_certifications_candidate",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_certifications_org": {
          "name": "idx_certifications_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "candidate_certifications_candidate_id_fkey": {
          "name": "candidate_certifications_candidate_id_fkey",
          "tableFrom": "candidate_certifications",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_certifications_contact_id_fkey": {
          "name": "candidate_certifications_contact_id_fkey",
          "tableFrom": "candidate_certifications",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_certifications_org_id_fkey": {
          "name": "candidate_certifications_org_id_fkey",
          "tableFrom": "candidate_certifications",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "certifications_service_all": {
          "name": "certifications_service_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "service_role"
          ],
          "withCheck": "true",
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.candidate_compliance_documents": {
      "name": "candidate_compliance_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "placement_id": {
          "name": "placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "submission_id": {
          "name": "submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "document_type": {
          "name": "document_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "document_name": {
          "name": "document_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "document_description": {
          "name": "document_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_category": {
          "name": "document_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'required'"
        },
        "required_by": {
          "name": "required_by",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rejected_at": {
          "name": "rejected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rejected_by": {
          "name": "rejected_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "file_id": {
          "name": "file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "file_mime_type": {
          "name": "file_mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requires_signature": {
          "name": "requires_signature",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_signed": {
          "name": "is_signed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "signed_at": {
          "name": "signed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "signer_name": {
          "name": "signer_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "signer_email": {
          "name": "signer_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "signature_ip": {
          "name": "signature_ip",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "signature_user_agent": {
          "name": "signature_user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "signature_method": {
          "name": "signature_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "signature_envelope_id": {
          "name": "signature_envelope_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "previous_version_id": {
          "name": "previous_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_current_version": {
          "name": "is_current_version",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_name": {
          "name": "client_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "internal_notes": {
          "name": "internal_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_candidate_compliance_documents_contact_id": {
          "name": "idx_candidate_compliance_documents_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_compliance_docs_candidate": {
          "name": "idx_compliance_docs_candidate",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_docs_org": {
          "name": "idx_compliance_docs_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "candidate_compliance_documents_candidate_id_fkey": {
          "name": "candidate_compliance_documents_candidate_id_fkey",
          "tableFrom": "candidate_compliance_documents",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_compliance_documents_contact_id_fkey": {
          "name": "candidate_compliance_documents_contact_id_fkey",
          "tableFrom": "candidate_compliance_documents",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_compliance_documents_org_id_fkey": {
          "name": "candidate_compliance_documents_org_id_fkey",
          "tableFrom": "candidate_compliance_documents",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_compliance_documents_placement_id_fkey": {
          "name": "candidate_compliance_documents_placement_id_fkey",
          "tableFrom": "candidate_compliance_documents",
          "tableTo": "placements",
          "schemaTo": "public",
          "columnsFrom": [
            "placement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "candidate_compliance_documents_submission_id_fkey": {
          "name": "candidate_compliance_documents_submission_id_fkey",
          "tableFrom": "candidate_compliance_documents",
          "tableTo": "submissions",
          "schemaTo": "public",
          "columnsFrom": [
            "submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "compliance_service_all": {
          "name": "compliance_service_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "service_role"
          ],
          "withCheck": "true",
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.object_owners": {
      "name": "object_owners",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "permission": {
          "name": "permission",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'view'"
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "assigned_by": {
          "name": "assigned_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assignment_type": {
          "name": "assignment_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'auto'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_object_owners_entity": {
          "name": "idx_object_owners_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_object_owners_is_primary": {
          "name": "idx_object_owners_is_primary",
          "columns": [
            {
              "expression": "is_primary",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_primary = true)",
          "with": {}
        },
        "idx_object_owners_org": {
          "name": "idx_object_owners_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_object_owners_org_id": {
          "name": "idx_object_owners_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_object_owners_permission": {
          "name": "idx_object_owners_permission",
          "columns": [
            {
              "expression": "permission",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_object_owners_primary": {
          "name": "idx_object_owners_primary",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_primary = true)",
          "with": {}
        },
        "idx_object_owners_role": {
          "name": "idx_object_owners_role",
          "columns": [
            {
              "expression": "role",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_object_owners_user": {
          "name": "idx_object_owners_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_object_owners_user_id": {
          "name": "idx_object_owners_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "object_owners_assigned_by_fkey": {
          "name": "object_owners_assigned_by_fkey",
          "tableFrom": "object_owners",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "assigned_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "object_owners_org_id_fkey": {
          "name": "object_owners_org_id_fkey",
          "tableFrom": "object_owners",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "object_owners_user_id_fkey": {
          "name": "object_owners_user_id_fkey",
          "tableFrom": "object_owners",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "object_owners_entity_type_entity_id_user_id_key": {
          "columns": [
            "entity_type",
            "entity_id",
            "user_id"
          ],
          "nullsNotDistinct": false,
          "name": "object_owners_entity_type_entity_id_user_id_key"
        }
      },
      "checkConstraints": {
        "object_owners_assignment_type_check": {
          "name": "object_owners_assignment_type_check",
          "value": "assignment_type = ANY (ARRAY['auto'::text, 'manual'::text])"
        },
        "object_owners_entity_type_check": {
          "name": "object_owners_entity_type_check",
          "value": "entity_type = ANY (ARRAY['campaign'::text, 'lead'::text, 'deal'::text, 'account'::text, 'job'::text, 'job_order'::text, 'submission'::text, 'contact'::text, 'external_job'::text])"
        },
        "object_owners_permission_check": {
          "name": "object_owners_permission_check",
          "value": "permission = ANY (ARRAY['edit'::text, 'view'::text])"
        },
        "object_owners_role_check": {
          "name": "object_owners_role_check",
          "value": "role = ANY (ARRAY['responsible'::text, 'accountable'::text, 'consulted'::text, 'informed'::text])"
        }
      },
      "policies": {
        "object_owners_org_isolation": {
          "name": "object_owners_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid())))"
        },
        "object_owners_user_read": {
          "name": "object_owners_user_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.candidate_education": {
      "name": "candidate_education",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "degree_type": {
          "name": "degree_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "degree_name": {
          "name": "degree_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "field_of_study": {
          "name": "field_of_study",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "minor": {
          "name": "minor",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "concentration": {
          "name": "concentration",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "institution_name": {
          "name": "institution_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "institution_type": {
          "name": "institution_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "institution_city": {
          "name": "institution_city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "institution_state": {
          "name": "institution_state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "institution_country": {
          "name": "institution_country",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country_code": {
          "name": "country_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expected_graduation": {
          "name": "expected_graduation",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "gpa": {
          "name": "gpa",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "gpa_scale": {
          "name": "gpa_scale",
          "type": "numeric(3, 1)",
          "primaryKey": false,
          "notNull": false,
          "default": "'4.0'"
        },
        "class_rank": {
          "name": "class_rank",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "honors": {
          "name": "honors",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "thesis_title": {
          "name": "thesis_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "dissertation_title": {
          "name": "dissertation_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "verification_method": {
          "name": "verification_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verification_notes": {
          "name": "verification_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "transcript_file_id": {
          "name": "transcript_file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "diploma_file_id": {
          "name": "diploma_file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_highest_degree": {
          "name": "is_highest_degree",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_candidate_education_contact_id": {
          "name": "idx_candidate_education_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_education_candidate": {
          "name": "idx_education_candidate",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_education_org": {
          "name": "idx_education_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "candidate_education_candidate_id_fkey": {
          "name": "candidate_education_candidate_id_fkey",
          "tableFrom": "candidate_education",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_education_contact_id_fkey": {
          "name": "candidate_education_contact_id_fkey",
          "tableFrom": "candidate_education",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_education_org_id_fkey": {
          "name": "candidate_education_org_id_fkey",
          "tableFrom": "candidate_education",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "education_service_all": {
          "name": "education_service_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "service_role"
          ],
          "withCheck": "true",
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.candidate_references": {
      "name": "candidate_references",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "reference_name": {
          "name": "reference_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reference_title": {
          "name": "reference_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reference_company": {
          "name": "reference_company",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "relationship_type": {
          "name": "relationship_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "relationship_description": {
          "name": "relationship_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "years_known": {
          "name": "years_known",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "worked_together_from": {
          "name": "worked_together_from",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "worked_together_to": {
          "name": "worked_together_to",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "linkedin_url": {
          "name": "linkedin_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_contact_method": {
          "name": "preferred_contact_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "best_time_to_contact": {
          "name": "best_time_to_contact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "contact_attempts": {
          "name": "contact_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_contact_attempt": {
          "name": "last_contact_attempt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "contacted_at": {
          "name": "contacted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "contacted_by": {
          "name": "contacted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "overall_impression": {
          "name": "overall_impression",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "would_rehire": {
          "name": "would_rehire",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "would_work_with_again": {
          "name": "would_work_with_again",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "feedback_summary": {
          "name": "feedback_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "strengths": {
          "name": "strengths",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "areas_for_improvement": {
          "name": "areas_for_improvement",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "questionnaire_responses": {
          "name": "questionnaire_responses",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "verification_notes": {
          "name": "verification_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "internal_notes": {
          "name": "internal_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reference_consent_given": {
          "name": "reference_consent_given",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "consent_date": {
          "name": "consent_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_candidate_references_contact_id": {
          "name": "idx_candidate_references_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_references_candidate": {
          "name": "idx_references_candidate",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_references_org": {
          "name": "idx_references_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "candidate_references_candidate_id_fkey": {
          "name": "candidate_references_candidate_id_fkey",
          "tableFrom": "candidate_references",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_references_contact_id_fkey": {
          "name": "candidate_references_contact_id_fkey",
          "tableFrom": "candidate_references",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_references_org_id_fkey": {
          "name": "candidate_references_org_id_fkey",
          "tableFrom": "candidate_references",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "references_service_all": {
          "name": "references_service_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "service_role"
          ],
          "withCheck": "true",
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.candidate_work_authorizations": {
      "name": "candidate_work_authorizations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "authorization_type": {
          "name": "authorization_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "visa_type": {
          "name": "visa_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country_code": {
          "name": "country_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "issue_date": {
          "name": "issue_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "receipt_number": {
          "name": "receipt_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requires_sponsorship": {
          "name": "requires_sponsorship",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "current_sponsor": {
          "name": "current_sponsor",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_transferable": {
          "name": "is_transferable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "transfer_in_progress": {
          "name": "transfer_in_progress",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "cap_exempt": {
          "name": "cap_exempt",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "lottery_selected": {
          "name": "lottery_selected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "lottery_year": {
          "name": "lottery_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ead_category": {
          "name": "ead_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ead_card_number": {
          "name": "ead_card_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ead_expiry": {
          "name": "ead_expiry",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "i9_completed": {
          "name": "i9_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "i9_completed_at": {
          "name": "i9_completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "i9_expiry_date": {
          "name": "i9_expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "i9_section_2_completed": {
          "name": "i9_section_2_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "i9_document_list": {
          "name": "i9_document_list",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "i9_document_details": {
          "name": "i9_document_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "e_verify_status": {
          "name": "e_verify_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "e_verify_case_number": {
          "name": "e_verify_case_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "e_verify_completion_date": {
          "name": "e_verify_completion_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "passport_country": {
          "name": "passport_country",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "passport_number_encrypted": {
          "name": "passport_number_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "passport_issue_date": {
          "name": "passport_issue_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "passport_expiry_date": {
          "name": "passport_expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "has_valid_visa_stamp": {
          "name": "has_valid_visa_stamp",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "visa_stamp_expiry": {
          "name": "visa_stamp_expiry",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "documents": {
          "name": "documents",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_candidate_work_authorizations_contact_id": {
          "name": "idx_candidate_work_authorizations_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_work_auth_candidate": {
          "name": "idx_work_auth_candidate",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_auth_country": {
          "name": "idx_work_auth_country",
          "columns": [
            {
              "expression": "country_code",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_auth_expiry": {
          "name": "idx_work_auth_expiry",
          "columns": [
            {
              "expression": "expiry_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_auth_org": {
          "name": "idx_work_auth_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_auth_status": {
          "name": "idx_work_auth_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "candidate_work_authorizations_candidate_id_fkey": {
          "name": "candidate_work_authorizations_candidate_id_fkey",
          "tableFrom": "candidate_work_authorizations",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_work_authorizations_contact_id_fkey": {
          "name": "candidate_work_authorizations_contact_id_fkey",
          "tableFrom": "candidate_work_authorizations",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_work_authorizations_org_id_fkey": {
          "name": "candidate_work_authorizations_org_id_fkey",
          "tableFrom": "candidate_work_authorizations",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "work_auth_service_all": {
          "name": "work_auth_service_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "service_role"
          ],
          "withCheck": "true",
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.regions": {
      "name": "regions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'America/New_York'"
        },
        "manager_id": {
          "name": "manager_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_regions_is_active": {
          "name": "idx_regions_is_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_regions_manager_id": {
          "name": "idx_regions_manager_id",
          "columns": [
            {
              "expression": "manager_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_regions_org_id": {
          "name": "idx_regions_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "regions_created_by_fkey": {
          "name": "regions_created_by_fkey",
          "tableFrom": "regions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "regions_manager_id_fkey": {
          "name": "regions_manager_id_fkey",
          "tableFrom": "regions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "regions_org_id_fkey": {
          "name": "regions_org_id_fkey",
          "tableFrom": "regions",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "regions_org_isolation": {
          "name": "regions_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.pod_members": {
      "name": "pod_members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "pod_id": {
          "name": "pod_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "left_at": {
          "name": "left_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_pod_members_is_active": {
          "name": "idx_pod_members_is_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pod_members_org_id": {
          "name": "idx_pod_members_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pod_members_pod_id": {
          "name": "idx_pod_members_pod_id",
          "columns": [
            {
              "expression": "pod_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pod_members_user_id": {
          "name": "idx_pod_members_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pod_members_org_id_fkey": {
          "name": "pod_members_org_id_fkey",
          "tableFrom": "pod_members",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "pod_members_pod_id_fkey": {
          "name": "pod_members_pod_id_fkey",
          "tableFrom": "pod_members",
          "tableTo": "pods",
          "schemaTo": "public",
          "columnsFrom": [
            "pod_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "pod_members_user_id_fkey": {
          "name": "pod_members_user_id_fkey",
          "tableFrom": "pod_members",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "pod_members_pod_id_user_id_key": {
          "columns": [
            "pod_id",
            "user_id"
          ],
          "nullsNotDistinct": false,
          "name": "pod_members_pod_id_user_id_key"
        }
      },
      "checkConstraints": {
        "pod_members_role_check": {
          "name": "pod_members_role_check",
          "value": "role = ANY (ARRAY['senior'::text, 'junior'::text])"
        }
      },
      "policies": {
        "pod_members_org_isolation": {
          "name": "pod_members_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.job_skills": {
      "name": "job_skills",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "skill_id": {
          "name": "skill_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "importance": {
          "name": "importance",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'required'"
        },
        "min_years": {
          "name": "min_years",
          "type": "numeric(4, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_job_skills_job_id": {
          "name": "idx_job_skills_job_id",
          "columns": [
            {
              "expression": "job_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_job_skills_skill_id": {
          "name": "idx_job_skills_skill_id",
          "columns": [
            {
              "expression": "skill_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "job_skills_job_id_fkey": {
          "name": "job_skills_job_id_fkey",
          "tableFrom": "job_skills",
          "tableTo": "jobs",
          "schemaTo": "public",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "job_skills_org_id_fkey": {
          "name": "job_skills_org_id_fkey",
          "tableFrom": "job_skills",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "job_skills_skill_id_fkey": {
          "name": "job_skills_skill_id_fkey",
          "tableFrom": "job_skills",
          "tableTo": "skills",
          "schemaTo": "public",
          "columnsFrom": [
            "skill_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "job_skills_job_id_skill_id_key": {
          "columns": [
            "job_id",
            "skill_id"
          ],
          "nullsNotDistinct": false,
          "name": "job_skills_job_id_skill_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.system_roles": {
      "name": "system_roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "hierarchy_level": {
          "name": "hierarchy_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_system_role": {
          "name": "is_system_role",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "color_code": {
          "name": "color_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'#6366f1'"
        },
        "icon_name": {
          "name": "icon_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pod_type": {
          "name": "pod_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_permissions": {
          "name": "default_permissions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_system_roles_category": {
          "name": "idx_system_roles_category",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_system_roles_code": {
          "name": "idx_system_roles_code",
          "columns": [
            {
              "expression": "code",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_system_roles_pod_type": {
          "name": "idx_system_roles_pod_type",
          "columns": [
            {
              "expression": "pod_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "system_roles_code_key": {
          "columns": [
            "code"
          ],
          "nullsNotDistinct": false,
          "name": "system_roles_code_key"
        }
      },
      "checkConstraints": {
        "system_roles_category_check": {
          "name": "system_roles_category_check",
          "value": "category = ANY (ARRAY['pod_ic'::text, 'pod_manager'::text, 'leadership'::text, 'executive'::text, 'portal'::text, 'admin'::text])"
        },
        "system_roles_pod_type_check": {
          "name": "system_roles_pod_type_check",
          "value": "(pod_type IS NULL) OR (pod_type = ANY (ARRAY['recruiting'::text, 'bench_sales'::text, 'ta'::text]))"
        }
      },
      "policies": {
        "system_roles_public_read": {
          "name": "system_roles_public_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.job_requirements": {
      "name": "job_requirements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "requirement": {
          "name": "requirement",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'must_have'"
        },
        "sequence": {
          "name": "sequence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_job_requirements_job_id": {
          "name": "idx_job_requirements_job_id",
          "columns": [
            {
              "expression": "job_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "job_requirements_job_id_fkey": {
          "name": "job_requirements_job_id_fkey",
          "tableFrom": "job_requirements",
          "tableTo": "jobs",
          "schemaTo": "public",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "job_requirements_org_id_fkey": {
          "name": "job_requirements_org_id_fkey",
          "tableFrom": "job_requirements",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.job_rates": {
      "name": "job_rates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "bill_rate_min": {
          "name": "bill_rate_min",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "bill_rate_max": {
          "name": "bill_rate_max",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "pay_rate_min": {
          "name": "pay_rate_min",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "pay_rate_max": {
          "name": "pay_rate_max",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "rate_type": {
          "name": "rate_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'hourly'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_job_rates_job_id": {
          "name": "idx_job_rates_job_id",
          "columns": [
            {
              "expression": "job_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "job_rates_job_id_fkey": {
          "name": "job_rates_job_id_fkey",
          "tableFrom": "job_rates",
          "tableTo": "jobs",
          "schemaTo": "public",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "job_rates_org_id_fkey": {
          "name": "job_rates_org_id_fkey",
          "tableFrom": "job_rates",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.job_assignments": {
      "name": "job_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'secondary'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_job_assignments_job_id": {
          "name": "idx_job_assignments_job_id",
          "columns": [
            {
              "expression": "job_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_job_assignments_user_id": {
          "name": "idx_job_assignments_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "job_assignments_job_id_fkey": {
          "name": "job_assignments_job_id_fkey",
          "tableFrom": "job_assignments",
          "tableTo": "jobs",
          "schemaTo": "public",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "job_assignments_org_id_fkey": {
          "name": "job_assignments_org_id_fkey",
          "tableFrom": "job_assignments",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "job_assignments_user_id_fkey": {
          "name": "job_assignments_user_id_fkey",
          "tableFrom": "job_assignments",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "job_assignments_job_id_user_id_key": {
          "columns": [
            "job_id",
            "user_id"
          ],
          "nullsNotDistinct": false,
          "name": "job_assignments_job_id_user_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.job_screening_questions": {
      "name": "job_screening_questions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "question": {
          "name": "question",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'text'"
        },
        "options": {
          "name": "options",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sequence": {
          "name": "sequence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_job_screening_questions_job_id": {
          "name": "idx_job_screening_questions_job_id",
          "columns": [
            {
              "expression": "job_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "job_screening_questions_job_id_fkey": {
          "name": "job_screening_questions_job_id_fkey",
          "tableFrom": "job_screening_questions",
          "tableTo": "jobs",
          "schemaTo": "public",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "job_screening_questions_org_id_fkey": {
          "name": "job_screening_questions_org_id_fkey",
          "tableFrom": "job_screening_questions",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.candidate_documents": {
      "name": "candidate_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_candidate_documents_candidate_id": {
          "name": "idx_candidate_documents_candidate_id",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_candidate_documents_contact_id": {
          "name": "idx_candidate_documents_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "candidate_documents_candidate_id_fkey": {
          "name": "candidate_documents_candidate_id_fkey",
          "tableFrom": "candidate_documents",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_documents_contact_id_fkey": {
          "name": "candidate_documents_contact_id_fkey",
          "tableFrom": "candidate_documents",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_documents_org_id_fkey": {
          "name": "candidate_documents_org_id_fkey",
          "tableFrom": "candidate_documents",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.candidate_profiles": {
      "name": "candidate_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_experience_years": {
          "name": "total_experience_years",
          "type": "numeric(4, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "highest_education": {
          "name": "highest_education",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "linkedin_url": {
          "name": "linkedin_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "github_url": {
          "name": "github_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "portfolio_url": {
          "name": "portfolio_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_candidate_profiles_contact_id": {
          "name": "idx_candidate_profiles_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "candidate_profiles_candidate_id_fkey": {
          "name": "candidate_profiles_candidate_id_fkey",
          "tableFrom": "candidate_profiles",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_profiles_contact_id_fkey": {
          "name": "candidate_profiles_contact_id_fkey",
          "tableFrom": "candidate_profiles",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_profiles_org_id_fkey": {
          "name": "candidate_profiles_org_id_fkey",
          "tableFrom": "candidate_profiles",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "candidate_profiles_candidate_id_key": {
          "columns": [
            "candidate_id"
          ],
          "nullsNotDistinct": false,
          "name": "candidate_profiles_candidate_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.candidate_preferences": {
      "name": "candidate_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "preferred_job_types": {
          "name": "preferred_job_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_work_modes": {
          "name": "preferred_work_modes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_industries": {
          "name": "preferred_industries",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "min_rate": {
          "name": "min_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "max_commute_miles": {
          "name": "max_commute_miles",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_candidate_preferences_contact_id": {
          "name": "idx_candidate_preferences_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "candidate_preferences_candidate_id_fkey": {
          "name": "candidate_preferences_candidate_id_fkey",
          "tableFrom": "candidate_preferences",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_preferences_contact_id_fkey": {
          "name": "candidate_preferences_contact_id_fkey",
          "tableFrom": "candidate_preferences",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_preferences_org_id_fkey": {
          "name": "candidate_preferences_org_id_fkey",
          "tableFrom": "candidate_preferences",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "candidate_preferences_candidate_id_key": {
          "columns": [
            "candidate_id"
          ],
          "nullsNotDistinct": false,
          "name": "candidate_preferences_candidate_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.candidate_availability": {
      "name": "candidate_availability",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "available_from": {
          "name": "available_from",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "notice_period_days": {
          "name": "notice_period_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_rate_min": {
          "name": "preferred_rate_min",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_rate_max": {
          "name": "preferred_rate_max",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_candidate_availability_contact_id": {
          "name": "idx_candidate_availability_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "candidate_availability_candidate_id_fkey": {
          "name": "candidate_availability_candidate_id_fkey",
          "tableFrom": "candidate_availability",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_availability_contact_id_fkey": {
          "name": "candidate_availability_contact_id_fkey",
          "tableFrom": "candidate_availability",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_availability_org_id_fkey": {
          "name": "candidate_availability_org_id_fkey",
          "tableFrom": "candidate_availability",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "candidate_availability_candidate_id_key": {
          "columns": [
            "candidate_id"
          ],
          "nullsNotDistinct": false,
          "name": "candidate_availability_candidate_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.submission_rates": {
      "name": "submission_rates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "submission_id": {
          "name": "submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "bill_rate": {
          "name": "bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "pay_rate": {
          "name": "pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "margin_percent": {
          "name": "margin_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "margin_amount": {
          "name": "margin_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "submission_rates_org_id_fkey": {
          "name": "submission_rates_org_id_fkey",
          "tableFrom": "submission_rates",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "submission_rates_submission_id_fkey": {
          "name": "submission_rates_submission_id_fkey",
          "tableFrom": "submission_rates",
          "tableTo": "submissions",
          "schemaTo": "public",
          "columnsFrom": [
            "submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "submission_rates_submission_id_key": {
          "columns": [
            "submission_id"
          ],
          "nullsNotDistinct": false,
          "name": "submission_rates_submission_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.submission_screening_answers": {
      "name": "submission_screening_answers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "submission_id": {
          "name": "submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "question_id": {
          "name": "question_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "answer": {
          "name": "answer",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_submission_screening_answers_submission_id": {
          "name": "idx_submission_screening_answers_submission_id",
          "columns": [
            {
              "expression": "submission_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "submission_screening_answers_org_id_fkey": {
          "name": "submission_screening_answers_org_id_fkey",
          "tableFrom": "submission_screening_answers",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "submission_screening_answers_question_id_fkey": {
          "name": "submission_screening_answers_question_id_fkey",
          "tableFrom": "submission_screening_answers",
          "tableTo": "job_screening_questions",
          "schemaTo": "public",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "submission_screening_answers_submission_id_fkey": {
          "name": "submission_screening_answers_submission_id_fkey",
          "tableFrom": "submission_screening_answers",
          "tableTo": "submissions",
          "schemaTo": "public",
          "columnsFrom": [
            "submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "submission_screening_answers_submission_id_question_id_key": {
          "columns": [
            "submission_id",
            "question_id"
          ],
          "nullsNotDistinct": false,
          "name": "submission_screening_answers_submission_id_question_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.submission_notes": {
      "name": "submission_notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "submission_id": {
          "name": "submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_client_visible": {
          "name": "is_client_visible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_submission_notes_submission_id": {
          "name": "idx_submission_notes_submission_id",
          "columns": [
            {
              "expression": "submission_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "submission_notes_created_by_fkey": {
          "name": "submission_notes_created_by_fkey",
          "tableFrom": "submission_notes",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submission_notes_org_id_fkey": {
          "name": "submission_notes_org_id_fkey",
          "tableFrom": "submission_notes",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "submission_notes_submission_id_fkey": {
          "name": "submission_notes_submission_id_fkey",
          "tableFrom": "submission_notes",
          "tableTo": "submissions",
          "schemaTo": "public",
          "columnsFrom": [
            "submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.marketing_templates": {
      "name": "marketing_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "format_type": {
          "name": "format_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "template_content": {
          "name": "template_content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "placeholders": {
          "name": "placeholders",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_marketing_templates_org_id": {
          "name": "idx_marketing_templates_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "marketing_templates_created_by_fkey": {
          "name": "marketing_templates_created_by_fkey",
          "tableFrom": "marketing_templates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_templates_org_id_fkey": {
          "name": "marketing_templates_org_id_fkey",
          "tableFrom": "marketing_templates",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.hotlist_consultants": {
      "name": "hotlist_consultants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "hotlist_id": {
          "name": "hotlist_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "consultant_id": {
          "name": "consultant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "position_order": {
          "name": "position_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "added_at": {
          "name": "added_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "added_by": {
          "name": "added_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_hotlist_consultants_consultant_id": {
          "name": "idx_hotlist_consultants_consultant_id",
          "columns": [
            {
              "expression": "consultant_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_hotlist_consultants_hotlist_id": {
          "name": "idx_hotlist_consultants_hotlist_id",
          "columns": [
            {
              "expression": "hotlist_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "hotlist_consultants_added_by_fkey": {
          "name": "hotlist_consultants_added_by_fkey",
          "tableFrom": "hotlist_consultants",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "added_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "hotlist_consultants_consultant_id_fkey": {
          "name": "hotlist_consultants_consultant_id_fkey",
          "tableFrom": "hotlist_consultants",
          "tableTo": "bench_consultants",
          "schemaTo": "public",
          "columnsFrom": [
            "consultant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "hotlist_consultants_hotlist_id_consultant_id_key": {
          "columns": [
            "hotlist_id",
            "consultant_id"
          ],
          "nullsNotDistinct": false,
          "name": "hotlist_consultants_hotlist_id_consultant_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.events": {
      "name": "events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_category": {
          "name": "event_category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "aggregate_id": {
          "name": "aggregate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_email": {
          "name": "user_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "event_version": {
          "name": "event_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'info'"
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "actor_type": {
          "name": "actor_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'user'"
        },
        "actor_id": {
          "name": "actor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "event_data": {
          "name": "event_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "related_entities": {
          "name": "related_entities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "causation_id": {
          "name": "causation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_event_id": {
          "name": "parent_event_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_events_actor_id": {
          "name": "idx_events_actor_id",
          "columns": [
            {
              "expression": "actor_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_events_aggregate_id": {
          "name": "idx_events_aggregate_id",
          "columns": [
            {
              "expression": "aggregate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(aggregate_id IS NOT NULL)",
          "with": {}
        },
        "idx_events_correlation_id": {
          "name": "idx_events_correlation_id",
          "columns": [
            {
              "expression": "correlation_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_events_created_at": {
          "name": "idx_events_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_events_entity_type_id": {
          "name": "idx_events_entity_type_id",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_events_event_category": {
          "name": "idx_events_event_category",
          "columns": [
            {
              "expression": "event_category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_events_event_type": {
          "name": "idx_events_event_type",
          "columns": [
            {
              "expression": "event_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_events_idempotency_key": {
          "name": "idx_events_idempotency_key",
          "columns": [
            {
              "expression": "idempotency_key",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_events_next_retry": {
          "name": "idx_events_next_retry",
          "columns": [
            {
              "expression": "next_retry_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(next_retry_at IS NOT NULL)",
          "with": {}
        },
        "idx_events_occurred_at": {
          "name": "idx_events_occurred_at",
          "columns": [
            {
              "expression": "occurred_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_events_org_id": {
          "name": "idx_events_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_events_status": {
          "name": "idx_events_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = ANY (ARRAY['pending'::text, 'processing'::text, 'failed'::text]))",
          "with": {}
        },
        "idx_events_user_id": {
          "name": "idx_events_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(user_id IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "events_org_id_fkey": {
          "name": "events_org_id_fkey",
          "tableFrom": "events",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "events_user_id_fkey": {
          "name": "events_user_id_fkey",
          "tableFrom": "events",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "valid_event_status": {
          "name": "valid_event_status",
          "value": "status = ANY (ARRAY['pending'::text, 'processing'::text, 'completed'::text, 'failed'::text, 'dead_letter'::text])"
        },
        "valid_max_retries": {
          "name": "valid_max_retries",
          "value": "max_retries >= 0"
        },
        "valid_retry_count": {
          "name": "valid_retry_count",
          "value": "retry_count >= 0"
        }
      },
      "policies": {
        "Admins can view all events": {
          "name": "Admins can view all events",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "user_is_admin()"
        },
        "System can publish events": {
          "name": "System can publish events",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "System can update events": {
          "name": "System can update events",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Users can view events in their org": {
          "name": "Users can view events in their org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Users can view own events": {
          "name": "Users can view own events",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.event_subscriptions": {
      "name": "event_subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "uuid_generate_v4()"
        },
        "subscriber_name": {
          "name": "subscriber_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_pattern": {
          "name": "event_pattern",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "handler_function": {
          "name": "handler_function",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_url": {
          "name": "webhook_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_triggered_at": {
          "name": "last_triggered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "failure_count": {
          "name": "failure_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "consecutive_failures": {
          "name": "consecutive_failures",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_failure_at": {
          "name": "last_failure_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_failure_message": {
          "name": "last_failure_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "auto_disabled_at": {
          "name": "auto_disabled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "channel": {
          "name": "channel",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'email'"
        },
        "frequency": {
          "name": "frequency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'immediate'"
        },
        "digest": {
          "name": "digest",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "filter_criteria": {
          "name": "filter_criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "idx_event_subscriptions_channel": {
          "name": "idx_event_subscriptions_channel",
          "columns": [
            {
              "expression": "channel",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_event_subscriptions_failure_count": {
          "name": "idx_event_subscriptions_failure_count",
          "columns": [
            {
              "expression": "failure_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_event_subscriptions_is_active": {
          "name": "idx_event_subscriptions_is_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_event_subscriptions_org_id": {
          "name": "idx_event_subscriptions_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_event_subscriptions_unique": {
          "name": "idx_event_subscriptions_unique",
          "columns": [
            {
              "expression": "subscriber_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "event_pattern",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_event_subscriptions_user_id": {
          "name": "idx_event_subscriptions_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "event_subscriptions_org_id_fkey": {
          "name": "event_subscriptions_org_id_fkey",
          "tableFrom": "event_subscriptions",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "event_subscriptions_user_id_fkey": {
          "name": "event_subscriptions_user_id_fkey",
          "tableFrom": "event_subscriptions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "valid_handler": {
          "name": "valid_handler",
          "value": "(handler_function IS NOT NULL) OR (webhook_url IS NOT NULL)"
        }
      },
      "policies": {
        "Admins can manage subscriptions": {
          "name": "Admins can manage subscriptions",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "withCheck": "user_is_admin()",
          "using": "user_is_admin()"
        },
        "Everyone can view subscriptions": {
          "name": "Everyone can view subscriptions",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "event_subscriptions_insert": {
          "name": "event_subscriptions_insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "event_subscriptions_select": {
          "name": "event_subscriptions_select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.skill_aliases": {
      "name": "skill_aliases",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "skill_id": {
          "name": "skill_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "alias": {
          "name": "alias",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_skill_aliases_skill_id": {
          "name": "idx_skill_aliases_skill_id",
          "columns": [
            {
              "expression": "skill_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "skill_aliases_org_id_fkey": {
          "name": "skill_aliases_org_id_fkey",
          "tableFrom": "skill_aliases",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "skill_aliases_skill_id_fkey": {
          "name": "skill_aliases_skill_id_fkey",
          "tableFrom": "skill_aliases",
          "tableTo": "skills",
          "schemaTo": "public",
          "columnsFrom": [
            "skill_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.submission_status_history": {
      "name": "submission_status_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "submission_id": {
          "name": "submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "from_status": {
          "name": "from_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "to_status": {
          "name": "to_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "changed_at": {
          "name": "changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_submission_status_history_submission_id": {
          "name": "idx_submission_status_history_submission_id",
          "columns": [
            {
              "expression": "submission_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "submission_status_history_changed_by_fkey": {
          "name": "submission_status_history_changed_by_fkey",
          "tableFrom": "submission_status_history",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "changed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submission_status_history_org_id_fkey": {
          "name": "submission_status_history_org_id_fkey",
          "tableFrom": "submission_status_history",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "submission_status_history_submission_id_fkey": {
          "name": "submission_status_history_submission_id_fkey",
          "tableFrom": "submission_status_history",
          "tableTo": "submissions",
          "schemaTo": "public",
          "columnsFrom": [
            "submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.interview_feedback": {
      "name": "interview_feedback",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "interview_id": {
          "name": "interview_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "recommendation": {
          "name": "recommendation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "strengths": {
          "name": "strengths",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "weaknesses": {
          "name": "weaknesses",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_interview_feedback_interview_id": {
          "name": "idx_interview_feedback_interview_id",
          "columns": [
            {
              "expression": "interview_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "interview_feedback_interview_id_fkey": {
          "name": "interview_feedback_interview_id_fkey",
          "tableFrom": "interview_feedback",
          "tableTo": "interviews",
          "schemaTo": "public",
          "columnsFrom": [
            "interview_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "interview_feedback_org_id_fkey": {
          "name": "interview_feedback_org_id_fkey",
          "tableFrom": "interview_feedback",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "interview_feedback_submitted_by_fkey": {
          "name": "interview_feedback_submitted_by_fkey",
          "tableFrom": "interview_feedback",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "submitted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.interview_reminders": {
      "name": "interview_reminders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "interview_id": {
          "name": "interview_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "reminder_type": {
          "name": "reminder_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_interview_reminders_interview_id": {
          "name": "idx_interview_reminders_interview_id",
          "columns": [
            {
              "expression": "interview_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "interview_reminders_interview_id_fkey": {
          "name": "interview_reminders_interview_id_fkey",
          "tableFrom": "interview_reminders",
          "tableTo": "interviews",
          "schemaTo": "public",
          "columnsFrom": [
            "interview_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "interview_reminders_org_id_fkey": {
          "name": "interview_reminders_org_id_fkey",
          "tableFrom": "interview_reminders",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.offer_terms": {
      "name": "offer_terms",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "offer_id": {
          "name": "offer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "term_type": {
          "name": "term_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_offer_terms_offer_id": {
          "name": "idx_offer_terms_offer_id",
          "columns": [
            {
              "expression": "offer_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "offer_terms_offer_id_fkey": {
          "name": "offer_terms_offer_id_fkey",
          "tableFrom": "offer_terms",
          "tableTo": "offers",
          "schemaTo": "public",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "offer_terms_org_id_fkey": {
          "name": "offer_terms_org_id_fkey",
          "tableFrom": "offer_terms",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.placement_timesheets": {
      "name": "placement_timesheets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "placement_id": {
          "name": "placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "week_ending": {
          "name": "week_ending",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "regular_hours": {
          "name": "regular_hours",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "overtime_hours": {
          "name": "overtime_hours",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_placement_timesheets_placement_id": {
          "name": "idx_placement_timesheets_placement_id",
          "columns": [
            {
              "expression": "placement_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placement_timesheets_week_ending": {
          "name": "idx_placement_timesheets_week_ending",
          "columns": [
            {
              "expression": "week_ending",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "placement_timesheets_approved_by_fkey": {
          "name": "placement_timesheets_approved_by_fkey",
          "tableFrom": "placement_timesheets",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_timesheets_org_id_fkey": {
          "name": "placement_timesheets_org_id_fkey",
          "tableFrom": "placement_timesheets",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "placement_timesheets_placement_id_fkey": {
          "name": "placement_timesheets_placement_id_fkey",
          "tableFrom": "placement_timesheets",
          "tableTo": "placements",
          "schemaTo": "public",
          "columnsFrom": [
            "placement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.consultant_visa_details": {
      "name": "consultant_visa_details",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "consultant_id": {
          "name": "consultant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "visa_type": {
          "name": "visa_type",
          "type": "visa_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "visa_start_date": {
          "name": "visa_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "visa_expiry_date": {
          "name": "visa_expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "lca_status": {
          "name": "lca_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employer_of_record": {
          "name": "employer_of_record",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "grace_period_ends": {
          "name": "grace_period_ends",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "alert_level": {
          "name": "alert_level",
          "type": "visa_alert_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'green'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_consultant_visa_details_alert_level": {
          "name": "idx_consultant_visa_details_alert_level",
          "columns": [
            {
              "expression": "alert_level",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_consultant_visa_details_consultant_id": {
          "name": "idx_consultant_visa_details_consultant_id",
          "columns": [
            {
              "expression": "consultant_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "consultant_visa_details_consultant_id_fkey": {
          "name": "consultant_visa_details_consultant_id_fkey",
          "tableFrom": "consultant_visa_details",
          "tableTo": "bench_consultants",
          "schemaTo": "public",
          "columnsFrom": [
            "consultant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.consultant_work_authorization": {
      "name": "consultant_work_authorization",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "consultant_id": {
          "name": "consultant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "auth_type": {
          "name": "auth_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "document_url": {
          "name": "document_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_file_id": {
          "name": "document_file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_consultant_work_auth_consultant_id": {
          "name": "idx_consultant_work_auth_consultant_id",
          "columns": [
            {
              "expression": "consultant_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "consultant_work_authorization_consultant_id_fkey": {
          "name": "consultant_work_authorization_consultant_id_fkey",
          "tableFrom": "consultant_work_authorization",
          "tableTo": "bench_consultants",
          "schemaTo": "public",
          "columnsFrom": [
            "consultant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "consultant_work_authorization_verified_by_fkey": {
          "name": "consultant_work_authorization_verified_by_fkey",
          "tableFrom": "consultant_work_authorization",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "verified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.consultant_availability": {
      "name": "consultant_availability",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "consultant_id": {
          "name": "consultant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "available_from": {
          "name": "available_from",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "notice_period_days": {
          "name": "notice_period_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "blackout_dates": {
          "name": "blackout_dates",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "travel_restrictions": {
          "name": "travel_restrictions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "relocation_assistance_needed": {
          "name": "relocation_assistance_needed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_consultant_availability_consultant_id": {
          "name": "idx_consultant_availability_consultant_id",
          "columns": [
            {
              "expression": "consultant_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "consultant_availability_consultant_id_fkey": {
          "name": "consultant_availability_consultant_id_fkey",
          "tableFrom": "consultant_availability",
          "tableTo": "bench_consultants",
          "schemaTo": "public",
          "columnsFrom": [
            "consultant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.consultant_rates": {
      "name": "consultant_rates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "consultant_id": {
          "name": "consultant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "rate_type": {
          "name": "rate_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'hourly'"
        },
        "min_rate": {
          "name": "min_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "target_rate": {
          "name": "target_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "max_rate": {
          "name": "max_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "effective_from": {
          "name": "effective_from",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "effective_to": {
          "name": "effective_to",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_consultant_rates_consultant_id": {
          "name": "idx_consultant_rates_consultant_id",
          "columns": [
            {
              "expression": "consultant_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "consultant_rates_consultant_id_fkey": {
          "name": "consultant_rates_consultant_id_fkey",
          "tableFrom": "consultant_rates",
          "tableTo": "bench_consultants",
          "schemaTo": "public",
          "columnsFrom": [
            "consultant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "consultant_rates_created_by_fkey": {
          "name": "consultant_rates_created_by_fkey",
          "tableFrom": "consultant_rates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.marketing_profiles": {
      "name": "marketing_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "consultant_id": {
          "name": "consultant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "headline": {
          "name": "headline",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "highlights": {
          "name": "highlights",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "target_roles": {
          "name": "target_roles",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "target_industries": {
          "name": "target_industries",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "marketing_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_marketing_profiles_consultant_id": {
          "name": "idx_marketing_profiles_consultant_id",
          "columns": [
            {
              "expression": "consultant_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "marketing_profiles_consultant_id_fkey": {
          "name": "marketing_profiles_consultant_id_fkey",
          "tableFrom": "marketing_profiles",
          "tableTo": "bench_consultants",
          "schemaTo": "public",
          "columnsFrom": [
            "consultant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "marketing_profiles_created_by_fkey": {
          "name": "marketing_profiles_created_by_fkey",
          "tableFrom": "marketing_profiles",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.marketing_formats": {
      "name": "marketing_formats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "profile_id": {
          "name": "profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "format_type": {
          "name": "format_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_id": {
          "name": "file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_marketing_formats_profile_id": {
          "name": "idx_marketing_formats_profile_id",
          "columns": [
            {
              "expression": "profile_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "marketing_formats_profile_id_fkey": {
          "name": "marketing_formats_profile_id_fkey",
          "tableFrom": "marketing_formats",
          "tableTo": "marketing_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.vendor_relationships": {
      "name": "vendor_relationships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "vendor_id": {
          "name": "vendor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "related_entity_type": {
          "name": "related_entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "related_entity_id": {
          "name": "related_entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_type": {
          "name": "relationship_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "strength": {
          "name": "strength",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_vendor_relationships_related_entity": {
          "name": "idx_vendor_relationships_related_entity",
          "columns": [
            {
              "expression": "related_entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "related_entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_vendor_relationships_vendor_id": {
          "name": "idx_vendor_relationships_vendor_id",
          "columns": [
            {
              "expression": "vendor_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "vendor_relationships_created_by_fkey": {
          "name": "vendor_relationships_created_by_fkey",
          "tableFrom": "vendor_relationships",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.vendor_blacklist": {
      "name": "vendor_blacklist",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "vendor_id": {
          "name": "vendor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "review_date": {
          "name": "review_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "blacklisted_at": {
          "name": "blacklisted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "blacklisted_by": {
          "name": "blacklisted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_vendor_blacklist_vendor_id": {
          "name": "idx_vendor_blacklist_vendor_id",
          "columns": [
            {
              "expression": "vendor_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "vendor_blacklist_blacklisted_by_fkey": {
          "name": "vendor_blacklist_blacklisted_by_fkey",
          "tableFrom": "vendor_blacklist",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "blacklisted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.company_team": {
      "name": "company_team",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "company_team_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "region": {
          "name": "region",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "job_categories": {
          "name": "job_categories",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "assigned_by": {
          "name": "assigned_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "removed_at": {
          "name": "removed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "removed_by": {
          "name": "removed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "notify_on_new_job": {
          "name": "notify_on_new_job",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "notify_on_placement": {
          "name": "notify_on_placement",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "notify_on_activity": {
          "name": "notify_on_activity",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_company_team_company": {
          "name": "idx_company_team_company",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(removed_at IS NULL)",
          "with": {}
        },
        "idx_company_team_unique": {
          "name": "idx_company_team_unique",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "role",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(removed_at IS NULL)",
          "with": {}
        },
        "idx_company_team_user": {
          "name": "idx_company_team_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(removed_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "company_team_assigned_by_fkey": {
          "name": "company_team_assigned_by_fkey",
          "tableFrom": "company_team",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "assigned_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_team_company_id_fkey": {
          "name": "company_team_company_id_fkey",
          "tableFrom": "company_team",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "company_team_org_id_fkey": {
          "name": "company_team_org_id_fkey",
          "tableFrom": "company_team",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_team_removed_by_fkey": {
          "name": "company_team_removed_by_fkey",
          "tableFrom": "company_team",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "removed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_team_user_id_fkey": {
          "name": "company_team_user_id_fkey",
          "tableFrom": "company_team",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "team_org": {
          "name": "team_org",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.company_contacts": {
      "name": "company_contacts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_title": {
          "name": "job_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role_description": {
          "name": "role_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decision_authority": {
          "name": "decision_authority",
          "type": "contact_decision_authority",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "influence_level": {
          "name": "influence_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "relationship_strength": {
          "name": "relationship_strength",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_contact_date": {
          "name": "last_contact_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_contact_method": {
          "name": "preferred_contact_method",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "left_at": {
          "name": "left_at",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "left_reason": {
          "name": "left_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_company_id": {
          "name": "vendor_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_company_contacts_company": {
          "name": "idx_company_contacts_company",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_company_contacts_contact": {
          "name": "idx_company_contacts_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_company_contacts_unique": {
          "name": "idx_company_contacts_unique",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        }
      },
      "foreignKeys": {
        "company_contacts_company_id_fkey": {
          "name": "company_contacts_company_id_fkey",
          "tableFrom": "company_contacts",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "company_contacts_created_by_fkey": {
          "name": "company_contacts_created_by_fkey",
          "tableFrom": "company_contacts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_contacts_org_id_fkey": {
          "name": "company_contacts_org_id_fkey",
          "tableFrom": "company_contacts",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_contacts_vendor_company_id_fkey": {
          "name": "company_contacts_vendor_company_id_fkey",
          "tableFrom": "company_contacts",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "vendor_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "company_contacts_influence_level_check": {
          "name": "company_contacts_influence_level_check",
          "value": "(influence_level >= 1) AND (influence_level <= 5)"
        },
        "company_contacts_relationship_strength_check": {
          "name": "company_contacts_relationship_strength_check",
          "value": "(relationship_strength >= 1) AND (relationship_strength <= 5)"
        }
      },
      "policies": {
        "contacts_org": {
          "name": "contacts_org",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.company_relationships": {
      "name": "company_relationships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_a_id": {
          "name": "company_a_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_b_id": {
          "name": "company_b_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_category": {
          "name": "relationship_category",
          "type": "company_relationship_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_direction": {
          "name": "relationship_direction",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_label_a_to_b": {
          "name": "relationship_label_a_to_b",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "relationship_label_b_to_a": {
          "name": "relationship_label_b_to_a",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "started_date": {
          "name": "started_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "ended_date": {
          "name": "ended_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_company_relationships_a": {
          "name": "idx_company_relationships_a",
          "columns": [
            {
              "expression": "company_a_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_company_relationships_b": {
          "name": "idx_company_relationships_b",
          "columns": [
            {
              "expression": "company_b_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_company_relationships_unique": {
          "name": "idx_company_relationships_unique",
          "columns": [
            {
              "expression": "company_a_id",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "company_b_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "relationship_category",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "company_relationships_company_a_id_fkey": {
          "name": "company_relationships_company_a_id_fkey",
          "tableFrom": "company_relationships",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_a_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_relationships_company_b_id_fkey": {
          "name": "company_relationships_company_b_id_fkey",
          "tableFrom": "company_relationships",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_b_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_relationships_created_by_fkey": {
          "name": "company_relationships_created_by_fkey",
          "tableFrom": "company_relationships",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_relationships_org_id_fkey": {
          "name": "company_relationships_org_id_fkey",
          "tableFrom": "company_relationships",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "company_relationships_check": {
          "name": "company_relationships_check",
          "value": "company_a_id <> company_b_id"
        }
      },
      "policies": {
        "relationships_org": {
          "name": "relationships_org",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.immigration_timelines": {
      "name": "immigration_timelines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "case_id": {
          "name": "case_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "milestone": {
          "name": "milestone",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_date": {
          "name": "target_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "actual_date": {
          "name": "actual_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_immigration_timelines_case_id": {
          "name": "idx_immigration_timelines_case_id",
          "columns": [
            {
              "expression": "case_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.immigration_attorneys": {
      "name": "immigration_attorneys",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "firm": {
          "name": "firm",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "specialization": {
          "name": "specialization",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "rating": {
          "name": "rating",
          "type": "numeric(3, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_immigration_attorneys_org_id": {
          "name": "idx_immigration_attorneys_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "immigration_attorneys_org_id_fkey": {
          "name": "immigration_attorneys_org_id_fkey",
          "tableFrom": "immigration_attorneys",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "immigration_attorneys_rating_check": {
          "name": "immigration_attorneys_rating_check",
          "value": "(rating >= 1.0) AND (rating <= 5.0)"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.immigration_documents": {
      "name": "immigration_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "case_id": {
          "name": "case_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "document_type": {
          "name": "document_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_id": {
          "name": "file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "issue_date": {
          "name": "issue_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_immigration_documents_case_id": {
          "name": "idx_immigration_documents_case_id",
          "columns": [
            {
              "expression": "case_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "immigration_documents_verified_by_fkey": {
          "name": "immigration_documents_verified_by_fkey",
          "tableFrom": "immigration_documents",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "verified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.immigration_alerts": {
      "name": "immigration_alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "consultant_id": {
          "name": "consultant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "alert_type": {
          "name": "alert_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "alert_date": {
          "name": "alert_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_immigration_alerts_alert_date": {
          "name": "idx_immigration_alerts_alert_date",
          "columns": [
            {
              "expression": "alert_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_immigration_alerts_consultant_id": {
          "name": "idx_immigration_alerts_consultant_id",
          "columns": [
            {
              "expression": "consultant_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_immigration_alerts_severity": {
          "name": "idx_immigration_alerts_severity",
          "columns": [
            {
              "expression": "severity",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "immigration_alerts_acknowledged_by_fkey": {
          "name": "immigration_alerts_acknowledged_by_fkey",
          "tableFrom": "immigration_alerts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "acknowledged_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "immigration_alerts_consultant_id_fkey": {
          "name": "immigration_alerts_consultant_id_fkey",
          "tableFrom": "immigration_alerts",
          "tableTo": "bench_consultants",
          "schemaTo": "public",
          "columnsFrom": [
            "consultant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.company_addresses": {
      "name": "company_addresses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "address_id": {
          "name": "address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "address_type": {
          "name": "address_type",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_company_addresses_company": {
          "name": "idx_company_addresses_company",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_company_addresses_unique": {
          "name": "idx_company_addresses_unique",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "address_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "address_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "company_addresses_company_id_fkey": {
          "name": "company_addresses_company_id_fkey",
          "tableFrom": "company_addresses",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "company_addresses_org_id_fkey": {
          "name": "company_addresses_org_id_fkey",
          "tableFrom": "company_addresses",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "addresses_org": {
          "name": "addresses_org",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.company_notes": {
      "name": "company_notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "note_type": {
          "name": "note_type",
          "type": "company_note_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'general'"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_pinned": {
          "name": "is_pinned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_private": {
          "name": "is_private",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "related_contact_id": {
          "name": "related_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "related_job_id": {
          "name": "related_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "related_deal_id": {
          "name": "related_deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_company_notes_company": {
          "name": "idx_company_notes_company",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "company_notes_company_id_fkey": {
          "name": "company_notes_company_id_fkey",
          "tableFrom": "company_notes",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "company_notes_created_by_fkey": {
          "name": "company_notes_created_by_fkey",
          "tableFrom": "company_notes",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_notes_org_id_fkey": {
          "name": "company_notes_org_id_fkey",
          "tableFrom": "company_notes",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "notes_org": {
          "name": "notes_org",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.external_job_order_submissions": {
      "name": "external_job_order_submissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "consultant_id": {
          "name": "consultant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'submitted'"
        },
        "submitted_rate": {
          "name": "submitted_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "client_response_at": {
          "name": "client_response_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_job_order_submissions_consultant_id": {
          "name": "idx_job_order_submissions_consultant_id",
          "columns": [
            {
              "expression": "consultant_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_job_order_submissions_order_id": {
          "name": "idx_job_order_submissions_order_id",
          "columns": [
            {
              "expression": "order_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "job_order_submissions_consultant_id_fkey": {
          "name": "job_order_submissions_consultant_id_fkey",
          "tableFrom": "external_job_order_submissions",
          "tableTo": "bench_consultants",
          "schemaTo": "public",
          "columnsFrom": [
            "consultant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "job_order_submissions_created_by_fkey": {
          "name": "job_order_submissions_created_by_fkey",
          "tableFrom": "external_job_order_submissions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "job_order_submissions_order_id_fkey": {
          "name": "job_order_submissions_order_id_fkey",
          "tableFrom": "external_job_order_submissions",
          "tableTo": "external_job_orders",
          "schemaTo": "public",
          "columnsFrom": [
            "order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "job_order_submissions_order_id_consultant_id_key": {
          "columns": [
            "order_id",
            "consultant_id"
          ],
          "nullsNotDistinct": false,
          "name": "job_order_submissions_order_id_consultant_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public._migration_candidate_mapping": {
      "name": "_migration_candidate_mapping",
      "schema": "",
      "columns": {
        "user_profile_id": {
          "name": "user_profile_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "migrated_at": {
          "name": "migrated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.company_preferences": {
      "name": "company_preferences",
      "schema": "",
      "columns": {
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "preferred_skills": {
          "name": "preferred_skills",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "excluded_skills": {
          "name": "excluded_skills",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "required_certifications": {
          "name": "required_certifications",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "min_years_experience": {
          "name": "min_years_experience",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_years_experience": {
          "name": "max_years_experience",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_experience_levels": {
          "name": "preferred_experience_levels",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "degree_required": {
          "name": "degree_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "preferred_degree_levels": {
          "name": "preferred_degree_levels",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_universities": {
          "name": "preferred_universities",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "visa_types_accepted": {
          "name": "visa_types_accepted",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "requires_us_citizen": {
          "name": "requires_us_citizen",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "work_mode_preference": {
          "name": "work_mode_preference",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "office_locations": {
          "name": "office_locations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "remote_states_allowed": {
          "name": "remote_states_allowed",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "relocation_assistance": {
          "name": "relocation_assistance",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "rate_range_min": {
          "name": "rate_range_min",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "rate_range_max": {
          "name": "rate_range_max",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "rate_type": {
          "name": "rate_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'hourly'"
        },
        "typical_start_timeline_days": {
          "name": "typical_start_timeline_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "interview_format_preference": {
          "name": "interview_format_preference",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "decision_timeline_days": {
          "name": "decision_timeline_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_submission_format": {
          "name": "preferred_submission_format",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "submission_limit_per_job": {
          "name": "submission_limit_per_job",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "feedback_commitment": {
          "name": "feedback_commitment",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "custom_preferences": {
          "name": "custom_preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "special_instructions": {
          "name": "special_instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "company_preferences_company_id_fkey": {
          "name": "company_preferences_company_id_fkey",
          "tableFrom": "company_preferences",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "company_preferences_org_id_fkey": {
          "name": "company_preferences_org_id_fkey",
          "tableFrom": "company_preferences",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_preferences_updated_by_fkey": {
          "name": "company_preferences_updated_by_fkey",
          "tableFrom": "company_preferences",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "preferences_org": {
          "name": "preferences_org",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.company_tags": {
      "name": "company_tags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tag_name": {
          "name": "tag_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tag_category": {
          "name": "tag_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_company_tags_company": {
          "name": "idx_company_tags_company",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_company_tags_name": {
          "name": "idx_company_tags_name",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "tag_name",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_company_tags_unique": {
          "name": "idx_company_tags_unique",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "tag_name",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "company_tags_company_id_fkey": {
          "name": "company_tags_company_id_fkey",
          "tableFrom": "company_tags",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "company_tags_created_by_fkey": {
          "name": "company_tags_created_by_fkey",
          "tableFrom": "company_tags",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_tags_org_id_fkey": {
          "name": "company_tags_org_id_fkey",
          "tableFrom": "company_tags",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "tags_org": {
          "name": "tags_org",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.benefit_plan_options": {
      "name": "benefit_plan_options",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "plan_id": {
          "name": "plan_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "option_name": {
          "name": "option_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "coverage_level": {
          "name": "coverage_level",
          "type": "coverage_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "employer_contribution": {
          "name": "employer_contribution",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "employee_contribution": {
          "name": "employee_contribution",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_benefit_plan_options_plan_id": {
          "name": "idx_benefit_plan_options_plan_id",
          "columns": [
            {
              "expression": "plan_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "benefit_plan_options_plan_id_fkey": {
          "name": "benefit_plan_options_plan_id_fkey",
          "tableFrom": "benefit_plan_options",
          "tableTo": "benefit_plans",
          "schemaTo": "public",
          "columnsFrom": [
            "plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public._migration_lead_mapping": {
      "name": "_migration_lead_mapping",
      "schema": "",
      "columns": {
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "migrated_at": {
          "name": "migrated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.integrations": {
      "name": "integrations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'inactive'"
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "last_health_check": {
          "name": "last_health_check",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync": {
          "name": "last_sync",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "health_status": {
          "name": "health_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'unknown'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_count": {
          "name": "error_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_integrations_org_id": {
          "name": "idx_integrations_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_integrations_org_primary": {
          "name": "idx_integrations_org_primary",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "type",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_primary",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_primary = true) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_integrations_org_type": {
          "name": "idx_integrations_org_type",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_integrations_status": {
          "name": "idx_integrations_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_integrations_type": {
          "name": "idx_integrations_type",
          "columns": [
            {
              "expression": "type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_integrations_unique_primary": {
          "name": "idx_integrations_unique_primary",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "((is_primary = true) AND (deleted_at IS NULL))",
          "with": {}
        }
      },
      "foreignKeys": {
        "integrations_created_by_fkey": {
          "name": "integrations_created_by_fkey",
          "tableFrom": "integrations",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "integrations_org_id_fkey": {
          "name": "integrations_org_id_fkey",
          "tableFrom": "integrations",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "integrations_org_access": {
          "name": "integrations_org_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid()))) OR ((auth.jwt() ->> 'role'::text) = 'service_role'::text))"
        }
      },
      "isRLSEnabled": true
    },
    "public.integration_health_logs": {
      "name": "integration_health_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "integration_id": {
          "name": "integration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "check_type": {
          "name": "check_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "response_time_ms": {
          "name": "response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "checked_by": {
          "name": "checked_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_health_logs_created": {
          "name": "idx_health_logs_created",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_health_logs_integration": {
          "name": "idx_health_logs_integration",
          "columns": [
            {
              "expression": "integration_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_health_logs_org": {
          "name": "idx_health_logs_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_health_logs_status": {
          "name": "idx_health_logs_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "integration_health_logs_checked_by_fkey": {
          "name": "integration_health_logs_checked_by_fkey",
          "tableFrom": "integration_health_logs",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "checked_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "integration_health_logs_integration_id_fkey": {
          "name": "integration_health_logs_integration_id_fkey",
          "tableFrom": "integration_health_logs",
          "tableTo": "integrations",
          "schemaTo": "public",
          "columnsFrom": [
            "integration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "integration_health_logs_org_id_fkey": {
          "name": "integration_health_logs_org_id_fkey",
          "tableFrom": "integration_health_logs",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "health_logs_org_access": {
          "name": "health_logs_org_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid()))) OR ((auth.jwt() ->> 'role'::text) = 'service_role'::text))"
        }
      },
      "isRLSEnabled": true
    },
    "public.integration_types": {
      "name": "integration_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(50)",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "icon": {
          "name": "icon",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "config_schema": {
          "name": "config_schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "providers": {
          "name": "providers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "integration_types_read": {
          "name": "integration_types_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.external_job_orders": {
      "name": "external_job_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "vendor_id": {
          "name": "vendor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_name": {
          "name": "client_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "work_mode": {
          "name": "work_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rate_type": {
          "name": "rate_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'hourly'"
        },
        "bill_rate": {
          "name": "bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "duration_months": {
          "name": "duration_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "positions": {
          "name": "positions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "job_order_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'new'"
        },
        "priority": {
          "name": "priority",
          "type": "job_order_priority",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'medium'"
        },
        "received_at": {
          "name": "received_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "response_due_at": {
          "name": "response_due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "job_order_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'email'"
        },
        "original_source_url": {
          "name": "original_source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_company_id": {
          "name": "vendor_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_external_job_orders_org": {
          "name": "idx_external_job_orders_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_external_job_orders_status": {
          "name": "idx_external_job_orders_status",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_external_job_orders_vendor_company": {
          "name": "idx_external_job_orders_vendor_company",
          "columns": [
            {
              "expression": "vendor_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_job_orders_org_id": {
          "name": "idx_job_orders_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_job_orders_priority": {
          "name": "idx_job_orders_priority",
          "columns": [
            {
              "expression": "priority",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_job_orders_status": {
          "name": "idx_job_orders_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_job_orders_vendor_id": {
          "name": "idx_job_orders_vendor_id",
          "columns": [
            {
              "expression": "vendor_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "external_job_orders_vendor_company_id_fkey": {
          "name": "external_job_orders_vendor_company_id_fkey",
          "tableFrom": "external_job_orders",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "vendor_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "job_orders_created_by_fkey": {
          "name": "job_orders_created_by_fkey",
          "tableFrom": "external_job_orders",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "job_orders_org_id_fkey": {
          "name": "job_orders_org_id_fkey",
          "tableFrom": "external_job_orders",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "external_job_orders_org_isolation": {
          "name": "external_job_orders_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.deal_stages_history": {
      "name": "deal_stages_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "stage": {
          "name": "stage",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "previous_stage": {
          "name": "previous_stage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entered_at": {
          "name": "entered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "exited_at": {
          "name": "exited_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_days": {
          "name": "duration_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_deal_stages_history_deal_id": {
          "name": "idx_deal_stages_history_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deal_stages_history_entered_at": {
          "name": "idx_deal_stages_history_entered_at",
          "columns": [
            {
              "expression": "entered_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deal_stages_history_stage": {
          "name": "idx_deal_stages_history_stage",
          "columns": [
            {
              "expression": "stage",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "deal_stages_history_changed_by_fkey": {
          "name": "deal_stages_history_changed_by_fkey",
          "tableFrom": "deal_stages_history",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "changed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "deal_stages_history_deal_id_fkey": {
          "name": "deal_stages_history_deal_id_fkey",
          "tableFrom": "deal_stages_history",
          "tableTo": "deals",
          "schemaTo": "public",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "public.deal_stakeholders": {
      "name": "deal_stakeholders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "influence_level": {
          "name": "influence_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment": {
          "name": "sentiment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "engagement_notes": {
          "name": "engagement_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_deal_stakeholders_contact_id": {
          "name": "idx_deal_stakeholders_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deal_stakeholders_deal_id": {
          "name": "idx_deal_stakeholders_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deal_stakeholders_role": {
          "name": "idx_deal_stakeholders_role",
          "columns": [
            {
              "expression": "role",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "deal_stakeholders_contact_id_fkey": {
          "name": "deal_stakeholders_contact_id_fkey",
          "tableFrom": "deal_stakeholders",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "deal_stakeholders_deal_id_fkey": {
          "name": "deal_stakeholders_deal_id_fkey",
          "tableFrom": "deal_stakeholders",
          "tableTo": "deals",
          "schemaTo": "public",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "public.lead_scores": {
      "name": "lead_scores",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "score": {
          "name": "score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "factors": {
          "name": "factors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "budget_score": {
          "name": "budget_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "authority_score": {
          "name": "authority_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "need_score": {
          "name": "need_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "timeline_score": {
          "name": "timeline_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "engagement_score": {
          "name": "engagement_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "fit_score": {
          "name": "fit_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "calculated_by": {
          "name": "calculated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_lead_scores_lead_id": {
          "name": "idx_lead_scores_lead_id",
          "columns": [
            {
              "expression": "lead_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lead_scores_score": {
          "name": "idx_lead_scores_score",
          "columns": [
            {
              "expression": "score",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lead_scores_lead_id_fkey": {
          "name": "lead_scores_lead_id_fkey",
          "tableFrom": "lead_scores",
          "tableTo": "leads",
          "schemaTo": "public",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "public.lead_qualification": {
      "name": "lead_qualification",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "has_budget": {
          "name": "has_budget",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "budget_amount": {
          "name": "budget_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "budget_timeframe": {
          "name": "budget_timeframe",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "budget_notes": {
          "name": "budget_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decision_maker": {
          "name": "decision_maker",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decision_process": {
          "name": "decision_process",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "other_stakeholders": {
          "name": "other_stakeholders",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "authority_notes": {
          "name": "authority_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "need_identified": {
          "name": "need_identified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "need_urgency": {
          "name": "need_urgency",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pain_points": {
          "name": "pain_points",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "current_solution": {
          "name": "current_solution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "need_notes": {
          "name": "need_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timeline": {
          "name": "timeline",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decision_date": {
          "name": "decision_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "project_start_date": {
          "name": "project_start_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "timeline_notes": {
          "name": "timeline_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "qualified_by": {
          "name": "qualified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "qualified_at": {
          "name": "qualified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "qualification_status": {
          "name": "qualification_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_lead_qualification_lead_id": {
          "name": "idx_lead_qualification_lead_id",
          "columns": [
            {
              "expression": "lead_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lead_qualification_status": {
          "name": "idx_lead_qualification_status",
          "columns": [
            {
              "expression": "qualification_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lead_qualification_lead_id_fkey": {
          "name": "lead_qualification_lead_id_fkey",
          "tableFrom": "lead_qualification",
          "tableTo": "leads",
          "schemaTo": "public",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "lead_qualification_qualified_by_fkey": {
          "name": "lead_qualification_qualified_by_fkey",
          "tableFrom": "lead_qualification",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "qualified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "public.candidate_work_history": {
      "name": "candidate_work_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "company_industry": {
          "name": "company_industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_size": {
          "name": "company_size",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "job_title": {
          "name": "job_title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employment_type": {
          "name": "employment_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employment_basis": {
          "name": "employment_basis",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_city": {
          "name": "location_city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_state": {
          "name": "location_state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_country": {
          "name": "location_country",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country_code": {
          "name": "country_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_remote": {
          "name": "is_remote",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "remote_type": {
          "name": "remote_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "responsibilities": {
          "name": "responsibilities",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "achievements": {
          "name": "achievements",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "skills_used": {
          "name": "skills_used",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "tools_used": {
          "name": "tools_used",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "projects": {
          "name": "projects",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "salary_amount": {
          "name": "salary_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "salary_currency": {
          "name": "salary_currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "salary_type": {
          "name": "salary_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "supervisor_name": {
          "name": "supervisor_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "supervisor_title": {
          "name": "supervisor_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "supervisor_email": {
          "name": "supervisor_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "supervisor_phone": {
          "name": "supervisor_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hr_contact_name": {
          "name": "hr_contact_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hr_contact_email": {
          "name": "hr_contact_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hr_contact_phone": {
          "name": "hr_contact_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "verification_method": {
          "name": "verification_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verification_notes": {
          "name": "verification_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reason_for_leaving": {
          "name": "reason_for_leaving",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_rehire_eligible": {
          "name": "is_rehire_eligible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "rehire_notes": {
          "name": "rehire_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_candidate_work_history_contact_id": {
          "name": "idx_candidate_work_history_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_work_history_candidate": {
          "name": "idx_work_history_candidate",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_work_history_org": {
          "name": "idx_work_history_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "candidate_work_history_candidate_id_fkey": {
          "name": "candidate_work_history_candidate_id_fkey",
          "tableFrom": "candidate_work_history",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_work_history_contact_id_fkey": {
          "name": "candidate_work_history_contact_id_fkey",
          "tableFrom": "candidate_work_history",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_work_history_org_id_fkey": {
          "name": "candidate_work_history_org_id_fkey",
          "tableFrom": "candidate_work_history",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "work_history_service_all": {
          "name": "work_history_service_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "service_role"
          ],
          "withCheck": "true",
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.lead_touchpoints": {
      "name": "lead_touchpoints",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "touchpoint_type": {
          "name": "touchpoint_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "direction": {
          "name": "direction",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'outbound'"
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "outcome": {
          "name": "outcome",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "next_steps": {
          "name": "next_steps",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "next_follow_up_date": {
          "name": "next_follow_up_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "template_used": {
          "name": "template_used",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "touchpoint_date": {
          "name": "touchpoint_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_lead_touchpoints_date": {
          "name": "idx_lead_touchpoints_date",
          "columns": [
            {
              "expression": "touchpoint_date",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lead_touchpoints_lead_id": {
          "name": "idx_lead_touchpoints_lead_id",
          "columns": [
            {
              "expression": "lead_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_lead_touchpoints_type": {
          "name": "idx_lead_touchpoints_type",
          "columns": [
            {
              "expression": "touchpoint_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lead_touchpoints_created_by_fkey": {
          "name": "lead_touchpoints_created_by_fkey",
          "tableFrom": "lead_touchpoints",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lead_touchpoints_lead_id_fkey": {
          "name": "lead_touchpoints_lead_id_fkey",
          "tableFrom": "lead_touchpoints",
          "tableTo": "leads",
          "schemaTo": "public",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "public.deal_competitors": {
      "name": "deal_competitors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "competitor_name": {
          "name": "competitor_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "competitor_website": {
          "name": "competitor_website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "strengths": {
          "name": "strengths",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "weaknesses": {
          "name": "weaknesses",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "our_differentiators": {
          "name": "our_differentiators",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pricing": {
          "name": "pricing",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "threat_level": {
          "name": "threat_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_deal_competitors_deal_id": {
          "name": "idx_deal_competitors_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deal_competitors_name": {
          "name": "idx_deal_competitors_name",
          "columns": [
            {
              "expression": "competitor_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deal_competitors_status": {
          "name": "idx_deal_competitors_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "deal_competitors_deal_id_fkey": {
          "name": "deal_competitors_deal_id_fkey",
          "tableFrom": "deal_competitors",
          "tableTo": "deals",
          "schemaTo": "public",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "public.deal_products": {
      "name": "deal_products",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_type": {
          "name": "product_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "product_name": {
          "name": "product_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "unit_price": {
          "name": "unit_price",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_value": {
          "name": "total_value",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "discount": {
          "name": "discount",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "duration_months": {
          "name": "duration_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_deal_products_deal_id": {
          "name": "idx_deal_products_deal_id",
          "columns": [
            {
              "expression": "deal_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deal_products_type": {
          "name": "idx_deal_products_type",
          "columns": [
            {
              "expression": "product_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "deal_products_deal_id_fkey": {
          "name": "deal_products_deal_id_fkey",
          "tableFrom": "deal_products",
          "tableTo": "deals",
          "schemaTo": "public",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "public.employees": {
      "name": "employees",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "employee_number": {
          "name": "employee_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "employment_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'onboarding'"
        },
        "employment_type": {
          "name": "employment_type",
          "type": "employment_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'fte'"
        },
        "hire_date": {
          "name": "hire_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "termination_date": {
          "name": "termination_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "termination_reason": {
          "name": "termination_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "job_title": {
          "name": "job_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "manager_id": {
          "name": "manager_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "work_mode": {
          "name": "work_mode",
          "type": "work_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'on_site'"
        },
        "salary_type": {
          "name": "salary_type",
          "type": "salary_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'annual'"
        },
        "salary_amount": {
          "name": "salary_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_employees_deleted_at": {
          "name": "idx_employees_deleted_at",
          "columns": [
            {
              "expression": "deleted_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_employees_manager_id": {
          "name": "idx_employees_manager_id",
          "columns": [
            {
              "expression": "manager_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_employees_org_id": {
          "name": "idx_employees_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_employees_status": {
          "name": "idx_employees_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_employees_user_id": {
          "name": "idx_employees_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "employees_created_by_fkey": {
          "name": "employees_created_by_fkey",
          "tableFrom": "employees",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "employees_manager_id_fkey": {
          "name": "employees_manager_id_fkey",
          "tableFrom": "employees",
          "tableTo": "employees",
          "schemaTo": "public",
          "columnsFrom": [
            "manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "employees_org_id_fkey": {
          "name": "employees_org_id_fkey",
          "tableFrom": "employees",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "employees_updated_by_fkey": {
          "name": "employees_updated_by_fkey",
          "tableFrom": "employees",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "employees_user_id_fkey": {
          "name": "employees_user_id_fkey",
          "tableFrom": "employees",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "employees_user_id_key": {
          "columns": [
            "user_id"
          ],
          "nullsNotDistinct": false,
          "name": "employees_user_id_key"
        },
        "employees_employee_number_key": {
          "columns": [
            "employee_number"
          ],
          "nullsNotDistinct": false,
          "name": "employees_employee_number_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.employee_profiles": {
      "name": "employee_profiles",
      "schema": "",
      "columns": {
        "employee_id": {
          "name": "employee_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "ssn_encrypted": {
          "name": "ssn_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_street": {
          "name": "address_street",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_city": {
          "name": "address_city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_state": {
          "name": "address_state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_country": {
          "name": "address_country",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USA'"
        },
        "address_postal": {
          "name": "address_postal",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact_name": {
          "name": "emergency_contact_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact_phone": {
          "name": "emergency_contact_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact_relationship": {
          "name": "emergency_contact_relationship",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "employee_profiles_employee_id_fkey": {
          "name": "employee_profiles_employee_id_fkey",
          "tableFrom": "employee_profiles",
          "tableTo": "employees",
          "schemaTo": "public",
          "columnsFrom": [
            "employee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.employee_documents": {
      "name": "employee_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "employee_id": {
          "name": "employee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "document_type": {
          "name": "document_type",
          "type": "document_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "issue_date": {
          "name": "issue_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "document_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "verified_by": {
          "name": "verified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_employee_documents_employee_id": {
          "name": "idx_employee_documents_employee_id",
          "columns": [
            {
              "expression": "employee_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_employee_documents_status": {
          "name": "idx_employee_documents_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_employee_documents_type": {
          "name": "idx_employee_documents_type",
          "columns": [
            {
              "expression": "document_type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "employee_documents_created_by_fkey": {
          "name": "employee_documents_created_by_fkey",
          "tableFrom": "employee_documents",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "employee_documents_employee_id_fkey": {
          "name": "employee_documents_employee_id_fkey",
          "tableFrom": "employee_documents",
          "tableTo": "employees",
          "schemaTo": "public",
          "columnsFrom": [
            "employee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "employee_documents_verified_by_fkey": {
          "name": "employee_documents_verified_by_fkey",
          "tableFrom": "employee_documents",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "verified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.employee_time_off": {
      "name": "employee_time_off",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "employee_id": {
          "name": "employee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "time_off_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "time_off_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "hours": {
          "name": "hours",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "denial_reason": {
          "name": "denial_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_employee_time_off_dates": {
          "name": "idx_employee_time_off_dates",
          "columns": [
            {
              "expression": "start_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            },
            {
              "expression": "end_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_employee_time_off_employee_id": {
          "name": "idx_employee_time_off_employee_id",
          "columns": [
            {
              "expression": "employee_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_employee_time_off_status": {
          "name": "idx_employee_time_off_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "employee_time_off_approved_by_fkey": {
          "name": "employee_time_off_approved_by_fkey",
          "tableFrom": "employee_time_off",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "employee_time_off_created_by_fkey": {
          "name": "employee_time_off_created_by_fkey",
          "tableFrom": "employee_time_off",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "employee_time_off_employee_id_fkey": {
          "name": "employee_time_off_employee_id_fkey",
          "tableFrom": "employee_time_off",
          "tableTo": "employees",
          "schemaTo": "public",
          "columnsFrom": [
            "employee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.benefit_plans": {
      "name": "benefit_plans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "benefit_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "termination_date": {
          "name": "termination_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_benefit_plans_org_id": {
          "name": "idx_benefit_plans_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_benefit_plans_status": {
          "name": "idx_benefit_plans_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_benefit_plans_type": {
          "name": "idx_benefit_plans_type",
          "columns": [
            {
              "expression": "type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "benefit_plans_created_by_fkey": {
          "name": "benefit_plans_created_by_fkey",
          "tableFrom": "benefit_plans",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "benefit_plans_org_id_fkey": {
          "name": "benefit_plans_org_id_fkey",
          "tableFrom": "benefit_plans",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.employee_benefits": {
      "name": "employee_benefits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "employee_id": {
          "name": "employee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "plan_option_id": {
          "name": "plan_option_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "benefit_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "enrollment_date": {
          "name": "enrollment_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "coverage_start": {
          "name": "coverage_start",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "coverage_end": {
          "name": "coverage_end",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "dependents_count": {
          "name": "dependents_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_employee_benefits_employee_id": {
          "name": "idx_employee_benefits_employee_id",
          "columns": [
            {
              "expression": "employee_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_employee_benefits_plan_option_id": {
          "name": "idx_employee_benefits_plan_option_id",
          "columns": [
            {
              "expression": "plan_option_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_employee_benefits_status": {
          "name": "idx_employee_benefits_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "employee_benefits_created_by_fkey": {
          "name": "employee_benefits_created_by_fkey",
          "tableFrom": "employee_benefits",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "employee_benefits_employee_id_fkey": {
          "name": "employee_benefits_employee_id_fkey",
          "tableFrom": "employee_benefits",
          "tableTo": "employees",
          "schemaTo": "public",
          "columnsFrom": [
            "employee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "employee_benefits_plan_option_id_fkey": {
          "name": "employee_benefits_plan_option_id_fkey",
          "tableFrom": "employee_benefits",
          "tableTo": "benefit_plan_options",
          "schemaTo": "public",
          "columnsFrom": [
            "plan_option_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.benefit_dependents": {
      "name": "benefit_dependents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "employee_benefit_id": {
          "name": "employee_benefit_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "relationship": {
          "name": "relationship",
          "type": "relationship",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "ssn_encrypted": {
          "name": "ssn_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_benefit_dependents_employee_benefit_id": {
          "name": "idx_benefit_dependents_employee_benefit_id",
          "columns": [
            {
              "expression": "employee_benefit_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "benefit_dependents_employee_benefit_id_fkey": {
          "name": "benefit_dependents_employee_benefit_id_fkey",
          "tableFrom": "benefit_dependents",
          "tableTo": "employee_benefits",
          "schemaTo": "public",
          "columnsFrom": [
            "employee_benefit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.raci_change_log": {
      "name": "raci_change_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "object_owner_id": {
          "name": "object_owner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "change_type": {
          "name": "change_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "previous_role": {
          "name": "previous_role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "new_role": {
          "name": "new_role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "previous_user_id": {
          "name": "previous_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "new_user_id": {
          "name": "new_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "previous_permission": {
          "name": "previous_permission",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "new_permission": {
          "name": "new_permission",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "changed_at": {
          "name": "changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_raci_change_log_changed_at": {
          "name": "idx_raci_change_log_changed_at",
          "columns": [
            {
              "expression": "changed_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_raci_change_log_entity": {
          "name": "idx_raci_change_log_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "raci_change_log_changed_by_fkey": {
          "name": "raci_change_log_changed_by_fkey",
          "tableFrom": "raci_change_log",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "changed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "raci_change_log_object_owner_id_fkey": {
          "name": "raci_change_log_object_owner_id_fkey",
          "tableFrom": "raci_change_log",
          "tableTo": "object_owners",
          "schemaTo": "public",
          "columnsFrom": [
            "object_owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "raci_change_log_org_id_fkey": {
          "name": "raci_change_log_org_id_fkey",
          "tableFrom": "raci_change_log",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "raci_change_log_change_type_check": {
          "name": "raci_change_log_change_type_check",
          "value": "change_type = ANY (ARRAY['assigned'::text, 'role_changed'::text, 'permission_changed'::text, 'removed'::text, 'transferred'::text])"
        }
      },
      "policies": {
        "raci_change_log_org_isolation": {
          "name": "raci_change_log_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = COALESCE((current_setting('app.current_org_id'::text, true))::uuid, ((auth.jwt() ->> 'org_id'::text))::uuid))"
        }
      },
      "isRLSEnabled": true
    },
    "public.employee_compliance": {
      "name": "employee_compliance",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "employee_id": {
          "name": "employee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_id": {
          "name": "requirement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "compliance_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "document_url": {
          "name": "document_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_employee_compliance_employee_id": {
          "name": "idx_employee_compliance_employee_id",
          "columns": [
            {
              "expression": "employee_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_employee_compliance_requirement_id": {
          "name": "idx_employee_compliance_requirement_id",
          "columns": [
            {
              "expression": "requirement_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_employee_compliance_status": {
          "name": "idx_employee_compliance_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "employee_compliance_employee_id_fkey": {
          "name": "employee_compliance_employee_id_fkey",
          "tableFrom": "employee_compliance",
          "tableTo": "employees",
          "schemaTo": "public",
          "columnsFrom": [
            "employee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "employee_compliance_requirement_id_fkey": {
          "name": "employee_compliance_requirement_id_fkey",
          "tableFrom": "employee_compliance",
          "tableTo": "legacy_compliance_requirements",
          "schemaTo": "public",
          "columnsFrom": [
            "requirement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.i9_records": {
      "name": "i9_records",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "employee_id": {
          "name": "employee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "section1_completed_at": {
          "name": "section1_completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "section2_completed_at": {
          "name": "section2_completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "list_a_document": {
          "name": "list_a_document",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "list_b_document": {
          "name": "list_b_document",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "list_c_document": {
          "name": "list_c_document",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "authorized_rep_name": {
          "name": "authorized_rep_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "authorized_rep_title": {
          "name": "authorized_rep_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reverification_date": {
          "name": "reverification_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "i9_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_i9_records_employee_id": {
          "name": "idx_i9_records_employee_id",
          "columns": [
            {
              "expression": "employee_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_i9_records_status": {
          "name": "idx_i9_records_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "i9_records_created_by_fkey": {
          "name": "i9_records_created_by_fkey",
          "tableFrom": "i9_records",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "i9_records_employee_id_fkey": {
          "name": "i9_records_employee_id_fkey",
          "tableFrom": "i9_records",
          "tableTo": "employees",
          "schemaTo": "public",
          "columnsFrom": [
            "employee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "i9_records_employee_id_key": {
          "columns": [
            "employee_id"
          ],
          "nullsNotDistinct": false,
          "name": "i9_records_employee_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.legacy_compliance_requirements": {
      "name": "legacy_compliance_requirements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "compliance_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "jurisdiction": {
          "name": "jurisdiction",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "applies_to": {
          "name": "applies_to",
          "type": "compliance_applies_to",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'all'"
        },
        "frequency": {
          "name": "frequency",
          "type": "compliance_frequency",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_template_url": {
          "name": "document_template_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_compliance_requirements_active": {
          "name": "idx_compliance_requirements_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_requirements_org_id": {
          "name": "idx_compliance_requirements_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_requirements_type": {
          "name": "idx_compliance_requirements_type",
          "columns": [
            {
              "expression": "type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "compliance_requirements_created_by_fkey": {
          "name": "compliance_requirements_created_by_fkey",
          "tableFrom": "legacy_compliance_requirements",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compliance_requirements_org_id_fkey": {
          "name": "compliance_requirements_org_id_fkey",
          "tableFrom": "legacy_compliance_requirements",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.performance_goals": {
      "name": "performance_goals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "employee_id": {
          "name": "employee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "review_id": {
          "name": "review_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "goal": {
          "name": "goal",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "performance_goal_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "weight_percent": {
          "name": "weight_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "goal_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'not_started'"
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "comments": {
          "name": "comments",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "target_date": {
          "name": "target_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_performance_goals_employee_id": {
          "name": "idx_performance_goals_employee_id",
          "columns": [
            {
              "expression": "employee_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_performance_goals_review_id": {
          "name": "idx_performance_goals_review_id",
          "columns": [
            {
              "expression": "review_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_performance_goals_status": {
          "name": "idx_performance_goals_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "performance_goals_created_by_fkey": {
          "name": "performance_goals_created_by_fkey",
          "tableFrom": "performance_goals",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "performance_goals_employee_id_fkey": {
          "name": "performance_goals_employee_id_fkey",
          "tableFrom": "performance_goals",
          "tableTo": "employees",
          "schemaTo": "public",
          "columnsFrom": [
            "employee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "performance_goals_rating_check": {
          "name": "performance_goals_rating_check",
          "value": "(rating >= 1) AND (rating <= 5)"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.performance_feedback": {
      "name": "performance_feedback",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "review_id": {
          "name": "review_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "feedback_type": {
          "name": "feedback_type",
          "type": "feedback_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_performance_feedback_review_id": {
          "name": "idx_performance_feedback_review_id",
          "columns": [
            {
              "expression": "review_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_performance_feedback_type": {
          "name": "idx_performance_feedback_type",
          "columns": [
            {
              "expression": "feedback_type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "performance_feedback_created_by_fkey": {
          "name": "performance_feedback_created_by_fkey",
          "tableFrom": "performance_feedback",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.pattern_checklist_items": {
      "name": "pattern_checklist_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "pattern_id": {
          "name": "pattern_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "item_text": {
          "name": "item_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "auto_complete_condition": {
          "name": "auto_complete_condition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "pattern_checklist_items_pattern_id_fkey": {
          "name": "pattern_checklist_items_pattern_id_fkey",
          "tableFrom": "pattern_checklist_items",
          "tableTo": "activity_patterns",
          "schemaTo": "public",
          "columnsFrom": [
            "pattern_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.activity_pattern_successors": {
      "name": "activity_pattern_successors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "pattern_id": {
          "name": "pattern_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "successor_pattern_id": {
          "name": "successor_pattern_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "condition_type": {
          "name": "condition_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'always'"
        },
        "condition_field": {
          "name": "condition_field",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "condition_value": {
          "name": "condition_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "condition_expression": {
          "name": "condition_expression",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "delay_days": {
          "name": "delay_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_pattern_successors_pattern": {
          "name": "idx_pattern_successors_pattern",
          "columns": [
            {
              "expression": "pattern_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "activity_pattern_successors_pattern_id_fkey": {
          "name": "activity_pattern_successors_pattern_id_fkey",
          "tableFrom": "activity_pattern_successors",
          "tableTo": "activity_patterns",
          "schemaTo": "public",
          "columnsFrom": [
            "pattern_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activity_pattern_successors_successor_pattern_id_fkey": {
          "name": "activity_pattern_successors_successor_pattern_id_fkey",
          "tableFrom": "activity_pattern_successors",
          "tableTo": "activity_patterns",
          "schemaTo": "public",
          "columnsFrom": [
            "successor_pattern_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "activity_pattern_successors_pattern_id_successor_pattern_id_key": {
          "columns": [
            "pattern_id",
            "successor_pattern_id"
          ],
          "nullsNotDistinct": false,
          "name": "activity_pattern_successors_pattern_id_successor_pattern_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.workplan_templates": {
      "name": "workplan_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_event": {
          "name": "trigger_event",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "trigger_status": {
          "name": "trigger_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_field": {
          "name": "trigger_field",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_condition": {
          "name": "trigger_condition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "completion_criteria": {
          "name": "completion_criteria",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'all_required'"
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_workplan_templates_entity": {
          "name": "idx_workplan_templates_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workplan_templates_trigger": {
          "name": "idx_workplan_templates_trigger",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "trigger_event",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "trigger_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workplan_templates_org_id_fkey": {
          "name": "workplan_templates_org_id_fkey",
          "tableFrom": "workplan_templates",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workplan_templates_org_id_code_key": {
          "columns": [
            "org_id",
            "code"
          ],
          "nullsNotDistinct": false,
          "name": "workplan_templates_org_id_code_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "workplan_templates_org_isolation": {
          "name": "workplan_templates_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id = current_user_org_id()) OR (is_system = true))"
        }
      },
      "isRLSEnabled": true
    },
    "public.workplan_phases": {
      "name": "workplan_phases",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "phase_name": {
          "name": "phase_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phase_code": {
          "name": "phase_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completion_criteria": {
          "name": "completion_criteria",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'all_required'"
        },
        "auto_advance": {
          "name": "auto_advance",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "workplan_phases_template_id_fkey": {
          "name": "workplan_phases_template_id_fkey",
          "tableFrom": "workplan_phases",
          "tableTo": "workplan_templates",
          "schemaTo": "public",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workplan_phases_template_id_phase_code_key": {
          "columns": [
            "template_id",
            "phase_code"
          ],
          "nullsNotDistinct": false,
          "name": "workplan_phases_template_id_phase_code_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.workplan_instances": {
      "name": "workplan_instances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_code": {
          "name": "template_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "template_name": {
          "name": "template_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "total_activities": {
          "name": "total_activities",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completed_activities": {
          "name": "completed_activities",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "skipped_activities": {
          "name": "skipped_activities",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "current_phase": {
          "name": "current_phase",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "paused_at": {
          "name": "paused_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "canceled_at": {
          "name": "canceled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "outcome": {
          "name": "outcome",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "outcome_notes": {
          "name": "outcome_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "progress_percentage": {
          "name": "progress_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "\nCASE\n    WHEN (total_activities > 0) THEN (((completed_activities + skipped_activities) * 100) / total_activities)\n    ELSE 0\nEND",
            "type": "stored"
          }
        }
      },
      "indexes": {
        "idx_workplan_instances_entity": {
          "name": "idx_workplan_instances_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workplan_instances_status": {
          "name": "idx_workplan_instances_status",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "workplan_instances_entity_idx": {
          "name": "workplan_instances_entity_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "workplan_instances_status_idx": {
          "name": "workplan_instances_status_idx",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workplan_instances_created_by_fkey": {
          "name": "workplan_instances_created_by_fkey",
          "tableFrom": "workplan_instances",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workplan_instances_org_id_fkey": {
          "name": "workplan_instances_org_id_fkey",
          "tableFrom": "workplan_instances",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workplan_instances_template_id_fkey": {
          "name": "workplan_instances_template_id_fkey",
          "tableFrom": "workplan_instances",
          "tableTo": "workplan_templates",
          "schemaTo": "public",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "workplan_instances_org_isolation": {
          "name": "workplan_instances_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.workplan_template_activities": {
      "name": "workplan_template_activities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "pattern_id": {
          "name": "pattern_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "phase": {
          "name": "phase",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "skip_condition": {
          "name": "skip_condition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "can_run_parallel": {
          "name": "can_run_parallel",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "depends_on_activity_ids": {
          "name": "depends_on_activity_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_workplan_activities_template": {
          "name": "idx_workplan_activities_template",
          "columns": [
            {
              "expression": "template_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "order_index",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workplan_template_activities_pattern_id_fkey": {
          "name": "workplan_template_activities_pattern_id_fkey",
          "tableFrom": "workplan_template_activities",
          "tableTo": "activity_patterns",
          "schemaTo": "public",
          "columnsFrom": [
            "pattern_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workplan_template_activities_template_id_fkey": {
          "name": "workplan_template_activities_template_id_fkey",
          "tableFrom": "workplan_template_activities",
          "tableTo": "workplan_templates",
          "schemaTo": "public",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workplan_template_activities_template_id_pattern_id_key": {
          "columns": [
            "template_id",
            "pattern_id"
          ],
          "nullsNotDistinct": false,
          "name": "workplan_template_activities_template_id_pattern_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.activity_participants": {
      "name": "activity_participants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "activity_id": {
          "name": "activity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "permission": {
          "name": "permission",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'view'"
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notify_on_update": {
          "name": "notify_on_update",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "added_at": {
          "name": "added_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "added_by": {
          "name": "added_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "activity_participants_activity_idx": {
          "name": "activity_participants_activity_idx",
          "columns": [
            {
              "expression": "activity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activity_participants_user_idx": {
          "name": "activity_participants_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "activity_participants_activity_id_fkey": {
          "name": "activity_participants_activity_id_fkey",
          "tableFrom": "activity_participants",
          "tableTo": "activities",
          "schemaTo": "public",
          "columnsFrom": [
            "activity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activity_participants_added_by_fkey": {
          "name": "activity_participants_added_by_fkey",
          "tableFrom": "activity_participants",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "added_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activity_participants_user_id_fkey": {
          "name": "activity_participants_user_id_fkey",
          "tableFrom": "activity_participants",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "activity_participants_activity_id_user_id_key": {
          "columns": [
            "activity_id",
            "user_id"
          ],
          "nullsNotDistinct": false,
          "name": "activity_participants_activity_id_user_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.activity_field_values": {
      "name": "activity_field_values",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "activity_id": {
          "name": "activity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "field_id": {
          "name": "field_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "field_value": {
          "name": "field_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "activity_field_values_activity_id_fkey": {
          "name": "activity_field_values_activity_id_fkey",
          "tableFrom": "activity_field_values",
          "tableTo": "activities",
          "schemaTo": "public",
          "columnsFrom": [
            "activity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activity_field_values_field_id_fkey": {
          "name": "activity_field_values_field_id_fkey",
          "tableFrom": "activity_field_values",
          "tableTo": "pattern_fields",
          "schemaTo": "public",
          "columnsFrom": [
            "field_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "activity_field_values_activity_id_field_id_key": {
          "columns": [
            "activity_id",
            "field_id"
          ],
          "nullsNotDistinct": false,
          "name": "activity_field_values_activity_id_field_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.activity_checklist_items": {
      "name": "activity_checklist_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "activity_id": {
          "name": "activity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "pattern_checklist_item_id": {
          "name": "pattern_checklist_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "item_text": {
          "name": "item_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_completed": {
          "name": "is_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_by": {
          "name": "completed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "activity_checklist_items_activity_id_fkey": {
          "name": "activity_checklist_items_activity_id_fkey",
          "tableFrom": "activity_checklist_items",
          "tableTo": "activities",
          "schemaTo": "public",
          "columnsFrom": [
            "activity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activity_checklist_items_completed_by_fkey": {
          "name": "activity_checklist_items_completed_by_fkey",
          "tableFrom": "activity_checklist_items",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "completed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activity_checklist_items_pattern_checklist_item_id_fkey": {
          "name": "activity_checklist_items_pattern_checklist_item_id_fkey",
          "tableFrom": "activity_checklist_items",
          "tableTo": "pattern_checklist_items",
          "schemaTo": "public",
          "columnsFrom": [
            "pattern_checklist_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.activity_comments": {
      "name": "activity_comments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "activity_id": {
          "name": "activity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "comment_text": {
          "name": "comment_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "comment_type": {
          "name": "comment_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'comment'"
        },
        "parent_comment_id": {
          "name": "parent_comment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "mentioned_users": {
          "name": "mentioned_users",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_internal": {
          "name": "is_internal",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "activity_comments_activity_idx": {
          "name": "activity_comments_activity_idx",
          "columns": [
            {
              "expression": "activity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "activity_comments_activity_id_fkey": {
          "name": "activity_comments_activity_id_fkey",
          "tableFrom": "activity_comments",
          "tableTo": "activities",
          "schemaTo": "public",
          "columnsFrom": [
            "activity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activity_comments_created_by_fkey": {
          "name": "activity_comments_created_by_fkey",
          "tableFrom": "activity_comments",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activity_comments_parent_comment_id_fkey": {
          "name": "activity_comments_parent_comment_id_fkey",
          "tableFrom": "activity_comments",
          "tableTo": "activity_comments",
          "schemaTo": "public",
          "columnsFrom": [
            "parent_comment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activity_comments_updated_by_fkey": {
          "name": "activity_comments_updated_by_fkey",
          "tableFrom": "activity_comments",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.activity_attachments": {
      "name": "activity_attachments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "activity_id": {
          "name": "activity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "file_type": {
          "name": "file_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "storage_key": {
          "name": "storage_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "activity_attachments_activity_idx": {
          "name": "activity_attachments_activity_idx",
          "columns": [
            {
              "expression": "activity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "activity_attachments_activity_id_fkey": {
          "name": "activity_attachments_activity_id_fkey",
          "tableFrom": "activity_attachments",
          "tableTo": "activities",
          "schemaTo": "public",
          "columnsFrom": [
            "activity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activity_attachments_uploaded_by_fkey": {
          "name": "activity_attachments_uploaded_by_fkey",
          "tableFrom": "activity_attachments",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.activity_reminders": {
      "name": "activity_reminders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "activity_id": {
          "name": "activity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "remind_at": {
          "name": "remind_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "reminder_type": {
          "name": "reminder_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'relative'"
        },
        "relative_days": {
          "name": "relative_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "relative_hours": {
          "name": "relative_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "channel": {
          "name": "channel",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'email'"
        },
        "is_sent": {
          "name": "is_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "activity_reminders_activity_idx": {
          "name": "activity_reminders_activity_idx",
          "columns": [
            {
              "expression": "activity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activity_reminders_remind_at_idx": {
          "name": "activity_reminders_remind_at_idx",
          "columns": [
            {
              "expression": "remind_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "activity_reminders_activity_id_fkey": {
          "name": "activity_reminders_activity_id_fkey",
          "tableFrom": "activity_reminders",
          "tableTo": "activities",
          "schemaTo": "public",
          "columnsFrom": [
            "activity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activity_reminders_user_id_fkey": {
          "name": "activity_reminders_user_id_fkey",
          "tableFrom": "activity_reminders",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.pod_sprint_metrics": {
      "name": "pod_sprint_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "pod_id": {
          "name": "pod_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sprint_number": {
          "name": "sprint_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "sprint_start_date": {
          "name": "sprint_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "sprint_end_date": {
          "name": "sprint_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "placements_target": {
          "name": "placements_target",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2
        },
        "placements_stretch_target": {
          "name": "placements_stretch_target",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "submissions_target": {
          "name": "submissions_target",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 20
        },
        "submissions_stretch_target": {
          "name": "submissions_stretch_target",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "client_meetings_target": {
          "name": "client_meetings_target",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "new_candidates_target": {
          "name": "new_candidates_target",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "placements_actual": {
          "name": "placements_actual",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "submissions_actual": {
          "name": "submissions_actual",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "client_meetings_actual": {
          "name": "client_meetings_actual",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "new_candidates_actual": {
          "name": "new_candidates_actual",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "target_achievement_pct": {
          "name": "target_achievement_pct",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "\nCASE\n    WHEN (placements_target > 0) THEN round((((placements_actual)::numeric / (placements_target)::numeric) * (100)::numeric), 2)\n    ELSE (0)::numeric\nEND",
            "type": "stored"
          }
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_pod_sprint_metrics_active": {
          "name": "idx_pod_sprint_metrics_active",
          "columns": [
            {
              "expression": "pod_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = 'active'::text)",
          "with": {}
        },
        "idx_pod_sprint_metrics_dates": {
          "name": "idx_pod_sprint_metrics_dates",
          "columns": [
            {
              "expression": "sprint_start_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            },
            {
              "expression": "sprint_end_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pod_sprint_metrics_org_id": {
          "name": "idx_pod_sprint_metrics_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pod_sprint_metrics_pod_id": {
          "name": "idx_pod_sprint_metrics_pod_id",
          "columns": [
            {
              "expression": "pod_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pod_sprint_metrics_org_id_fkey": {
          "name": "pod_sprint_metrics_org_id_fkey",
          "tableFrom": "pod_sprint_metrics",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "pod_sprint_metrics_pod_id_fkey": {
          "name": "pod_sprint_metrics_pod_id_fkey",
          "tableFrom": "pod_sprint_metrics",
          "tableTo": "pods",
          "schemaTo": "public",
          "columnsFrom": [
            "pod_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "pod_sprint_metrics_pod_id_sprint_number_key": {
          "columns": [
            "pod_id",
            "sprint_number"
          ],
          "nullsNotDistinct": false,
          "name": "pod_sprint_metrics_pod_id_sprint_number_key"
        }
      },
      "checkConstraints": {
        "pod_sprint_metrics_status_check": {
          "name": "pod_sprint_metrics_status_check",
          "value": "status = ANY (ARRAY['active'::text, 'completed'::text, 'cancelled'::text])"
        }
      },
      "policies": {
        "pod_sprint_metrics_employee_read": {
          "name": "pod_sprint_metrics_employee_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid())))"
        },
        "pod_sprint_metrics_org_isolation": {
          "name": "pod_sprint_metrics_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.activity_time_entries": {
      "name": "activity_time_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "activity_id": {
          "name": "activity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_billable": {
          "name": "is_billable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "activity_time_entries_activity_idx": {
          "name": "activity_time_entries_activity_idx",
          "columns": [
            {
              "expression": "activity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activity_time_entries_user_idx": {
          "name": "activity_time_entries_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "activity_time_entries_activity_id_fkey": {
          "name": "activity_time_entries_activity_id_fkey",
          "tableFrom": "activity_time_entries",
          "tableTo": "activities",
          "schemaTo": "public",
          "columnsFrom": [
            "activity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activity_time_entries_user_id_fkey": {
          "name": "activity_time_entries_user_id_fkey",
          "tableFrom": "activity_time_entries",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.activity_dependencies": {
      "name": "activity_dependencies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "activity_id": {
          "name": "activity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "depends_on_activity_id": {
          "name": "depends_on_activity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "dependency_type": {
          "name": "dependency_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'finish_to_start'"
        },
        "lag_days": {
          "name": "lag_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_strict": {
          "name": "is_strict",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "activity_dependencies_activity_idx": {
          "name": "activity_dependencies_activity_idx",
          "columns": [
            {
              "expression": "activity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "activity_dependencies_activity_id_fkey": {
          "name": "activity_dependencies_activity_id_fkey",
          "tableFrom": "activity_dependencies",
          "tableTo": "activities",
          "schemaTo": "public",
          "columnsFrom": [
            "activity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activity_dependencies_depends_on_activity_id_fkey": {
          "name": "activity_dependencies_depends_on_activity_id_fkey",
          "tableFrom": "activity_dependencies",
          "tableTo": "activities",
          "schemaTo": "public",
          "columnsFrom": [
            "depends_on_activity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "activity_dependencies_activity_id_depends_on_activity_id_key": {
          "columns": [
            "activity_id",
            "depends_on_activity_id"
          ],
          "nullsNotDistinct": false,
          "name": "activity_dependencies_activity_id_depends_on_activity_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.activity_auto_rules": {
      "name": "activity_auto_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rule_name": {
          "name": "rule_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rule_code": {
          "name": "rule_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_category": {
          "name": "event_category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "condition": {
          "name": "condition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "activity_pattern_id": {
          "name": "activity_pattern_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "delay_days": {
          "name": "delay_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "delay_hours": {
          "name": "delay_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "assign_to_field": {
          "name": "assign_to_field",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assign_to_user_id": {
          "name": "assign_to_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assign_to_group_id": {
          "name": "assign_to_group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "activity_auto_rules_event_type_idx": {
          "name": "activity_auto_rules_event_type_idx",
          "columns": [
            {
              "expression": "event_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "activity_auto_rules_activity_pattern_id_fkey": {
          "name": "activity_auto_rules_activity_pattern_id_fkey",
          "tableFrom": "activity_auto_rules",
          "tableTo": "activity_patterns",
          "schemaTo": "public",
          "columnsFrom": [
            "activity_pattern_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activity_auto_rules_assign_to_group_id_fkey": {
          "name": "activity_auto_rules_assign_to_group_id_fkey",
          "tableFrom": "activity_auto_rules",
          "tableTo": "pods",
          "schemaTo": "public",
          "columnsFrom": [
            "assign_to_group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activity_auto_rules_assign_to_user_id_fkey": {
          "name": "activity_auto_rules_assign_to_user_id_fkey",
          "tableFrom": "activity_auto_rules",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "assign_to_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activity_auto_rules_org_id_fkey": {
          "name": "activity_auto_rules_org_id_fkey",
          "tableFrom": "activity_auto_rules",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "activity_auto_rules_org_id_rule_code_key": {
          "columns": [
            "org_id",
            "rule_code"
          ],
          "nullsNotDistinct": false,
          "name": "activity_auto_rules_org_id_rule_code_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.activity_history": {
      "name": "activity_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "activity_id": {
          "name": "activity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "field_changed": {
          "name": "field_changed",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "old_value": {
          "name": "old_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "new_value": {
          "name": "new_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "changed_at": {
          "name": "changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "activity_history_activity_idx": {
          "name": "activity_history_activity_idx",
          "columns": [
            {
              "expression": "activity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activity_history_changed_at_idx": {
          "name": "activity_history_changed_at_idx",
          "columns": [
            {
              "expression": "changed_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_history_activity": {
          "name": "idx_activity_history_activity",
          "columns": [
            {
              "expression": "activity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "activity_history_activity_id_fkey": {
          "name": "activity_history_activity_id_fkey",
          "tableFrom": "activity_history",
          "tableTo": "activities",
          "schemaTo": "public",
          "columnsFrom": [
            "activity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activity_history_changed_by_fkey": {
          "name": "activity_history_changed_by_fkey",
          "tableFrom": "activity_history",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "changed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.work_queues": {
      "name": "work_queues",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "queue_name": {
          "name": "queue_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "queue_code": {
          "name": "queue_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "queue_type": {
          "name": "queue_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'activity'"
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_to_group_id": {
          "name": "assigned_to_group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assignment_strategy": {
          "name": "assignment_strategy",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'round_robin'"
        },
        "filter_criteria": {
          "name": "filter_criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'priority_desc'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "work_queues_assigned_to_group_id_fkey": {
          "name": "work_queues_assigned_to_group_id_fkey",
          "tableFrom": "work_queues",
          "tableTo": "pods",
          "schemaTo": "public",
          "columnsFrom": [
            "assigned_to_group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_queues_org_id_fkey": {
          "name": "work_queues_org_id_fkey",
          "tableFrom": "work_queues",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "work_queues_org_id_queue_code_key": {
          "columns": [
            "org_id",
            "queue_code"
          ],
          "nullsNotDistinct": false,
          "name": "work_queues_org_id_queue_code_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.addresses": {
      "name": "addresses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "address_type": {
          "name": "address_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "address_line_1": {
          "name": "address_line_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line_2": {
          "name": "address_line_2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line_3": {
          "name": "address_line_3",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state_province": {
          "name": "state_province",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code": {
          "name": "postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country_code": {
          "name": "country_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'US'"
        },
        "county": {
          "name": "county",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "latitude": {
          "name": "latitude",
          "type": "numeric(10, 7)",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "numeric(10, 7)",
          "primaryKey": false,
          "notNull": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "verification_source": {
          "name": "verification_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "effective_from": {
          "name": "effective_from",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "effective_to": {
          "name": "effective_to",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_addresses_country": {
          "name": "idx_addresses_country",
          "columns": [
            {
              "expression": "country_code",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_addresses_entity": {
          "name": "idx_addresses_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_addresses_entity_lookup": {
          "name": "idx_addresses_entity_lookup",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_addresses_org": {
          "name": "idx_addresses_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_addresses_org_city_state": {
          "name": "idx_addresses_org_city_state",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "city",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "state_province",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_addresses_primary": {
          "name": "idx_addresses_primary",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "is_primary",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_primary = true)",
          "with": {}
        },
        "idx_addresses_type": {
          "name": "idx_addresses_type",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "address_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "addresses_org_id_fkey": {
          "name": "addresses_org_id_fkey",
          "tableFrom": "addresses",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "addresses_address_type_check": {
          "name": "addresses_address_type_check",
          "value": "address_type = ANY (ARRAY['current'::text, 'permanent'::text, 'mailing'::text, 'work'::text, 'billing'::text, 'shipping'::text, 'headquarters'::text, 'office'::text, 'job_location'::text, 'meeting'::text, 'first_day'::text])"
        },
        "addresses_entity_type_check": {
          "name": "addresses_entity_type_check",
          "value": "entity_type = ANY (ARRAY['candidate'::text, 'account'::text, 'contact'::text, 'vendor'::text, 'organization'::text, 'lead'::text, 'job'::text, 'interview'::text, 'employee'::text, 'placement'::text])"
        }
      },
      "policies": {
        "addresses_service_all": {
          "name": "addresses_service_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "service_role"
          ],
          "withCheck": "true",
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.queue_items": {
      "name": "queue_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "queue_id": {
          "name": "queue_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'queued'"
        },
        "enqueued_at": {
          "name": "enqueued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "removed_at": {
          "name": "removed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "queue_items_entity_idx": {
          "name": "queue_items_entity_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "queue_items_queue_idx": {
          "name": "queue_items_queue_idx",
          "columns": [
            {
              "expression": "queue_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "queue_items_status_idx": {
          "name": "queue_items_status_idx",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "queue_items_assigned_to_fkey": {
          "name": "queue_items_assigned_to_fkey",
          "tableFrom": "queue_items",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_items_queue_id_fkey": {
          "name": "queue_items_queue_id_fkey",
          "tableFrom": "queue_items",
          "tableTo": "work_queues",
          "schemaTo": "public",
          "columnsFrom": [
            "queue_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "queue_items_queue_id_entity_type_entity_id_key": {
          "columns": [
            "queue_id",
            "entity_type",
            "entity_id"
          ],
          "nullsNotDistinct": false,
          "name": "queue_items_queue_id_entity_type_entity_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.sla_instances": {
      "name": "sla_instances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sla_definition_id": {
          "name": "sla_definition_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "activity_id": {
          "name": "activity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "target_time": {
          "name": "target_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "warning_time": {
          "name": "warning_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "critical_time": {
          "name": "critical_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "paused_at": {
          "name": "paused_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resumed_at": {
          "name": "resumed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "breach_duration": {
          "name": "breach_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_breached": {
          "name": "is_breached",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "breached_at": {
          "name": "breached_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "escalation_sent": {
          "name": "escalation_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "escalation_sent_at": {
          "name": "escalation_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "sla_instances_activity_idx": {
          "name": "sla_instances_activity_idx",
          "columns": [
            {
              "expression": "activity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sla_instances_status_idx": {
          "name": "sla_instances_status_idx",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sla_instances_target_time_idx": {
          "name": "sla_instances_target_time_idx",
          "columns": [
            {
              "expression": "target_time",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sla_instances_activity_id_fkey": {
          "name": "sla_instances_activity_id_fkey",
          "tableFrom": "sla_instances",
          "tableTo": "activities",
          "schemaTo": "public",
          "columnsFrom": [
            "activity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "sla_instances_org_id_fkey": {
          "name": "sla_instances_org_id_fkey",
          "tableFrom": "sla_instances",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "sla_instances_sla_definition_id_fkey": {
          "name": "sla_instances_sla_definition_id_fkey",
          "tableFrom": "sla_instances",
          "tableTo": "sla_definitions",
          "schemaTo": "public",
          "columnsFrom": [
            "sla_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "sla_instances_org_isolation": {
          "name": "sla_instances_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid())))"
        }
      },
      "isRLSEnabled": true
    },
    "public.bulk_activity_jobs": {
      "name": "bulk_activity_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_name": {
          "name": "job_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "job_type": {
          "name": "job_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "activity_pattern_id": {
          "name": "activity_pattern_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "target_entity_type": {
          "name": "target_entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_entity_ids": {
          "name": "target_entity_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "target_criteria": {
          "name": "target_criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "operation": {
          "name": "operation",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "total_items": {
          "name": "total_items",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "processed_items": {
          "name": "processed_items",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "failed_items": {
          "name": "failed_items",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "error_log": {
          "name": "error_log",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "result_summary": {
          "name": "result_summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "canceled_at": {
          "name": "canceled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "bulk_activity_jobs_created_by_idx": {
          "name": "bulk_activity_jobs_created_by_idx",
          "columns": [
            {
              "expression": "created_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bulk_activity_jobs_status_idx": {
          "name": "bulk_activity_jobs_status_idx",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "bulk_activity_jobs_activity_pattern_id_fkey": {
          "name": "bulk_activity_jobs_activity_pattern_id_fkey",
          "tableFrom": "bulk_activity_jobs",
          "tableTo": "activity_patterns",
          "schemaTo": "public",
          "columnsFrom": [
            "activity_pattern_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bulk_activity_jobs_created_by_fkey": {
          "name": "bulk_activity_jobs_created_by_fkey",
          "tableFrom": "bulk_activity_jobs",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bulk_activity_jobs_org_id_fkey": {
          "name": "bulk_activity_jobs_org_id_fkey",
          "tableFrom": "bulk_activity_jobs",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.activity_metrics": {
      "name": "activity_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "metric_date": {
          "name": "metric_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "activity_type": {
          "name": "activity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "activity_category": {
          "name": "activity_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "pod_id": {
          "name": "pod_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "total_activities": {
          "name": "total_activities",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_activities": {
          "name": "created_activities",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completed_activities": {
          "name": "completed_activities",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "overdue_activities": {
          "name": "overdue_activities",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completion_rate": {
          "name": "completion_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "avg_completion_time_hours": {
          "name": "avg_completion_time_hours",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "sla_met_count": {
          "name": "sla_met_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "sla_breached_count": {
          "name": "sla_breached_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "sla_compliance_rate": {
          "name": "sla_compliance_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_time_minutes": {
          "name": "total_time_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "activity_metrics_date_idx": {
          "name": "activity_metrics_date_idx",
          "columns": [
            {
              "expression": "metric_date",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activity_metrics_pod_idx": {
          "name": "activity_metrics_pod_idx",
          "columns": [
            {
              "expression": "pod_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activity_metrics_user_idx": {
          "name": "activity_metrics_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "activity_metrics_org_id_fkey": {
          "name": "activity_metrics_org_id_fkey",
          "tableFrom": "activity_metrics",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activity_metrics_pod_id_fkey": {
          "name": "activity_metrics_pod_id_fkey",
          "tableFrom": "activity_metrics",
          "tableTo": "pods",
          "schemaTo": "public",
          "columnsFrom": [
            "pod_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activity_metrics_user_id_fkey": {
          "name": "activity_metrics_user_id_fkey",
          "tableFrom": "activity_metrics",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.team_metrics": {
      "name": "team_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "pod_id": {
          "name": "pod_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "metric_date": {
          "name": "metric_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "metric_period": {
          "name": "metric_period",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'day'"
        },
        "total_activities": {
          "name": "total_activities",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completed_activities": {
          "name": "completed_activities",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "avg_response_time_hours": {
          "name": "avg_response_time_hours",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "avg_resolution_time_hours": {
          "name": "avg_resolution_time_hours",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_active_members": {
          "name": "total_active_members",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "avg_activities_per_member": {
          "name": "avg_activities_per_member",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "sla_compliance_rate": {
          "name": "sla_compliance_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "activities_created_per_day": {
          "name": "activities_created_per_day",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "activities_completed_per_day": {
          "name": "activities_completed_per_day",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "escalation_count": {
          "name": "escalation_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "reassignment_count": {
          "name": "reassignment_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "team_metrics_date_idx": {
          "name": "team_metrics_date_idx",
          "columns": [
            {
              "expression": "metric_date",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "team_metrics_pod_idx": {
          "name": "team_metrics_pod_idx",
          "columns": [
            {
              "expression": "pod_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "team_metrics_org_id_fkey": {
          "name": "team_metrics_org_id_fkey",
          "tableFrom": "team_metrics",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "team_metrics_pod_id_fkey": {
          "name": "team_metrics_pod_id_fkey",
          "tableFrom": "team_metrics",
          "tableTo": "pods",
          "schemaTo": "public",
          "columnsFrom": [
            "pod_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "team_metrics_pod_id_metric_date_metric_period_key": {
          "columns": [
            "pod_id",
            "metric_date",
            "metric_period"
          ],
          "nullsNotDistinct": false,
          "name": "team_metrics_pod_id_metric_date_metric_period_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.learning_paths": {
      "name": "learning_paths",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "difficulty": {
          "name": "difficulty",
          "type": "skill_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'beginner'"
        },
        "duration_estimate_hours": {
          "name": "duration_estimate_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "path_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "thumbnail_url": {
          "name": "thumbnail_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_learning_paths_deleted_at": {
          "name": "idx_learning_paths_deleted_at",
          "columns": [
            {
              "expression": "deleted_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_learning_paths_difficulty": {
          "name": "idx_learning_paths_difficulty",
          "columns": [
            {
              "expression": "difficulty",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_learning_paths_slug": {
          "name": "idx_learning_paths_slug",
          "columns": [
            {
              "expression": "slug",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_learning_paths_status": {
          "name": "idx_learning_paths_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "learning_paths_created_by_fkey": {
          "name": "learning_paths_created_by_fkey",
          "tableFrom": "learning_paths",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "learning_paths_slug_key": {
          "columns": [
            "slug"
          ],
          "nullsNotDistinct": false,
          "name": "learning_paths_slug_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.learning_path_courses": {
      "name": "learning_path_courses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "path_id": {
          "name": "path_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sequence": {
          "name": "sequence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_learning_path_courses_course_id": {
          "name": "idx_learning_path_courses_course_id",
          "columns": [
            {
              "expression": "course_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_learning_path_courses_path_id": {
          "name": "idx_learning_path_courses_path_id",
          "columns": [
            {
              "expression": "path_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_learning_path_courses_sequence": {
          "name": "idx_learning_path_courses_sequence",
          "columns": [
            {
              "expression": "sequence",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "learning_path_courses_course_id_fkey": {
          "name": "learning_path_courses_course_id_fkey",
          "tableFrom": "learning_path_courses",
          "tableTo": "courses",
          "schemaTo": "public",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "learning_path_courses_path_id_fkey": {
          "name": "learning_path_courses_path_id_fkey",
          "tableFrom": "learning_path_courses",
          "tableTo": "learning_paths",
          "schemaTo": "public",
          "columnsFrom": [
            "path_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "learning_path_courses_path_id_course_id_key": {
          "columns": [
            "path_id",
            "course_id"
          ],
          "nullsNotDistinct": false,
          "name": "learning_path_courses_path_id_course_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.path_enrollments": {
      "name": "path_enrollments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "path_id": {
          "name": "path_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "enrollment_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "enrolled_at": {
          "name": "enrolled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "progress_percent": {
          "name": "progress_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_path_enrollments_path_id": {
          "name": "idx_path_enrollments_path_id",
          "columns": [
            {
              "expression": "path_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_path_enrollments_status": {
          "name": "idx_path_enrollments_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_path_enrollments_user_id": {
          "name": "idx_path_enrollments_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "path_enrollments_path_id_fkey": {
          "name": "path_enrollments_path_id_fkey",
          "tableFrom": "path_enrollments",
          "tableTo": "learning_paths",
          "schemaTo": "public",
          "columnsFrom": [
            "path_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "path_enrollments_user_id_fkey": {
          "name": "path_enrollments_user_id_fkey",
          "tableFrom": "path_enrollments",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "path_enrollments_user_id_path_id_key": {
          "columns": [
            "user_id",
            "path_id"
          ],
          "nullsNotDistinct": false,
          "name": "path_enrollments_user_id_path_id_key"
        }
      },
      "checkConstraints": {
        "path_enrollments_progress_percent_check": {
          "name": "path_enrollments_progress_percent_check",
          "value": "(progress_percent >= 0) AND (progress_percent <= 100)"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.certificates": {
      "name": "certificates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "certificate_number": {
          "name": "certificate_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "issued_at": {
          "name": "issued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "pdf_url": {
          "name": "pdf_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verification_code": {
          "name": "verification_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_certificates_certificate_number": {
          "name": "idx_certificates_certificate_number",
          "columns": [
            {
              "expression": "certificate_number",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_certificates_enrollment_id": {
          "name": "idx_certificates_enrollment_id",
          "columns": [
            {
              "expression": "enrollment_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_certificates_verification_code": {
          "name": "idx_certificates_verification_code",
          "columns": [
            {
              "expression": "verification_code",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "certificates_enrollment_id_fkey": {
          "name": "certificates_enrollment_id_fkey",
          "tableFrom": "certificates",
          "tableTo": "student_enrollments",
          "schemaTo": "public",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "certificates_template_id_fkey": {
          "name": "certificates_template_id_fkey",
          "tableFrom": "certificates",
          "tableTo": "certificate_templates",
          "schemaTo": "public",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "certificates_certificate_number_key": {
          "columns": [
            "certificate_number"
          ],
          "nullsNotDistinct": false,
          "name": "certificates_certificate_number_key"
        },
        "certificates_verification_code_key": {
          "columns": [
            "verification_code"
          ],
          "nullsNotDistinct": false,
          "name": "certificates_verification_code_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.certificate_templates": {
      "name": "certificate_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "design_template": {
          "name": "design_template",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fields": {
          "name": "fields",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_certificate_templates_active": {
          "name": "idx_certificate_templates_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_levels": {
      "name": "user_levels",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "current_level": {
          "name": "current_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "current_xp": {
          "name": "current_xp",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "xp_to_next_level": {
          "name": "xp_to_next_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "level_up_at": {
          "name": "level_up_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_levels_current_level": {
          "name": "idx_user_levels_current_level",
          "columns": [
            {
              "expression": "current_level",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_levels_current_xp": {
          "name": "idx_user_levels_current_xp",
          "columns": [
            {
              "expression": "current_xp",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_levels_user_id_fkey": {
          "name": "user_levels_user_id_fkey",
          "tableFrom": "user_levels",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.user_achievements": {
      "name": "user_achievements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "achievement_id": {
          "name": "achievement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "unlocked_at": {
          "name": "unlocked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "progress": {
          "name": "progress",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_achievements_achievement_id": {
          "name": "idx_user_achievements_achievement_id",
          "columns": [
            {
              "expression": "achievement_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_achievements_unlocked_at": {
          "name": "idx_user_achievements_unlocked_at",
          "columns": [
            {
              "expression": "unlocked_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_achievements_user_id": {
          "name": "idx_user_achievements_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_achievements_achievement_id_fkey": {
          "name": "user_achievements_achievement_id_fkey",
          "tableFrom": "user_achievements",
          "tableTo": "achievements",
          "schemaTo": "public",
          "columnsFrom": [
            "achievement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_achievements_user_id_fkey": {
          "name": "user_achievements_user_id_fkey",
          "tableFrom": "user_achievements",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_achievements_user_id_achievement_id_key": {
          "columns": [
            "user_id",
            "achievement_id"
          ],
          "nullsNotDistinct": false,
          "name": "user_achievements_user_id_achievement_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.achievements": {
      "name": "achievements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "badge_url": {
          "name": "badge_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "xp_reward": {
          "name": "xp_reward",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "criteria": {
          "name": "criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "is_secret": {
          "name": "is_secret",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_achievements_category": {
          "name": "idx_achievements_category",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_achievements_is_secret": {
          "name": "idx_achievements_is_secret",
          "columns": [
            {
              "expression": "is_secret",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_achievements_slug": {
          "name": "idx_achievements_slug",
          "columns": [
            {
              "expression": "slug",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "achievements_slug_key": {
          "columns": [
            "slug"
          ],
          "nullsNotDistinct": false,
          "name": "achievements_slug_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.learning_streaks": {
      "name": "learning_streaks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "streak_type": {
          "name": "streak_type",
          "type": "streak_type_enum",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "current_count": {
          "name": "current_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "longest_count": {
          "name": "longest_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_activity_date": {
          "name": "last_activity_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "streak_started_at": {
          "name": "streak_started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_learning_streaks_current_count": {
          "name": "idx_learning_streaks_current_count",
          "columns": [
            {
              "expression": "current_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_learning_streaks_last_activity_date": {
          "name": "idx_learning_streaks_last_activity_date",
          "columns": [
            {
              "expression": "last_activity_date",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_learning_streaks_streak_type": {
          "name": "idx_learning_streaks_streak_type",
          "columns": [
            {
              "expression": "streak_type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_learning_streaks_user_id": {
          "name": "idx_learning_streaks_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "learning_streaks_user_id_fkey": {
          "name": "learning_streaks_user_id_fkey",
          "tableFrom": "learning_streaks",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "learning_streaks_user_id_streak_type_key": {
          "columns": [
            "user_id",
            "streak_type"
          ],
          "nullsNotDistinct": false,
          "name": "learning_streaks_user_id_streak_type_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.leaderboards": {
      "name": "leaderboards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "type": {
          "name": "type",
          "type": "leaderboard_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "leaderboard_scope",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_leaderboards_period": {
          "name": "idx_leaderboards_period",
          "columns": [
            {
              "expression": "period_start",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "period_end",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_leaderboards_scope": {
          "name": "idx_leaderboards_scope",
          "columns": [
            {
              "expression": "scope",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_leaderboards_type": {
          "name": "idx_leaderboards_type",
          "columns": [
            {
              "expression": "type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.leaderboard_entries": {
      "name": "leaderboard_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "leaderboard_id": {
          "name": "leaderboard_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "rank": {
          "name": "rank",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "xp_earned": {
          "name": "xp_earned",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "courses_completed": {
          "name": "courses_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "lessons_completed": {
          "name": "lessons_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_leaderboard_entries_leaderboard_id": {
          "name": "idx_leaderboard_entries_leaderboard_id",
          "columns": [
            {
              "expression": "leaderboard_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_leaderboard_entries_rank": {
          "name": "idx_leaderboard_entries_rank",
          "columns": [
            {
              "expression": "rank",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_leaderboard_entries_user_id": {
          "name": "idx_leaderboard_entries_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_leaderboard_entries_xp_earned": {
          "name": "idx_leaderboard_entries_xp_earned",
          "columns": [
            {
              "expression": "xp_earned",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "leaderboard_entries_leaderboard_id_fkey": {
          "name": "leaderboard_entries_leaderboard_id_fkey",
          "tableFrom": "leaderboard_entries",
          "tableTo": "leaderboards",
          "schemaTo": "public",
          "columnsFrom": [
            "leaderboard_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "leaderboard_entries_user_id_fkey": {
          "name": "leaderboard_entries_user_id_fkey",
          "tableFrom": "leaderboard_entries",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "leaderboard_entries_leaderboard_id_user_id_key": {
          "columns": [
            "leaderboard_id",
            "user_id"
          ],
          "nullsNotDistinct": false,
          "name": "leaderboard_entries_leaderboard_id_user_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.level_definitions": {
      "name": "level_definitions",
      "schema": "",
      "columns": {
        "level": {
          "name": "level",
          "type": "integer",
          "primaryKey": true,
          "notNull": true
        },
        "xp_required": {
          "name": "xp_required",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "badge_url": {
          "name": "badge_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "perks": {
          "name": "perks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_level_definitions_xp_required": {
          "name": "idx_level_definitions_xp_required",
          "columns": [
            {
              "expression": "xp_required",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.login_history": {
      "name": "login_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "success": {
          "name": "success",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "device_info": {
          "name": "device_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_login_history_created": {
          "name": "idx_login_history_created",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_login_history_email": {
          "name": "idx_login_history_email",
          "columns": [
            {
              "expression": "email",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_login_history_org_id": {
          "name": "idx_login_history_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_login_history_success": {
          "name": "idx_login_history_success",
          "columns": [
            {
              "expression": "success",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_login_history_user_id": {
          "name": "idx_login_history_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "login_history_org_id_fkey": {
          "name": "login_history_org_id_fkey",
          "tableFrom": "login_history",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "login_history_user_id_fkey": {
          "name": "login_history_user_id_fkey",
          "tableFrom": "login_history",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "login_history_org_policy": {
          "name": "login_history_org_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id = auth_user_org_id()) OR user_is_admin())"
        }
      },
      "isRLSEnabled": true
    },
    "public.user_invitations": {
      "name": "user_invitations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "pod_id": {
          "name": "pod_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "manager_id": {
          "name": "manager_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "token": {
          "name": "token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "invited_by": {
          "name": "invited_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "accepted_at": {
          "name": "accepted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "require_two_factor": {
          "name": "require_two_factor",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_invitations_email": {
          "name": "idx_user_invitations_email",
          "columns": [
            {
              "expression": "email",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_invitations_expires": {
          "name": "idx_user_invitations_expires",
          "columns": [
            {
              "expression": "expires_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_invitations_invited_by": {
          "name": "idx_user_invitations_invited_by",
          "columns": [
            {
              "expression": "invited_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_invitations_org": {
          "name": "idx_user_invitations_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_invitations_status": {
          "name": "idx_user_invitations_status",
          "columns": [
            {
              "expression": "accepted_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "cancelled_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_invitations_token": {
          "name": "idx_user_invitations_token",
          "columns": [
            {
              "expression": "token",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_invitations_invited_by_fkey": {
          "name": "user_invitations_invited_by_fkey",
          "tableFrom": "user_invitations",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "invited_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_invitations_manager_id_fkey": {
          "name": "user_invitations_manager_id_fkey",
          "tableFrom": "user_invitations",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "user_invitations_org_id_fkey": {
          "name": "user_invitations_org_id_fkey",
          "tableFrom": "user_invitations",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_invitations_pod_id_fkey": {
          "name": "user_invitations_pod_id_fkey",
          "tableFrom": "user_invitations",
          "tableTo": "pods",
          "schemaTo": "public",
          "columnsFrom": [
            "pod_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "user_invitations_role_id_fkey": {
          "name": "user_invitations_role_id_fkey",
          "tableFrom": "user_invitations",
          "tableTo": "system_roles",
          "schemaTo": "public",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_invitations_token_key": {
          "columns": [
            "token"
          ],
          "nullsNotDistinct": false,
          "name": "user_invitations_token_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "user_invitations_org_policy": {
          "name": "user_invitations_org_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id = auth_user_org_id()) OR user_is_admin())"
        }
      },
      "isRLSEnabled": true
    },
    "public.webhooks": {
      "name": "webhooks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secret": {
          "name": "secret",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "events": {
          "name": "events",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"\"}'"
        },
        "headers": {
          "name": "headers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "consecutive_failures": {
          "name": "consecutive_failures",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_triggered_at": {
          "name": "last_triggered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_success_at": {
          "name": "last_success_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_failure_at": {
          "name": "last_failure_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_webhooks_events": {
          "name": "idx_webhooks_events",
          "columns": [
            {
              "expression": "events",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_webhooks_org_id": {
          "name": "idx_webhooks_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhooks_status": {
          "name": "idx_webhooks_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "webhooks_created_by_fkey": {
          "name": "webhooks_created_by_fkey",
          "tableFrom": "webhooks",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "webhooks_org_id_fkey": {
          "name": "webhooks_org_id_fkey",
          "tableFrom": "webhooks",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "webhooks_org_access": {
          "name": "webhooks_org_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid()))) OR ((auth.jwt() ->> 'role'::text) = 'service_role'::text))"
        }
      },
      "isRLSEnabled": true
    },
    "public.webhook_deliveries": {
      "name": "webhook_deliveries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "webhook_id": {
          "name": "webhook_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "event_id": {
          "name": "event_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "request_url": {
          "name": "request_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "request_headers": {
          "name": "request_headers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "request_body": {
          "name": "request_body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "response_status": {
          "name": "response_status",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_headers": {
          "name": "response_headers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "response_body": {
          "name": "response_body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "attempt_number": {
          "name": "attempt_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_webhook_deliveries_created": {
          "name": "idx_webhook_deliveries_created",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhook_deliveries_dlq": {
          "name": "idx_webhook_deliveries_dlq",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status)::text = 'dlq'::text)",
          "with": {}
        },
        "idx_webhook_deliveries_next_retry": {
          "name": "idx_webhook_deliveries_next_retry",
          "columns": [
            {
              "expression": "next_retry_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(((status)::text = 'retrying'::text) AND (next_retry_at IS NOT NULL))",
          "with": {}
        },
        "idx_webhook_deliveries_org": {
          "name": "idx_webhook_deliveries_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhook_deliveries_status": {
          "name": "idx_webhook_deliveries_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhook_deliveries_webhook": {
          "name": "idx_webhook_deliveries_webhook",
          "columns": [
            {
              "expression": "webhook_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "webhook_deliveries_org_id_fkey": {
          "name": "webhook_deliveries_org_id_fkey",
          "tableFrom": "webhook_deliveries",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "webhook_deliveries_webhook_id_fkey": {
          "name": "webhook_deliveries_webhook_id_fkey",
          "tableFrom": "webhook_deliveries",
          "tableTo": "webhooks",
          "schemaTo": "public",
          "columnsFrom": [
            "webhook_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "webhook_deliveries_org_access": {
          "name": "webhook_deliveries_org_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid()))) OR ((auth.jwt() ->> 'role'::text) = 'service_role'::text))"
        }
      },
      "isRLSEnabled": true
    },
    "public.integration_retry_config": {
      "name": "integration_retry_config",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "retry_strategy": {
          "name": "retry_strategy",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'exponential'"
        },
        "base_delay_seconds": {
          "name": "base_delay_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "max_delay_seconds": {
          "name": "max_delay_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 300
        },
        "enable_jitter": {
          "name": "enable_jitter",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "enable_dlq": {
          "name": "enable_dlq",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "dlq_retention_days": {
          "name": "dlq_retention_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "integration_retry_config_org_id_fkey": {
          "name": "integration_retry_config_org_id_fkey",
          "tableFrom": "integration_retry_config",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "integration_retry_config_org_id_key": {
          "columns": [
            "org_id"
          ],
          "nullsNotDistinct": false,
          "name": "integration_retry_config_org_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "retry_config_org_access": {
          "name": "retry_config_org_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid()))) OR ((auth.jwt() ->> 'role'::text) = 'service_role'::text))"
        }
      },
      "isRLSEnabled": true
    },
    "public.integration_oauth_tokens": {
      "name": "integration_oauth_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "integration_id": {
          "name": "integration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_type": {
          "name": "token_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'Bearer'"
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_expires_at": {
          "name": "refresh_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "account_id": {
          "name": "account_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "account_email": {
          "name": "account_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "raw_token_response": {
          "name": "raw_token_response",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "last_refreshed_at": {
          "name": "last_refreshed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_oauth_tokens_expires": {
          "name": "idx_oauth_tokens_expires",
          "columns": [
            {
              "expression": "expires_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status)::text = 'active'::text)",
          "with": {}
        },
        "idx_oauth_tokens_integration": {
          "name": "idx_oauth_tokens_integration",
          "columns": [
            {
              "expression": "integration_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_oauth_tokens_org": {
          "name": "idx_oauth_tokens_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_oauth_tokens_unique_integration": {
          "name": "idx_oauth_tokens_unique_integration",
          "columns": [
            {
              "expression": "integration_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "((status)::text = 'active'::text)",
          "with": {}
        }
      },
      "foreignKeys": {
        "integration_oauth_tokens_integration_id_fkey": {
          "name": "integration_oauth_tokens_integration_id_fkey",
          "tableFrom": "integration_oauth_tokens",
          "tableTo": "integrations",
          "schemaTo": "public",
          "columnsFrom": [
            "integration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "integration_oauth_tokens_org_id_fkey": {
          "name": "integration_oauth_tokens_org_id_fkey",
          "tableFrom": "integration_oauth_tokens",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "integration_oauth_tokens_user_id_fkey": {
          "name": "integration_oauth_tokens_user_id_fkey",
          "tableFrom": "integration_oauth_tokens",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "oauth_tokens_org_access": {
          "name": "oauth_tokens_org_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid()))) OR ((auth.jwt() ->> 'role'::text) = 'service_role'::text))"
        }
      },
      "isRLSEnabled": true
    },
    "public.integration_failover_config": {
      "name": "integration_failover_config",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "integration_type": {
          "name": "integration_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "primary_integration_id": {
          "name": "primary_integration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "backup_integration_id": {
          "name": "backup_integration_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "failover_threshold": {
          "name": "failover_threshold",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "auto_failover": {
          "name": "auto_failover",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "auto_recovery": {
          "name": "auto_recovery",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "recovery_check_interval_minutes": {
          "name": "recovery_check_interval_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "current_active": {
          "name": "current_active",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'primary'"
        },
        "last_failover_at": {
          "name": "last_failover_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_recovery_at": {
          "name": "last_recovery_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failover_count": {
          "name": "failover_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_failover_config_backup": {
          "name": "idx_failover_config_backup",
          "columns": [
            {
              "expression": "backup_integration_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_failover_config_org": {
          "name": "idx_failover_config_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_failover_config_primary": {
          "name": "idx_failover_config_primary",
          "columns": [
            {
              "expression": "primary_integration_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "integration_failover_config_backup_integration_id_fkey": {
          "name": "integration_failover_config_backup_integration_id_fkey",
          "tableFrom": "integration_failover_config",
          "tableTo": "integrations",
          "schemaTo": "public",
          "columnsFrom": [
            "backup_integration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "integration_failover_config_org_id_fkey": {
          "name": "integration_failover_config_org_id_fkey",
          "tableFrom": "integration_failover_config",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "integration_failover_config_primary_integration_id_fkey": {
          "name": "integration_failover_config_primary_integration_id_fkey",
          "tableFrom": "integration_failover_config",
          "tableTo": "integrations",
          "schemaTo": "public",
          "columnsFrom": [
            "primary_integration_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "integration_failover_config_org_id_integration_type_key": {
          "columns": [
            "org_id",
            "integration_type"
          ],
          "nullsNotDistinct": false,
          "name": "integration_failover_config_org_id_integration_type_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "failover_config_org_access": {
          "name": "failover_config_org_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid()))) OR ((auth.jwt() ->> 'role'::text) = 'service_role'::text))"
        }
      },
      "isRLSEnabled": true
    },
    "public.activities": {
      "name": "activities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "activity_type": {
          "name": "activity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "direction": {
          "name": "direction",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "escalation_date": {
          "name": "escalation_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "skipped_at": {
          "name": "skipped_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "outcome": {
          "name": "outcome",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "performed_by": {
          "name": "performed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "poc_id": {
          "name": "poc_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "parent_activity_id": {
          "name": "parent_activity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "pattern_code": {
          "name": "pattern_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pattern_id": {
          "name": "pattern_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workplan_instance_id": {
          "name": "workplan_instance_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "instructions": {
          "name": "instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "checklist": {
          "name": "checklist",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "checklist_progress": {
          "name": "checklist_progress",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_group": {
          "name": "assigned_group",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_for": {
          "name": "scheduled_for",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "outcome_notes": {
          "name": "outcome_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "auto_created": {
          "name": "auto_created",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "auto_completed": {
          "name": "auto_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "predecessor_activity_id": {
          "name": "predecessor_activity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "escalation_count": {
          "name": "escalation_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_escalated_at": {
          "name": "last_escalated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reminder_sent_at": {
          "name": "reminder_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reminder_count": {
          "name": "reminder_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "activity_number": {
          "name": "activity_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_entity_type": {
          "name": "secondary_entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_entity_id": {
          "name": "secondary_entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "follow_up_required": {
          "name": "follow_up_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "follow_up_date": {
          "name": "follow_up_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "follow_up_activity_id": {
          "name": "follow_up_activity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "custom_fields": {
          "name": "custom_fields",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "points_earned": {
          "name": "points_earned",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "related_contact_id": {
          "name": "related_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "related_deal_id": {
          "name": "related_deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "related_campaign_id": {
          "name": "related_campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "next_steps": {
          "name": "next_steps",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "next_follow_up_date": {
          "name": "next_follow_up_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "activities_activity_type_idx": {
          "name": "activities_activity_type_idx",
          "columns": [
            {
              "expression": "activity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activities_assigned_to_idx": {
          "name": "activities_assigned_to_idx",
          "columns": [
            {
              "expression": "assigned_to",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activities_due_date_idx": {
          "name": "activities_due_date_idx",
          "columns": [
            {
              "expression": "due_date",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activities_entity_idx": {
          "name": "activities_entity_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activities_pattern_idx": {
          "name": "activities_pattern_idx",
          "columns": [
            {
              "expression": "pattern_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activities_status_idx": {
          "name": "activities_status_idx",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activities_workplan_instance_idx": {
          "name": "activities_workplan_instance_idx",
          "columns": [
            {
              "expression": "workplan_instance_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activities_activity_number": {
          "name": "idx_activities_activity_number",
          "columns": [
            {
              "expression": "activity_number",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activities_assigned": {
          "name": "idx_activities_assigned",
          "columns": [
            {
              "expression": "assigned_to",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = ANY (ARRAY['open'::text, 'in_progress'::text]))",
          "with": {}
        },
        "idx_activities_assigned_to": {
          "name": "idx_activities_assigned_to",
          "columns": [
            {
              "expression": "assigned_to",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activities_due": {
          "name": "idx_activities_due",
          "columns": [
            {
              "expression": "due_date",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = ANY (ARRAY['open'::text, 'in_progress'::text]))",
          "with": {}
        },
        "idx_activities_due_date": {
          "name": "idx_activities_due_date",
          "columns": [
            {
              "expression": "due_date",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activities_entity": {
          "name": "idx_activities_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activities_entity_timeline": {
          "name": "idx_activities_entity_timeline",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activities_escalation": {
          "name": "idx_activities_escalation",
          "columns": [
            {
              "expression": "escalation_date",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status = 'open'::text) AND (escalation_date IS NOT NULL))",
          "with": {}
        },
        "idx_activities_follow_up": {
          "name": "idx_activities_follow_up",
          "columns": [
            {
              "expression": "follow_up_required",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "follow_up_date",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((follow_up_required = true) AND (status = ANY (ARRAY['open'::text, 'in_progress'::text])))",
          "with": {}
        },
        "idx_activities_follow_up_date": {
          "name": "idx_activities_follow_up_date",
          "columns": [
            {
              "expression": "follow_up_date",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(follow_up_required = true)",
          "with": {}
        },
        "idx_activities_group": {
          "name": "idx_activities_group",
          "columns": [
            {
              "expression": "assigned_group",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = ANY (ARRAY['open'::text, 'in_progress'::text]))",
          "with": {}
        },
        "idx_activities_my_tasks": {
          "name": "idx_activities_my_tasks",
          "columns": [
            {
              "expression": "assigned_to",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "due_date",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = ANY (ARRAY['open'::text, 'in_progress'::text]))",
          "with": {}
        },
        "idx_activities_org": {
          "name": "idx_activities_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activities_org_entity_composite": {
          "name": "idx_activities_org_entity_composite",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_activities_org_entity_recent": {
          "name": "idx_activities_org_entity_recent",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_activities_org_entity_type": {
          "name": "idx_activities_org_entity_type",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "activity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_activities_org_id": {
          "name": "idx_activities_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activities_org_status": {
          "name": "idx_activities_org_status",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activities_parent": {
          "name": "idx_activities_parent",
          "columns": [
            {
              "expression": "parent_activity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activities_related_campaign": {
          "name": "idx_activities_related_campaign",
          "columns": [
            {
              "expression": "related_campaign_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(related_campaign_id IS NOT NULL)",
          "with": {}
        },
        "idx_activities_related_contact": {
          "name": "idx_activities_related_contact",
          "columns": [
            {
              "expression": "related_contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(related_contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_activities_related_deal": {
          "name": "idx_activities_related_deal",
          "columns": [
            {
              "expression": "related_deal_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(related_deal_id IS NOT NULL)",
          "with": {}
        },
        "idx_activities_secondary_entity": {
          "name": "idx_activities_secondary_entity",
          "columns": [
            {
              "expression": "secondary_entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "secondary_entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activities_status": {
          "name": "idx_activities_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activities_tags": {
          "name": "idx_activities_tags",
          "columns": [
            {
              "expression": "tags",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_activities_type": {
          "name": "idx_activities_type",
          "columns": [
            {
              "expression": "activity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activities_workplan": {
          "name": "idx_activities_workplan",
          "columns": [
            {
              "expression": "workplan_instance_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "activities_assigned_group_fkey": {
          "name": "activities_assigned_group_fkey",
          "tableFrom": "activities",
          "tableTo": "pods",
          "schemaTo": "public",
          "columnsFrom": [
            "assigned_group"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activities_assigned_to_fkey": {
          "name": "activities_assigned_to_fkey",
          "tableFrom": "activities",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activities_created_by_fkey": {
          "name": "activities_created_by_fkey",
          "tableFrom": "activities",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activities_follow_up_activity_id_fkey": {
          "name": "activities_follow_up_activity_id_fkey",
          "tableFrom": "activities",
          "tableTo": "activities",
          "schemaTo": "public",
          "columnsFrom": [
            "follow_up_activity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activities_org_id_fkey": {
          "name": "activities_org_id_fkey",
          "tableFrom": "activities",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activities_parent_activity_id_fkey": {
          "name": "activities_parent_activity_id_fkey",
          "tableFrom": "activities",
          "tableTo": "activities",
          "schemaTo": "public",
          "columnsFrom": [
            "parent_activity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activities_pattern_id_fkey": {
          "name": "activities_pattern_id_fkey",
          "tableFrom": "activities",
          "tableTo": "activity_patterns",
          "schemaTo": "public",
          "columnsFrom": [
            "pattern_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activities_performed_by_fkey": {
          "name": "activities_performed_by_fkey",
          "tableFrom": "activities",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "performed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activities_predecessor_activity_id_fkey": {
          "name": "activities_predecessor_activity_id_fkey",
          "tableFrom": "activities",
          "tableTo": "activities",
          "schemaTo": "public",
          "columnsFrom": [
            "predecessor_activity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activities_related_campaign_id_fkey": {
          "name": "activities_related_campaign_id_fkey",
          "tableFrom": "activities",
          "tableTo": "campaigns",
          "schemaTo": "public",
          "columnsFrom": [
            "related_campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activities_related_contact_id_fkey": {
          "name": "activities_related_contact_id_fkey",
          "tableFrom": "activities",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "related_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activities_related_deal_id_fkey": {
          "name": "activities_related_deal_id_fkey",
          "tableFrom": "activities",
          "tableTo": "deals",
          "schemaTo": "public",
          "columnsFrom": [
            "related_deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activities_updated_by_fkey": {
          "name": "activities_updated_by_fkey",
          "tableFrom": "activities",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activities_workplan_instance_id_fkey": {
          "name": "activities_workplan_instance_id_fkey",
          "tableFrom": "activities",
          "tableTo": "workplan_instances",
          "schemaTo": "public",
          "columnsFrom": [
            "workplan_instance_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "uq_activities_org_activity_number": {
          "columns": [
            "org_id",
            "activity_number"
          ],
          "nullsNotDistinct": false,
          "name": "uq_activities_org_activity_number"
        }
      },
      "checkConstraints": {},
      "policies": {
        "activities_org_isolation": {
          "name": "activities_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid())))"
        }
      },
      "isRLSEnabled": true
    },
    "public.external_job_order_requirements": {
      "name": "external_job_order_requirements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "requirement": {
          "name": "requirement",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_job_order_requirements_order_id": {
          "name": "idx_job_order_requirements_order_id",
          "columns": [
            {
              "expression": "order_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "job_order_requirements_order_id_fkey": {
          "name": "job_order_requirements_order_id_fkey",
          "tableFrom": "external_job_order_requirements",
          "tableTo": "external_job_orders",
          "schemaTo": "public",
          "columnsFrom": [
            "order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.external_job_order_skills": {
      "name": "external_job_order_skills",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "skill_name": {
          "name": "skill_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "years_required": {
          "name": "years_required",
          "type": "numeric(4, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "proficiency_required": {
          "name": "proficiency_required",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_job_order_skills_order_id": {
          "name": "idx_job_order_skills_order_id",
          "columns": [
            {
              "expression": "order_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "job_order_skills_order_id_fkey": {
          "name": "job_order_skills_order_id_fkey",
          "tableFrom": "external_job_order_skills",
          "tableTo": "external_job_orders",
          "schemaTo": "public",
          "columnsFrom": [
            "order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "job_order_skills_proficiency_required_check": {
          "name": "job_order_skills_proficiency_required_check",
          "value": "(proficiency_required >= 1) AND (proficiency_required <= 5)"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.external_job_order_notes": {
      "name": "external_job_order_notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "order_id": {
          "name": "order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_job_order_notes_order_id": {
          "name": "idx_job_order_notes_order_id",
          "columns": [
            {
              "expression": "order_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "job_order_notes_created_by_fkey": {
          "name": "job_order_notes_created_by_fkey",
          "tableFrom": "external_job_order_notes",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "job_order_notes_order_id_fkey": {
          "name": "job_order_notes_order_id_fkey",
          "tableFrom": "external_job_order_notes",
          "tableTo": "external_job_orders",
          "schemaTo": "public",
          "columnsFrom": [
            "order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.skills": {
      "name": "skills",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_skill_id": {
          "name": "parent_skill_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "canonical_name": {
          "name": "canonical_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "skill_level": {
          "name": "skill_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2
        },
        "hierarchy_path": {
          "name": "hierarchy_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aliases": {
          "name": "aliases",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "related_skills": {
          "name": "related_skills",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "is_latest_version": {
          "name": "is_latest_version",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "demand_score": {
          "name": "demand_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "trending": {
          "name": "trending",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "trending_direction": {
          "name": "trending_direction",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "deprecated": {
          "name": "deprecated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "deprecated_successor_id": {
          "name": "deprecated_successor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "search_vector": {
          "name": "search_vector",
          "type": "tsvector",
          "primaryKey": false,
          "notNull": false
        },
        "domain": {
          "name": "domain",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'technology'"
        }
      },
      "indexes": {
        "idx_skills_canonical_unique": {
          "name": "idx_skills_canonical_unique",
          "columns": [
            {
              "expression": "COALESCE(org_id, '00000000-0000-0000-0000-000000000000'::uuid)",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": true
            },
            {
              "expression": "canonical_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": true
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(canonical_name IS NOT NULL)",
          "with": {}
        },
        "idx_skills_category": {
          "name": "idx_skills_category",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_skills_category_domain": {
          "name": "idx_skills_category_domain",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "domain",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_verified = true)",
          "with": {}
        },
        "idx_skills_hierarchy": {
          "name": "idx_skills_hierarchy",
          "columns": [
            {
              "expression": "hierarchy_path",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(hierarchy_path IS NOT NULL)",
          "with": {}
        },
        "idx_skills_name_lower": {
          "name": "idx_skills_name_lower",
          "columns": [
            {
              "expression": "lower(name)",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": true
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_skills_org": {
          "name": "idx_skills_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(org_id IS NOT NULL)",
          "with": {}
        },
        "idx_skills_parent": {
          "name": "idx_skills_parent",
          "columns": [
            {
              "expression": "parent_skill_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_skills_search": {
          "name": "idx_skills_search",
          "columns": [
            {
              "expression": "search_vector",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "where": "(search_vector IS NOT NULL)",
          "with": {}
        },
        "idx_skills_trending": {
          "name": "idx_skills_trending",
          "columns": [
            {
              "expression": "demand_score",
              "asc": false,
              "nulls": "first",
              "opclass": "numeric_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(trending = true)",
          "with": {}
        }
      },
      "foreignKeys": {
        "skills_deprecated_successor_id_fkey": {
          "name": "skills_deprecated_successor_id_fkey",
          "tableFrom": "skills",
          "tableTo": "skills",
          "schemaTo": "public",
          "columnsFrom": [
            "deprecated_successor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "skills_org_id_fkey": {
          "name": "skills_org_id_fkey",
          "tableFrom": "skills",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "skills_parent_skill_id_fkey": {
          "name": "skills_parent_skill_id_fkey",
          "tableFrom": "skills",
          "tableTo": "skills",
          "schemaTo": "public",
          "columnsFrom": [
            "parent_skill_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "skills_name_key": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "skills_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "skills_admin_write": {
          "name": "skills_admin_write",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "auth_has_role('admin'::text)"
        },
        "skills_public_read": {
          "name": "skills_public_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.bench_consultants": {
      "name": "bench_consultants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "bench_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'available'"
        },
        "bench_start_date": {
          "name": "bench_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "visa_type": {
          "name": "visa_type",
          "type": "visa_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "visa_expiry_date": {
          "name": "visa_expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "work_auth_status": {
          "name": "work_auth_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "min_acceptable_rate": {
          "name": "min_acceptable_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "target_rate": {
          "name": "target_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "willing_relocate": {
          "name": "willing_relocate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "preferred_locations": {
          "name": "preferred_locations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "marketing_status": {
          "name": "marketing_status",
          "type": "marketing_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "bench_sales_rep_id": {
          "name": "bench_sales_rep_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_bench_consultants_bench_sales_rep_id": {
          "name": "idx_bench_consultants_bench_sales_rep_id",
          "columns": [
            {
              "expression": "bench_sales_rep_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bench_consultants_candidate_id": {
          "name": "idx_bench_consultants_candidate_id",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bench_consultants_contact_id": {
          "name": "idx_bench_consultants_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_bench_consultants_org": {
          "name": "idx_bench_consultants_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bench_consultants_org_id": {
          "name": "idx_bench_consultants_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_bench_consultants_status": {
          "name": "idx_bench_consultants_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "bench_consultants_bench_sales_rep_id_fkey": {
          "name": "bench_consultants_bench_sales_rep_id_fkey",
          "tableFrom": "bench_consultants",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "bench_sales_rep_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bench_consultants_candidate_id_fkey": {
          "name": "bench_consultants_candidate_id_fkey",
          "tableFrom": "bench_consultants",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "bench_consultants_contact_id_fkey": {
          "name": "bench_consultants_contact_id_fkey",
          "tableFrom": "bench_consultants",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bench_consultants_created_by_fkey": {
          "name": "bench_consultants_created_by_fkey",
          "tableFrom": "bench_consultants",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bench_consultants_org_id_fkey": {
          "name": "bench_consultants_org_id_fkey",
          "tableFrom": "bench_consultants",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "bench_consultants_candidate_id_key": {
          "columns": [
            "candidate_id"
          ],
          "nullsNotDistinct": false,
          "name": "bench_consultants_candidate_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "bench_consultants_org_isolation": {
          "name": "bench_consultants_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.approval_workflows": {
      "name": "approval_workflows",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "approval_levels": {
          "name": "approval_levels",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "auto_approve_condition": {
          "name": "auto_approve_condition",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "escalation_days": {
          "name": "escalation_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "escalation_role": {
          "name": "escalation_role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_approval_workflows_active": {
          "name": "idx_approval_workflows_active",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_approval_workflows_entity_type": {
          "name": "idx_approval_workflows_entity_type",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_approval_workflows_org": {
          "name": "idx_approval_workflows_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "approval_workflows_created_by_fkey": {
          "name": "approval_workflows_created_by_fkey",
          "tableFrom": "approval_workflows",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "approval_workflows_org_id_fkey": {
          "name": "approval_workflows_org_id_fkey",
          "tableFrom": "approval_workflows",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "approval_workflows_org_isolation": {
          "name": "approval_workflows_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.approval_steps": {
      "name": "approval_steps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "instance_id": {
          "name": "instance_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "level": {
          "name": "level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "approver_role": {
          "name": "approver_role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approver_id": {
          "name": "approver_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "decided_by": {
          "name": "decided_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "decision": {
          "name": "decision",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decision_notes": {
          "name": "decision_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reminder_sent_at": {
          "name": "reminder_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reminder_count": {
          "name": "reminder_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_approval_steps_approver": {
          "name": "idx_approval_steps_approver",
          "columns": [
            {
              "expression": "approver_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_approval_steps_instance": {
          "name": "idx_approval_steps_instance",
          "columns": [
            {
              "expression": "instance_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_approval_steps_pending": {
          "name": "idx_approval_steps_pending",
          "columns": [
            {
              "expression": "approver_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = 'pending'::text)",
          "with": {}
        }
      },
      "foreignKeys": {
        "approval_steps_approver_id_fkey": {
          "name": "approval_steps_approver_id_fkey",
          "tableFrom": "approval_steps",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "approval_steps_decided_by_fkey": {
          "name": "approval_steps_decided_by_fkey",
          "tableFrom": "approval_steps",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "decided_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "approval_steps_instance_id_fkey": {
          "name": "approval_steps_instance_id_fkey",
          "tableFrom": "approval_steps",
          "tableTo": "approval_instances",
          "schemaTo": "public",
          "columnsFrom": [
            "instance_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "approval_steps_org_isolation": {
          "name": "approval_steps_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(instance_id IN ( SELECT approval_instances.id\n   FROM approval_instances\n  WHERE (approval_instances.org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)))"
        }
      },
      "isRLSEnabled": true
    },
    "public.approval_instances": {
      "name": "approval_instances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_id": {
          "name": "workflow_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "current_level": {
          "name": "current_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "requested_by": {
          "name": "requested_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "request_notes": {
          "name": "request_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_data": {
          "name": "request_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_notes": {
          "name": "resolution_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_escalated": {
          "name": "is_escalated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "escalated_at": {
          "name": "escalated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "escalated_to": {
          "name": "escalated_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_approval_instances_entity": {
          "name": "idx_approval_instances_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_approval_instances_org": {
          "name": "idx_approval_instances_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_approval_instances_pending": {
          "name": "idx_approval_instances_pending",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = 'pending'::text)",
          "with": {}
        },
        "idx_approval_instances_requestor": {
          "name": "idx_approval_instances_requestor",
          "columns": [
            {
              "expression": "requested_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_approval_instances_status": {
          "name": "idx_approval_instances_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_approval_instances_workflow": {
          "name": "idx_approval_instances_workflow",
          "columns": [
            {
              "expression": "workflow_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "approval_instances_escalated_to_fkey": {
          "name": "approval_instances_escalated_to_fkey",
          "tableFrom": "approval_instances",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "escalated_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "approval_instances_org_id_fkey": {
          "name": "approval_instances_org_id_fkey",
          "tableFrom": "approval_instances",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "approval_instances_requested_by_fkey": {
          "name": "approval_instances_requested_by_fkey",
          "tableFrom": "approval_instances",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "requested_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "approval_instances_resolved_by_fkey": {
          "name": "approval_instances_resolved_by_fkey",
          "tableFrom": "approval_instances",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "resolved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "approval_instances_workflow_id_fkey": {
          "name": "approval_instances_workflow_id_fkey",
          "tableFrom": "approval_instances",
          "tableTo": "approval_workflows",
          "schemaTo": "public",
          "columnsFrom": [
            "workflow_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "approval_instances_org_isolation": {
          "name": "approval_instances_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.placement_credits": {
      "name": "placement_credits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "pod_id": {
          "name": "pod_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sprint_number": {
          "name": "sprint_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "sprint_start_date": {
          "name": "sprint_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "sprint_end_date": {
          "name": "sprint_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "placement_id": {
          "name": "placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "placement_date": {
          "name": "placement_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "credit_amount": {
          "name": "credit_amount",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.0'"
        },
        "senior_rec_id": {
          "name": "senior_rec_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "junior_rec_id": {
          "name": "junior_rec_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "bill_rate": {
          "name": "bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "pay_rate": {
          "name": "pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "margin_percentage": {
          "name": "margin_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_revenue": {
          "name": "estimated_revenue",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "source_pillar": {
          "name": "source_pillar",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'recruiting'"
        },
        "original_lead_id": {
          "name": "original_lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "original_campaign_id": {
          "name": "original_campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "original_graduate_id": {
          "name": "original_graduate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_placement_credits_date": {
          "name": "idx_placement_credits_date",
          "columns": [
            {
              "expression": "placement_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placement_credits_org": {
          "name": "idx_placement_credits_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placement_credits_pod": {
          "name": "idx_placement_credits_pod",
          "columns": [
            {
              "expression": "pod_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placement_credits_source": {
          "name": "idx_placement_credits_source",
          "columns": [
            {
              "expression": "source_pillar",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placement_credits_sprint": {
          "name": "idx_placement_credits_sprint",
          "columns": [
            {
              "expression": "pod_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "sprint_number",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "placement_credits_created_by_fkey": {
          "name": "placement_credits_created_by_fkey",
          "tableFrom": "placement_credits",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_credits_junior_rec_id_fkey": {
          "name": "placement_credits_junior_rec_id_fkey",
          "tableFrom": "placement_credits",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "junior_rec_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_credits_org_id_fkey": {
          "name": "placement_credits_org_id_fkey",
          "tableFrom": "placement_credits",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "placement_credits_original_graduate_id_fkey": {
          "name": "placement_credits_original_graduate_id_fkey",
          "tableFrom": "placement_credits",
          "tableTo": "graduate_candidates",
          "schemaTo": "public",
          "columnsFrom": [
            "original_graduate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_credits_pod_id_fkey": {
          "name": "placement_credits_pod_id_fkey",
          "tableFrom": "placement_credits",
          "tableTo": "pods",
          "schemaTo": "public",
          "columnsFrom": [
            "pod_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "placement_credits_senior_rec_id_fkey": {
          "name": "placement_credits_senior_rec_id_fkey",
          "tableFrom": "placement_credits",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "senior_rec_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_credits_verified_by_fkey": {
          "name": "placement_credits_verified_by_fkey",
          "tableFrom": "placement_credits",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "verified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "placement_credits_org_isolation": {
          "name": "placement_credits_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.graduate_candidates": {
      "name": "graduate_candidates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "graduated_at": {
          "name": "graduated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "final_grade": {
          "name": "final_grade",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gpa_equivalent": {
          "name": "gpa_equivalent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "project_score": {
          "name": "project_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "assessment_score": {
          "name": "assessment_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "job_readiness_score": {
          "name": "job_readiness_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "technical_skills_score": {
          "name": "technical_skills_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "soft_skills_score": {
          "name": "soft_skills_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "graduate_candidate_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending_review'"
        },
        "status_changed_at": {
          "name": "status_changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status_changed_by": {
          "name": "status_changed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_recruiter_id": {
          "name": "assigned_recruiter_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "bench_candidate_id": {
          "name": "bench_candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "recruiter_notes": {
          "name": "recruiter_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "opt_out_reason": {
          "name": "opt_out_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_graduate_candidates_enrollment": {
          "name": "idx_graduate_candidates_enrollment",
          "columns": [
            {
              "expression": "enrollment_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_graduate_candidates_pending": {
          "name": "idx_graduate_candidates_pending",
          "columns": [
            {
              "expression": "assigned_recruiter_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = 'pending_review'::graduate_candidate_status)",
          "with": {}
        },
        "idx_graduate_candidates_recruiter": {
          "name": "idx_graduate_candidates_recruiter",
          "columns": [
            {
              "expression": "assigned_recruiter_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_graduate_candidates_status": {
          "name": "idx_graduate_candidates_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_graduate_candidates_user": {
          "name": "idx_graduate_candidates_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "graduate_candidates_assigned_recruiter_id_fkey": {
          "name": "graduate_candidates_assigned_recruiter_id_fkey",
          "tableFrom": "graduate_candidates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "assigned_recruiter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graduate_candidates_course_id_fkey": {
          "name": "graduate_candidates_course_id_fkey",
          "tableFrom": "graduate_candidates",
          "tableTo": "courses",
          "schemaTo": "public",
          "columnsFrom": [
            "course_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graduate_candidates_enrollment_id_fkey": {
          "name": "graduate_candidates_enrollment_id_fkey",
          "tableFrom": "graduate_candidates",
          "tableTo": "student_enrollments",
          "schemaTo": "public",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graduate_candidates_status_changed_by_fkey": {
          "name": "graduate_candidates_status_changed_by_fkey",
          "tableFrom": "graduate_candidates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "status_changed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graduate_candidates_user_id_fkey": {
          "name": "graduate_candidates_user_id_fkey",
          "tableFrom": "graduate_candidates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "graduate_candidates_org_isolation": {
          "name": "graduate_candidates_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(user_id IN ( SELECT user_profiles.id\n   FROM user_profiles\n  WHERE (user_profiles.org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)))"
        }
      },
      "isRLSEnabled": true
    },
    "public.quiz_attempts": {
      "name": "quiz_attempts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "attempt_number": {
          "name": "attempt_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "time_taken_seconds": {
          "name": "time_taken_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "answers": {
          "name": "answers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "total_questions": {
          "name": "total_questions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "correct_answers": {
          "name": "correct_answers",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "score": {
          "name": "score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "passed": {
          "name": "passed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "xp_earned": {
          "name": "xp_earned",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_quiz_attempts_enrollment": {
          "name": "idx_quiz_attempts_enrollment",
          "columns": [
            {
              "expression": "enrollment_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_quiz_attempts_submitted": {
          "name": "idx_quiz_attempts_submitted",
          "columns": [
            {
              "expression": "submitted_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(submitted_at IS NOT NULL)",
          "with": {}
        },
        "idx_quiz_attempts_topic": {
          "name": "idx_quiz_attempts_topic",
          "columns": [
            {
              "expression": "topic_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_quiz_attempts_unique": {
          "name": "idx_quiz_attempts_unique",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "topic_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "attempt_number",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_quiz_attempts_user": {
          "name": "idx_quiz_attempts_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "quiz_attempts_enrollment_id_fkey": {
          "name": "quiz_attempts_enrollment_id_fkey",
          "tableFrom": "quiz_attempts",
          "tableTo": "student_enrollments",
          "schemaTo": "public",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "quiz_attempts_topic_id_fkey": {
          "name": "quiz_attempts_topic_id_fkey",
          "tableFrom": "quiz_attempts",
          "tableTo": "module_topics",
          "schemaTo": "public",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "quiz_attempts_user_id_fkey": {
          "name": "quiz_attempts_user_id_fkey",
          "tableFrom": "quiz_attempts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "quiz_attempts_attempt_number_check": {
          "name": "quiz_attempts_attempt_number_check",
          "value": "attempt_number > 0"
        },
        "quiz_attempts_correct_answers_check": {
          "name": "quiz_attempts_correct_answers_check",
          "value": "correct_answers >= 0"
        },
        "quiz_attempts_score_check": {
          "name": "quiz_attempts_score_check",
          "value": "(score >= (0)::numeric) AND (score <= (100)::numeric)"
        },
        "quiz_attempts_total_questions_check": {
          "name": "quiz_attempts_total_questions_check",
          "value": "total_questions > 0"
        }
      },
      "policies": {
        "quiz_attempts_admin_read": {
          "name": "quiz_attempts_admin_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "true"
        },
        "quiz_attempts_user_insert": {
          "name": "quiz_attempts_user_insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ]
        },
        "quiz_attempts_user_read": {
          "name": "quiz_attempts_user_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ]
        },
        "quiz_attempts_user_update": {
          "name": "quiz_attempts_user_update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.ai_mentor_escalations": {
      "name": "ai_mentor_escalations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "chat_id": {
          "name": "chat_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "auto_detected": {
          "name": "auto_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "triggers": {
          "name": "triggers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_notes": {
          "name": "resolution_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_time_minutes": {
          "name": "resolution_time_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_escalations_assigned_to": {
          "name": "idx_escalations_assigned_to",
          "columns": [
            {
              "expression": "assigned_to",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(assigned_to IS NOT NULL)",
          "with": {}
        },
        "idx_escalations_chat_id": {
          "name": "idx_escalations_chat_id",
          "columns": [
            {
              "expression": "chat_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_escalations_created_at": {
          "name": "idx_escalations_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_escalations_status": {
          "name": "idx_escalations_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = ANY (ARRAY['pending'::text, 'in_progress'::text]))",
          "with": {}
        },
        "idx_escalations_topic_id": {
          "name": "idx_escalations_topic_id",
          "columns": [
            {
              "expression": "topic_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_escalations_user_id": {
          "name": "idx_escalations_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_mentor_escalations_assigned_to_fkey": {
          "name": "ai_mentor_escalations_assigned_to_fkey",
          "tableFrom": "ai_mentor_escalations",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ai_mentor_escalations_chat_id_fkey": {
          "name": "ai_mentor_escalations_chat_id_fkey",
          "tableFrom": "ai_mentor_escalations",
          "tableTo": "ai_mentor_chats",
          "schemaTo": "public",
          "columnsFrom": [
            "chat_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ai_mentor_escalations_resolved_by_fkey": {
          "name": "ai_mentor_escalations_resolved_by_fkey",
          "tableFrom": "ai_mentor_escalations",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "resolved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ai_mentor_escalations_topic_id_fkey": {
          "name": "ai_mentor_escalations_topic_id_fkey",
          "tableFrom": "ai_mentor_escalations",
          "tableTo": "module_topics",
          "schemaTo": "public",
          "columnsFrom": [
            "topic_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ai_mentor_escalations_user_id_fkey": {
          "name": "ai_mentor_escalations_user_id_fkey",
          "tableFrom": "ai_mentor_escalations",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "ai_mentor_escalations_confidence_check": {
          "name": "ai_mentor_escalations_confidence_check",
          "value": "(confidence >= (0)::numeric) AND (confidence <= (1)::numeric)"
        },
        "ai_mentor_escalations_status_check": {
          "name": "ai_mentor_escalations_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'in_progress'::text, 'resolved'::text, 'dismissed'::text])"
        }
      },
      "policies": {
        "escalations_select_own": {
          "name": "escalations_select_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(user_id = auth.uid())"
        },
        "escalations_select_staff": {
          "name": "escalations_select_staff",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "escalations_update_assigned": {
          "name": "escalations_update_assigned",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.trainer_responses": {
      "name": "trainer_responses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "escalation_id": {
          "name": "escalation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "trainer_id": {
          "name": "trainer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_internal_note": {
          "name": "is_internal_note",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_trainer_responses_escalation_id": {
          "name": "idx_trainer_responses_escalation_id",
          "columns": [
            {
              "expression": "escalation_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_trainer_responses_trainer_id": {
          "name": "idx_trainer_responses_trainer_id",
          "columns": [
            {
              "expression": "trainer_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "trainer_responses_escalation_id_fkey": {
          "name": "trainer_responses_escalation_id_fkey",
          "tableFrom": "trainer_responses",
          "tableTo": "ai_mentor_escalations",
          "schemaTo": "public",
          "columnsFrom": [
            "escalation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "trainer_responses_trainer_id_fkey": {
          "name": "trainer_responses_trainer_id_fkey",
          "tableFrom": "trainer_responses",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "trainer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "trainer_responses_insert_staff": {
          "name": "trainer_responses_insert_staff",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "((trainer_id = auth.uid()) AND (EXISTS ( SELECT 1\n   FROM (user_roles ur\n     JOIN roles r ON ((r.id = ur.role_id)))\n  WHERE ((ur.user_id = auth.uid()) AND (r.name = ANY (ARRAY['admin'::text, 'trainer'::text]))))))"
        },
        "trainer_responses_select_staff": {
          "name": "trainer_responses_select_staff",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "trainer_responses_select_student": {
          "name": "trainer_responses_select_student",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.escalation_notifications": {
      "name": "escalation_notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "escalation_id": {
          "name": "escalation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "notification_type": {
          "name": "notification_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_id": {
          "name": "recipient_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_email": {
          "name": "recipient_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_slack_id": {
          "name": "recipient_slack_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_escalation_notifications_escalation_id": {
          "name": "idx_escalation_notifications_escalation_id",
          "columns": [
            {
              "expression": "escalation_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_escalation_notifications_sent_at": {
          "name": "idx_escalation_notifications_sent_at",
          "columns": [
            {
              "expression": "sent_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "escalation_notifications_escalation_id_fkey": {
          "name": "escalation_notifications_escalation_id_fkey",
          "tableFrom": "escalation_notifications",
          "tableTo": "ai_mentor_escalations",
          "schemaTo": "public",
          "columnsFrom": [
            "escalation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "escalation_notifications_recipient_id_fkey": {
          "name": "escalation_notifications_recipient_id_fkey",
          "tableFrom": "escalation_notifications",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "recipient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "escalation_notifications_notification_type_check": {
          "name": "escalation_notifications_notification_type_check",
          "value": "notification_type = ANY (ARRAY['slack'::text, 'email'::text, 'in_app'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": true
    },
    "public.entity_skills": {
      "name": "entity_skills",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "skill_id": {
          "name": "skill_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "skill_name_override": {
          "name": "skill_name_override",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "proficiency_level": {
          "name": "proficiency_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "years_experience": {
          "name": "years_experience",
          "type": "numeric(4, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_date": {
          "name": "last_used_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "min_proficiency_required": {
          "name": "min_proficiency_required",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "verification_method": {
          "name": "verification_method",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'self_reported'"
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "source_context": {
          "name": "source_context",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_entity_skills_entity": {
          "name": "idx_entity_skills_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_entity_skills_org": {
          "name": "idx_entity_skills_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_entity_skills_primary": {
          "name": "idx_entity_skills_primary",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_primary = true) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_entity_skills_proficiency": {
          "name": "idx_entity_skills_proficiency",
          "columns": [
            {
              "expression": "proficiency_level",
              "asc": false,
              "nulls": "first",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_entity_skills_skill": {
          "name": "idx_entity_skills_skill",
          "columns": [
            {
              "expression": "skill_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_entity_skills_unique": {
          "name": "idx_entity_skills_unique",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "skill_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_entity_skills_verified": {
          "name": "idx_entity_skills_verified",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_verified = true) AND (deleted_at IS NULL))",
          "with": {}
        }
      },
      "foreignKeys": {
        "entity_skills_org_id_fkey": {
          "name": "entity_skills_org_id_fkey",
          "tableFrom": "entity_skills",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entity_skills_skill_id_fkey": {
          "name": "entity_skills_skill_id_fkey",
          "tableFrom": "entity_skills",
          "tableTo": "skills",
          "schemaTo": "public",
          "columnsFrom": [
            "skill_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entity_skills_verified_by_fkey": {
          "name": "entity_skills_verified_by_fkey",
          "tableFrom": "entity_skills",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "verified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "entity_skills_proficiency_level_check": {
          "name": "entity_skills_proficiency_level_check",
          "value": "(proficiency_level >= 1) AND (proficiency_level <= 5)"
        }
      },
      "policies": {
        "entity_skills_org_isolation": {
          "name": "entity_skills_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.certifications": {
      "name": "certifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "certification_name": {
          "name": "certification_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "issuing_organization": {
          "name": "issuing_organization",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "credential_id": {
          "name": "credential_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "verification_url": {
          "name": "verification_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "skill_id": {
          "name": "skill_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "issue_date": {
          "name": "issue_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "renewal_required": {
          "name": "renewal_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "renewal_period_months": {
          "name": "renewal_period_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "renewal_reminder_sent_at": {
          "name": "renewal_reminder_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "certificate_document_id": {
          "name": "certificate_document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_certifications_entity": {
          "name": "idx_certifications_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_certifications_expiry": {
          "name": "idx_certifications_expiry",
          "columns": [
            {
              "expression": "expiry_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_active = true) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_certifications_skill": {
          "name": "idx_certifications_skill",
          "columns": [
            {
              "expression": "skill_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((skill_id IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        }
      },
      "foreignKeys": {
        "certifications_org_id_fkey": {
          "name": "certifications_org_id_fkey",
          "tableFrom": "certifications",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "certifications_skill_id_fkey": {
          "name": "certifications_skill_id_fkey",
          "tableFrom": "certifications",
          "tableTo": "skills",
          "schemaTo": "public",
          "columnsFrom": [
            "skill_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "certifications_verified_by_fkey": {
          "name": "certifications_verified_by_fkey",
          "tableFrom": "certifications",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "verified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "certifications_org_isolation": {
          "name": "certifications_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.contact_bench_data": {
      "name": "contact_bench_data",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "bench_start_date": {
          "name": "bench_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "bench_type": {
          "name": "bench_type",
          "type": "bench_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "bench_status": {
          "name": "bench_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'available'"
        },
        "visa_type": {
          "name": "visa_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "visa_expiry_date": {
          "name": "visa_expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "work_auth_status": {
          "name": "work_auth_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "visa_notes": {
          "name": "visa_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "min_acceptable_rate": {
          "name": "min_acceptable_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "target_rate": {
          "name": "target_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "max_rate": {
          "name": "max_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "bill_rate": {
          "name": "bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "pay_rate": {
          "name": "pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "markup_percentage": {
          "name": "markup_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "cost_per_day": {
          "name": "cost_per_day",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "willing_to_relocate": {
          "name": "willing_to_relocate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "preferred_locations": {
          "name": "preferred_locations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "work_preference": {
          "name": "work_preference",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "marketing_status": {
          "name": "marketing_status",
          "type": "bench_marketing_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "marketing_started_at": {
          "name": "marketing_started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "marketing_notes": {
          "name": "marketing_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bench_sales_rep_id": {
          "name": "bench_sales_rep_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_id": {
          "name": "vendor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_contact_id": {
          "name": "vendor_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_terms": {
          "name": "vendor_terms",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_end_date": {
          "name": "target_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "max_bench_days": {
          "name": "max_bench_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_placements": {
          "name": "total_placements",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_placement_end": {
          "name": "last_placement_end",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "utilization_rate": {
          "name": "utilization_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "days_on_bench": {
          "name": "days_on_bench",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "primary_skills": {
          "name": "primary_skills",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "years_of_experience": {
          "name": "years_of_experience",
          "type": "numeric(4, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "certifications": {
          "name": "certifications",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "legacy_bench_consultant_id": {
          "name": "legacy_bench_consultant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_contact_bench_data_bench_type": {
          "name": "idx_contact_bench_data_bench_type",
          "columns": [
            {
              "expression": "bench_type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contact_bench_data_contact": {
          "name": "idx_contact_bench_data_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contact_bench_data_marketing": {
          "name": "idx_contact_bench_data_marketing",
          "columns": [
            {
              "expression": "marketing_status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contact_bench_data_org": {
          "name": "idx_contact_bench_data_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contact_bench_data_sales_rep": {
          "name": "idx_contact_bench_data_sales_rep",
          "columns": [
            {
              "expression": "bench_sales_rep_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((bench_sales_rep_id IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contact_bench_data_status": {
          "name": "idx_contact_bench_data_status",
          "columns": [
            {
              "expression": "bench_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contact_bench_data_vendor": {
          "name": "idx_contact_bench_data_vendor",
          "columns": [
            {
              "expression": "vendor_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((vendor_id IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contact_bench_data_visa_expiry": {
          "name": "idx_contact_bench_data_visa_expiry",
          "columns": [
            {
              "expression": "visa_expiry_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((visa_expiry_date IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        }
      },
      "foreignKeys": {
        "contact_bench_data_bench_sales_rep_id_fkey": {
          "name": "contact_bench_data_bench_sales_rep_id_fkey",
          "tableFrom": "contact_bench_data",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "bench_sales_rep_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contact_bench_data_contact_id_fkey": {
          "name": "contact_bench_data_contact_id_fkey",
          "tableFrom": "contact_bench_data",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_bench_data_created_by_fkey": {
          "name": "contact_bench_data_created_by_fkey",
          "tableFrom": "contact_bench_data",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contact_bench_data_org_id_fkey": {
          "name": "contact_bench_data_org_id_fkey",
          "tableFrom": "contact_bench_data",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contact_bench_data_updated_by_fkey": {
          "name": "contact_bench_data_updated_by_fkey",
          "tableFrom": "contact_bench_data",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contact_bench_data_vendor_contact_id_fkey": {
          "name": "contact_bench_data_vendor_contact_id_fkey",
          "tableFrom": "contact_bench_data",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "vendor_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contact_bench_data_vendor_id_fkey": {
          "name": "contact_bench_data_vendor_id_fkey",
          "tableFrom": "contact_bench_data",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "vendor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "contact_bench_data_contact_id_key": {
          "columns": [
            "contact_id"
          ],
          "nullsNotDistinct": false,
          "name": "contact_bench_data_contact_id_key"
        }
      },
      "checkConstraints": {
        "contact_bench_data_bench_status_check": {
          "name": "contact_bench_data_bench_status_check",
          "value": "bench_status = ANY (ARRAY['onboarding'::text, 'available'::text, 'marketing'::text, 'interviewing'::text, 'placed'::text, 'inactive'::text])"
        },
        "contact_bench_data_work_preference_check": {
          "name": "contact_bench_data_work_preference_check",
          "value": "work_preference = ANY (ARRAY['remote'::text, 'hybrid'::text, 'onsite'::text, 'flexible'::text])"
        }
      },
      "policies": {
        "contact_bench_data_org_isolation": {
          "name": "contact_bench_data_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        },
        "contact_bench_data_service_role": {
          "name": "contact_bench_data_service_role",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "service_role"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.submission_feedback": {
      "name": "submission_feedback",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "submission_id": {
          "name": "submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "feedback_type": {
          "name": "feedback_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "feedback_source": {
          "name": "feedback_source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "provided_by_user_id": {
          "name": "provided_by_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "provided_by_contact_id": {
          "name": "provided_by_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "overall_rating": {
          "name": "overall_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "recommendation": {
          "name": "recommendation",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "feedback_text": {
          "name": "feedback_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "criteria_scores": {
          "name": "criteria_scores",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "interview_id": {
          "name": "interview_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "interview_round": {
          "name": "interview_round",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_visible_to_client": {
          "name": "is_visible_to_client",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_submission_feedback_interview": {
          "name": "idx_submission_feedback_interview",
          "columns": [
            {
              "expression": "interview_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((interview_id IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_submission_feedback_org": {
          "name": "idx_submission_feedback_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_submission_feedback_submission": {
          "name": "idx_submission_feedback_submission",
          "columns": [
            {
              "expression": "submission_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "submission_feedback_interview_id_fkey": {
          "name": "submission_feedback_interview_id_fkey",
          "tableFrom": "submission_feedback",
          "tableTo": "interviews",
          "schemaTo": "public",
          "columnsFrom": [
            "interview_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submission_feedback_org_id_fkey": {
          "name": "submission_feedback_org_id_fkey",
          "tableFrom": "submission_feedback",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "submission_feedback_provided_by_contact_id_fkey": {
          "name": "submission_feedback_provided_by_contact_id_fkey",
          "tableFrom": "submission_feedback",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "provided_by_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submission_feedback_provided_by_user_id_fkey": {
          "name": "submission_feedback_provided_by_user_id_fkey",
          "tableFrom": "submission_feedback",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "provided_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submission_feedback_submission_id_fkey": {
          "name": "submission_feedback_submission_id_fkey",
          "tableFrom": "submission_feedback",
          "tableTo": "submissions",
          "schemaTo": "public",
          "columnsFrom": [
            "submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "submission_feedback_feedback_source_check": {
          "name": "submission_feedback_feedback_source_check",
          "value": "(feedback_source)::text = ANY ((ARRAY['internal'::character varying, 'client'::character varying, 'vendor'::character varying, 'reference'::character varying])::text[])"
        },
        "submission_feedback_feedback_type_check": {
          "name": "submission_feedback_feedback_type_check",
          "value": "(feedback_type)::text = ANY ((ARRAY['screening'::character varying, 'technical'::character varying, 'client'::character varying, 'reference'::character varying, 'final'::character varying])::text[])"
        },
        "submission_feedback_overall_rating_check": {
          "name": "submission_feedback_overall_rating_check",
          "value": "(overall_rating IS NULL) OR ((overall_rating >= 1) AND (overall_rating <= 5))"
        },
        "submission_feedback_recommendation_check": {
          "name": "submission_feedback_recommendation_check",
          "value": "(recommendation IS NULL) OR ((recommendation)::text = ANY ((ARRAY['strong_hire'::character varying, 'hire'::character varying, 'neutral'::character varying, 'no_hire'::character varying, 'strong_no_hire'::character varying])::text[]))"
        }
      },
      "policies": {
        "submission_feedback_org_isolation": {
          "name": "submission_feedback_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.submission_rtr": {
      "name": "submission_rtr",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "submission_id": {
          "name": "submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "rtr_type": {
          "name": "rtr_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'standard'"
        },
        "obtained_at": {
          "name": "obtained_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "validity_hours": {
          "name": "validity_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 72
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_reason": {
          "name": "revoked_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_submission_rtr_contact": {
          "name": "idx_submission_rtr_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_submission_rtr_expiry": {
          "name": "idx_submission_rtr_expiry",
          "columns": [
            {
              "expression": "expires_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status)::text = 'active'::text)",
          "with": {}
        },
        "idx_submission_rtr_org": {
          "name": "idx_submission_rtr_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_submission_rtr_submission": {
          "name": "idx_submission_rtr_submission",
          "columns": [
            {
              "expression": "submission_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "submission_rtr_contact_id_fkey": {
          "name": "submission_rtr_contact_id_fkey",
          "tableFrom": "submission_rtr",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submission_rtr_created_by_fkey": {
          "name": "submission_rtr_created_by_fkey",
          "tableFrom": "submission_rtr",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submission_rtr_document_id_fkey": {
          "name": "submission_rtr_document_id_fkey",
          "tableFrom": "submission_rtr",
          "tableTo": "documents",
          "schemaTo": "public",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submission_rtr_org_id_fkey": {
          "name": "submission_rtr_org_id_fkey",
          "tableFrom": "submission_rtr",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "submission_rtr_submission_id_fkey": {
          "name": "submission_rtr_submission_id_fkey",
          "tableFrom": "submission_rtr",
          "tableTo": "submissions",
          "schemaTo": "public",
          "columnsFrom": [
            "submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "submission_rtr_rtr_type_check": {
          "name": "submission_rtr_rtr_type_check",
          "value": "(rtr_type)::text = ANY ((ARRAY['standard'::character varying, 'exclusive'::character varying, 'non_exclusive'::character varying, 'verbal'::character varying, 'written'::character varying])::text[])"
        },
        "submission_rtr_status_check": {
          "name": "submission_rtr_status_check",
          "value": "(status)::text = ANY ((ARRAY['active'::character varying, 'expired'::character varying, 'revoked'::character varying, 'renewed'::character varying])::text[])"
        }
      },
      "policies": {
        "submission_rtr_org_isolation": {
          "name": "submission_rtr_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.entity_type_registry": {
      "name": "entity_type_registry",
      "schema": "",
      "columns": {
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": true,
          "notNull": true
        },
        "table_name": {
          "name": "table_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "id_column": {
          "name": "id_column",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'id'"
        },
        "display_name_column": {
          "name": "display_name_column",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'name'"
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "url_pattern": {
          "name": "url_pattern",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "icon_name": {
          "name": "icon_name",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_entity_registry_active": {
          "name": "idx_entity_registry_active",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.skill_endorsements": {
      "name": "skill_endorsements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_skill_id": {
          "name": "entity_skill_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "endorser_id": {
          "name": "endorser_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "endorser_relationship": {
          "name": "endorser_relationship",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "endorsement_level": {
          "name": "endorsement_level",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_skill_endorsements_endorser": {
          "name": "idx_skill_endorsements_endorser",
          "columns": [
            {
              "expression": "endorser_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_skill_endorsements_skill": {
          "name": "idx_skill_endorsements_skill",
          "columns": [
            {
              "expression": "entity_skill_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_skill_endorsements_unique": {
          "name": "idx_skill_endorsements_unique",
          "columns": [
            {
              "expression": "entity_skill_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "endorser_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "skill_endorsements_endorser_id_fkey": {
          "name": "skill_endorsements_endorser_id_fkey",
          "tableFrom": "skill_endorsements",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "endorser_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "skill_endorsements_entity_skill_id_fkey": {
          "name": "skill_endorsements_entity_skill_id_fkey",
          "tableFrom": "skill_endorsements",
          "tableTo": "entity_skills",
          "schemaTo": "public",
          "columnsFrom": [
            "entity_skill_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "skill_endorsements_org_id_fkey": {
          "name": "skill_endorsements_org_id_fkey",
          "tableFrom": "skill_endorsements",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "skill_endorsements_org_isolation": {
          "name": "skill_endorsements_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.audit_logs_2025_11": {
      "name": "audit_logs_2025_11",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false,
          "default": "uuid_generate_v4()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "table_name": {
          "name": "table_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "record_id": {
          "name": "record_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_email": {
          "name": "user_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_ip_address": {
          "name": "user_ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "old_values": {
          "name": "old_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_values": {
          "name": "new_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "changed_fields": {
          "name": "changed_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "request_id": {
          "name": "request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_path": {
          "name": "request_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_method": {
          "name": "request_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'info'"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "actor_type": {
          "name": "actor_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'user'"
        },
        "actor_id": {
          "name": "actor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_audit_id": {
          "name": "parent_audit_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_compliance_relevant": {
          "name": "is_compliance_relevant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "retention_category": {
          "name": "retention_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'SUCCESS'"
        },
        "event_id": {
          "name": "event_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "nextval('audit_logs_event_id_seq'::regclass)"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "response_code": {
          "name": "response_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_time_ms": {
          "name": "response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "object_name": {
          "name": "object_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "audit_logs_2025_11_action_idx": {
          "name": "audit_logs_2025_11_action_idx",
          "columns": [
            {
              "expression": "action",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_11_actor_id_idx": {
          "name": "audit_logs_2025_11_actor_id_idx",
          "columns": [
            {
              "expression": "actor_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_11_correlation_id_idx": {
          "name": "audit_logs_2025_11_correlation_id_idx",
          "columns": [
            {
              "expression": "correlation_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_11_created_at_idx": {
          "name": "audit_logs_2025_11_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_11_entity_type_entity_id_idx": {
          "name": "audit_logs_2025_11_entity_type_entity_id_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_11_event_id_idx": {
          "name": "audit_logs_2025_11_event_id_idx",
          "columns": [
            {
              "expression": "event_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_11_ip_address_idx": {
          "name": "audit_logs_2025_11_ip_address_idx",
          "columns": [
            {
              "expression": "ip_address",
              "asc": true,
              "nulls": "last",
              "opclass": "inet_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_11_org_id_created_at_idx": {
          "name": "audit_logs_2025_11_org_id_created_at_idx",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_11_org_id_idx": {
          "name": "audit_logs_2025_11_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_11_record_id_idx": {
          "name": "audit_logs_2025_11_record_id_idx",
          "columns": [
            {
              "expression": "record_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(record_id IS NOT NULL)",
          "with": {}
        },
        "audit_logs_2025_11_result_idx": {
          "name": "audit_logs_2025_11_result_idx",
          "columns": [
            {
              "expression": "result",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_11_session_id_idx": {
          "name": "audit_logs_2025_11_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(session_id IS NOT NULL)",
          "with": {}
        },
        "audit_logs_2025_11_severity_idx": {
          "name": "audit_logs_2025_11_severity_idx",
          "columns": [
            {
              "expression": "severity",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(severity = ANY (ARRAY['error'::text, 'critical'::text]))",
          "with": {}
        },
        "audit_logs_2025_11_table_name_action_idx": {
          "name": "audit_logs_2025_11_table_name_action_idx",
          "columns": [
            {
              "expression": "table_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "action",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_11_table_name_idx": {
          "name": "audit_logs_2025_11_table_name_idx",
          "columns": [
            {
              "expression": "table_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_11_user_id_idx": {
          "name": "audit_logs_2025_11_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(user_id IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "audit_logs_org_id_fkey": {
          "name": "audit_logs_org_id_fkey",
          "tableFrom": "audit_logs_2025_11",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "audit_logs_user_id_fkey": {
          "name": "audit_logs_user_id_fkey",
          "tableFrom": "audit_logs_2025_11",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "audit_logs_result_check": {
          "name": "audit_logs_result_check",
          "value": "result = ANY (ARRAY['SUCCESS'::text, 'FAILURE'::text])"
        },
        "valid_action": {
          "name": "valid_action",
          "value": "action = ANY (ARRAY['INSERT'::text, 'UPDATE'::text, 'DELETE'::text, 'LOGIN'::text, 'LOGOUT'::text, 'APPROVE'::text, 'REJECT'::text, 'EXPORT'::text, 'IMPORT'::text, 'CUSTOM'::text])"
        },
        "valid_severity": {
          "name": "valid_severity",
          "value": "severity = ANY (ARRAY['debug'::text, 'info'::text, 'warning'::text, 'error'::text, 'critical'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.audit_logs_2025_12": {
      "name": "audit_logs_2025_12",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false,
          "default": "uuid_generate_v4()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "table_name": {
          "name": "table_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "record_id": {
          "name": "record_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_email": {
          "name": "user_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_ip_address": {
          "name": "user_ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "old_values": {
          "name": "old_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_values": {
          "name": "new_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "changed_fields": {
          "name": "changed_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "request_id": {
          "name": "request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_path": {
          "name": "request_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_method": {
          "name": "request_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'info'"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "actor_type": {
          "name": "actor_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'user'"
        },
        "actor_id": {
          "name": "actor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_audit_id": {
          "name": "parent_audit_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_compliance_relevant": {
          "name": "is_compliance_relevant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "retention_category": {
          "name": "retention_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'SUCCESS'"
        },
        "event_id": {
          "name": "event_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "nextval('audit_logs_event_id_seq'::regclass)"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "response_code": {
          "name": "response_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_time_ms": {
          "name": "response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "object_name": {
          "name": "object_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "audit_logs_2025_12_action_idx": {
          "name": "audit_logs_2025_12_action_idx",
          "columns": [
            {
              "expression": "action",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_12_actor_id_idx": {
          "name": "audit_logs_2025_12_actor_id_idx",
          "columns": [
            {
              "expression": "actor_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_12_correlation_id_idx": {
          "name": "audit_logs_2025_12_correlation_id_idx",
          "columns": [
            {
              "expression": "correlation_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_12_created_at_idx": {
          "name": "audit_logs_2025_12_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_12_entity_type_entity_id_idx": {
          "name": "audit_logs_2025_12_entity_type_entity_id_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_12_event_id_idx": {
          "name": "audit_logs_2025_12_event_id_idx",
          "columns": [
            {
              "expression": "event_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_12_ip_address_idx": {
          "name": "audit_logs_2025_12_ip_address_idx",
          "columns": [
            {
              "expression": "ip_address",
              "asc": true,
              "nulls": "last",
              "opclass": "inet_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_12_org_id_created_at_idx": {
          "name": "audit_logs_2025_12_org_id_created_at_idx",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_12_org_id_idx": {
          "name": "audit_logs_2025_12_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_12_record_id_idx": {
          "name": "audit_logs_2025_12_record_id_idx",
          "columns": [
            {
              "expression": "record_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(record_id IS NOT NULL)",
          "with": {}
        },
        "audit_logs_2025_12_result_idx": {
          "name": "audit_logs_2025_12_result_idx",
          "columns": [
            {
              "expression": "result",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_12_session_id_idx": {
          "name": "audit_logs_2025_12_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(session_id IS NOT NULL)",
          "with": {}
        },
        "audit_logs_2025_12_severity_idx": {
          "name": "audit_logs_2025_12_severity_idx",
          "columns": [
            {
              "expression": "severity",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(severity = ANY (ARRAY['error'::text, 'critical'::text]))",
          "with": {}
        },
        "audit_logs_2025_12_table_name_action_idx": {
          "name": "audit_logs_2025_12_table_name_action_idx",
          "columns": [
            {
              "expression": "table_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "action",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_12_table_name_idx": {
          "name": "audit_logs_2025_12_table_name_idx",
          "columns": [
            {
              "expression": "table_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2025_12_user_id_idx": {
          "name": "audit_logs_2025_12_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(user_id IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "audit_logs_org_id_fkey": {
          "name": "audit_logs_org_id_fkey",
          "tableFrom": "audit_logs_2025_12",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "audit_logs_user_id_fkey": {
          "name": "audit_logs_user_id_fkey",
          "tableFrom": "audit_logs_2025_12",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "audit_logs_result_check": {
          "name": "audit_logs_result_check",
          "value": "result = ANY (ARRAY['SUCCESS'::text, 'FAILURE'::text])"
        },
        "valid_action": {
          "name": "valid_action",
          "value": "action = ANY (ARRAY['INSERT'::text, 'UPDATE'::text, 'DELETE'::text, 'LOGIN'::text, 'LOGOUT'::text, 'APPROVE'::text, 'REJECT'::text, 'EXPORT'::text, 'IMPORT'::text, 'CUSTOM'::text])"
        },
        "valid_severity": {
          "name": "valid_severity",
          "value": "severity = ANY (ARRAY['debug'::text, 'info'::text, 'warning'::text, 'error'::text, 'critical'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.audit_logs_2026_01": {
      "name": "audit_logs_2026_01",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false,
          "default": "uuid_generate_v4()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "table_name": {
          "name": "table_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "record_id": {
          "name": "record_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_email": {
          "name": "user_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_ip_address": {
          "name": "user_ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "old_values": {
          "name": "old_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_values": {
          "name": "new_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "changed_fields": {
          "name": "changed_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "request_id": {
          "name": "request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_path": {
          "name": "request_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_method": {
          "name": "request_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'info'"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "actor_type": {
          "name": "actor_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'user'"
        },
        "actor_id": {
          "name": "actor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_audit_id": {
          "name": "parent_audit_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_compliance_relevant": {
          "name": "is_compliance_relevant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "retention_category": {
          "name": "retention_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'SUCCESS'"
        },
        "event_id": {
          "name": "event_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "nextval('audit_logs_event_id_seq'::regclass)"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "response_code": {
          "name": "response_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_time_ms": {
          "name": "response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "object_name": {
          "name": "object_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "audit_logs_2026_01_action_idx": {
          "name": "audit_logs_2026_01_action_idx",
          "columns": [
            {
              "expression": "action",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_01_actor_id_idx": {
          "name": "audit_logs_2026_01_actor_id_idx",
          "columns": [
            {
              "expression": "actor_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_01_correlation_id_idx": {
          "name": "audit_logs_2026_01_correlation_id_idx",
          "columns": [
            {
              "expression": "correlation_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_01_created_at_idx": {
          "name": "audit_logs_2026_01_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_01_entity_type_entity_id_idx": {
          "name": "audit_logs_2026_01_entity_type_entity_id_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_01_event_id_idx": {
          "name": "audit_logs_2026_01_event_id_idx",
          "columns": [
            {
              "expression": "event_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_01_ip_address_idx": {
          "name": "audit_logs_2026_01_ip_address_idx",
          "columns": [
            {
              "expression": "ip_address",
              "asc": true,
              "nulls": "last",
              "opclass": "inet_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_01_org_id_created_at_idx": {
          "name": "audit_logs_2026_01_org_id_created_at_idx",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_01_org_id_idx": {
          "name": "audit_logs_2026_01_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_01_record_id_idx": {
          "name": "audit_logs_2026_01_record_id_idx",
          "columns": [
            {
              "expression": "record_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(record_id IS NOT NULL)",
          "with": {}
        },
        "audit_logs_2026_01_result_idx": {
          "name": "audit_logs_2026_01_result_idx",
          "columns": [
            {
              "expression": "result",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_01_session_id_idx": {
          "name": "audit_logs_2026_01_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(session_id IS NOT NULL)",
          "with": {}
        },
        "audit_logs_2026_01_severity_idx": {
          "name": "audit_logs_2026_01_severity_idx",
          "columns": [
            {
              "expression": "severity",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(severity = ANY (ARRAY['error'::text, 'critical'::text]))",
          "with": {}
        },
        "audit_logs_2026_01_table_name_action_idx": {
          "name": "audit_logs_2026_01_table_name_action_idx",
          "columns": [
            {
              "expression": "table_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "action",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_01_table_name_idx": {
          "name": "audit_logs_2026_01_table_name_idx",
          "columns": [
            {
              "expression": "table_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_01_user_id_idx": {
          "name": "audit_logs_2026_01_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(user_id IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "audit_logs_org_id_fkey": {
          "name": "audit_logs_org_id_fkey",
          "tableFrom": "audit_logs_2026_01",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "audit_logs_user_id_fkey": {
          "name": "audit_logs_user_id_fkey",
          "tableFrom": "audit_logs_2026_01",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "audit_logs_result_check": {
          "name": "audit_logs_result_check",
          "value": "result = ANY (ARRAY['SUCCESS'::text, 'FAILURE'::text])"
        },
        "valid_action": {
          "name": "valid_action",
          "value": "action = ANY (ARRAY['INSERT'::text, 'UPDATE'::text, 'DELETE'::text, 'LOGIN'::text, 'LOGOUT'::text, 'APPROVE'::text, 'REJECT'::text, 'EXPORT'::text, 'IMPORT'::text, 'CUSTOM'::text])"
        },
        "valid_severity": {
          "name": "valid_severity",
          "value": "severity = ANY (ARRAY['debug'::text, 'info'::text, 'warning'::text, 'error'::text, 'critical'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.audit_logs_2026_02": {
      "name": "audit_logs_2026_02",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false,
          "default": "uuid_generate_v4()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "table_name": {
          "name": "table_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "record_id": {
          "name": "record_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_email": {
          "name": "user_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_ip_address": {
          "name": "user_ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "old_values": {
          "name": "old_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_values": {
          "name": "new_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "changed_fields": {
          "name": "changed_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "request_id": {
          "name": "request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_path": {
          "name": "request_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_method": {
          "name": "request_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'info'"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "actor_type": {
          "name": "actor_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'user'"
        },
        "actor_id": {
          "name": "actor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_audit_id": {
          "name": "parent_audit_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_compliance_relevant": {
          "name": "is_compliance_relevant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "retention_category": {
          "name": "retention_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'SUCCESS'"
        },
        "event_id": {
          "name": "event_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "nextval('audit_logs_event_id_seq'::regclass)"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "response_code": {
          "name": "response_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_time_ms": {
          "name": "response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "object_name": {
          "name": "object_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "audit_logs_2026_02_action_idx": {
          "name": "audit_logs_2026_02_action_idx",
          "columns": [
            {
              "expression": "action",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_02_actor_id_idx": {
          "name": "audit_logs_2026_02_actor_id_idx",
          "columns": [
            {
              "expression": "actor_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_02_correlation_id_idx": {
          "name": "audit_logs_2026_02_correlation_id_idx",
          "columns": [
            {
              "expression": "correlation_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_02_created_at_idx": {
          "name": "audit_logs_2026_02_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_02_entity_type_entity_id_idx": {
          "name": "audit_logs_2026_02_entity_type_entity_id_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_02_event_id_idx": {
          "name": "audit_logs_2026_02_event_id_idx",
          "columns": [
            {
              "expression": "event_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_02_ip_address_idx": {
          "name": "audit_logs_2026_02_ip_address_idx",
          "columns": [
            {
              "expression": "ip_address",
              "asc": true,
              "nulls": "last",
              "opclass": "inet_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_02_org_id_created_at_idx": {
          "name": "audit_logs_2026_02_org_id_created_at_idx",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_02_org_id_idx": {
          "name": "audit_logs_2026_02_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_02_record_id_idx": {
          "name": "audit_logs_2026_02_record_id_idx",
          "columns": [
            {
              "expression": "record_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(record_id IS NOT NULL)",
          "with": {}
        },
        "audit_logs_2026_02_result_idx": {
          "name": "audit_logs_2026_02_result_idx",
          "columns": [
            {
              "expression": "result",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_02_session_id_idx": {
          "name": "audit_logs_2026_02_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(session_id IS NOT NULL)",
          "with": {}
        },
        "audit_logs_2026_02_severity_idx": {
          "name": "audit_logs_2026_02_severity_idx",
          "columns": [
            {
              "expression": "severity",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(severity = ANY (ARRAY['error'::text, 'critical'::text]))",
          "with": {}
        },
        "audit_logs_2026_02_table_name_action_idx": {
          "name": "audit_logs_2026_02_table_name_action_idx",
          "columns": [
            {
              "expression": "table_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "action",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_02_table_name_idx": {
          "name": "audit_logs_2026_02_table_name_idx",
          "columns": [
            {
              "expression": "table_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_2026_02_user_id_idx": {
          "name": "audit_logs_2026_02_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(user_id IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "audit_logs_org_id_fkey": {
          "name": "audit_logs_org_id_fkey",
          "tableFrom": "audit_logs_2026_02",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "audit_logs_user_id_fkey": {
          "name": "audit_logs_user_id_fkey",
          "tableFrom": "audit_logs_2026_02",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "audit_logs_result_check": {
          "name": "audit_logs_result_check",
          "value": "result = ANY (ARRAY['SUCCESS'::text, 'FAILURE'::text])"
        },
        "valid_action": {
          "name": "valid_action",
          "value": "action = ANY (ARRAY['INSERT'::text, 'UPDATE'::text, 'DELETE'::text, 'LOGIN'::text, 'LOGOUT'::text, 'APPROVE'::text, 'REJECT'::text, 'EXPORT'::text, 'IMPORT'::text, 'CUSTOM'::text])"
        },
        "valid_severity": {
          "name": "valid_severity",
          "value": "severity = ANY (ARRAY['debug'::text, 'info'::text, 'warning'::text, 'error'::text, 'critical'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.security_alerts": {
      "name": "security_alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "alert_type": {
          "name": "alert_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "related_user_id": {
          "name": "related_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "related_user_email": {
          "name": "related_user_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "related_events": {
          "name": "related_events",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'open'"
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_notes": {
          "name": "resolution_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "risk_level": {
          "name": "risk_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "risk_indicators": {
          "name": "risk_indicators",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "recommended_actions": {
          "name": "recommended_actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "actions_taken": {
          "name": "actions_taken",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_security_alerts_created": {
          "name": "idx_security_alerts_created",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_security_alerts_org": {
          "name": "idx_security_alerts_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_security_alerts_severity": {
          "name": "idx_security_alerts_severity",
          "columns": [
            {
              "expression": "severity",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_security_alerts_status": {
          "name": "idx_security_alerts_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_security_alerts_user": {
          "name": "idx_security_alerts_user",
          "columns": [
            {
              "expression": "related_user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "security_alerts_assigned_to_fkey": {
          "name": "security_alerts_assigned_to_fkey",
          "tableFrom": "security_alerts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "security_alerts_org_id_fkey": {
          "name": "security_alerts_org_id_fkey",
          "tableFrom": "security_alerts",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "security_alerts_related_user_id_fkey": {
          "name": "security_alerts_related_user_id_fkey",
          "tableFrom": "security_alerts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "related_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "security_alerts_risk_level_check": {
          "name": "security_alerts_risk_level_check",
          "value": "risk_level = ANY (ARRAY['LOW'::text, 'LOW_MEDIUM'::text, 'MEDIUM'::text, 'MEDIUM_HIGH'::text, 'HIGH'::text])"
        },
        "security_alerts_severity_check": {
          "name": "security_alerts_severity_check",
          "value": "severity = ANY (ARRAY['LOW'::text, 'MEDIUM'::text, 'HIGH'::text, 'CRITICAL'::text])"
        },
        "security_alerts_status_check": {
          "name": "security_alerts_status_check",
          "value": "status = ANY (ARRAY['open'::text, 'investigating'::text, 'resolved'::text, 'dismissed'::text])"
        }
      },
      "policies": {
        "Admins can manage security alerts": {
          "name": "Admins can manage security alerts",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())))"
        },
        "Users can view security alerts in their org": {
          "name": "Users can view security alerts in their org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.alert_rules": {
      "name": "alert_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "result_condition": {
          "name": "result_condition",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'ANY'"
        },
        "threshold_count": {
          "name": "threshold_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "time_window_minutes": {
          "name": "time_window_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10
        },
        "object_type": {
          "name": "object_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "additional_conditions": {
          "name": "additional_conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "notification_channels": {
          "name": "notification_channels",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"dashboard\":true}'::jsonb"
        },
        "auto_action": {
          "name": "auto_action",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_alert_rules_active": {
          "name": "idx_alert_rules_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alert_rules_event_type": {
          "name": "idx_alert_rules_event_type",
          "columns": [
            {
              "expression": "event_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_alert_rules_org": {
          "name": "idx_alert_rules_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "alert_rules_created_by_fkey": {
          "name": "alert_rules_created_by_fkey",
          "tableFrom": "alert_rules",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "alert_rules_org_id_fkey": {
          "name": "alert_rules_org_id_fkey",
          "tableFrom": "alert_rules",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_alert_rule_name_per_org": {
          "columns": [
            "org_id",
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "unique_alert_rule_name_per_org"
        }
      },
      "checkConstraints": {
        "alert_rules_auto_action_check": {
          "name": "alert_rules_auto_action_check",
          "value": "auto_action = ANY (ARRAY['none'::text, 'lock_account'::text, 'block_ip'::text, 'require_2fa'::text, 'notify_manager'::text])"
        },
        "alert_rules_result_condition_check": {
          "name": "alert_rules_result_condition_check",
          "value": "result_condition = ANY (ARRAY['ANY'::text, 'SUCCESS'::text, 'FAILURE'::text])"
        },
        "alert_rules_severity_check": {
          "name": "alert_rules_severity_check",
          "value": "severity = ANY (ARRAY['LOW'::text, 'MEDIUM'::text, 'HIGH'::text, 'CRITICAL'::text])"
        }
      },
      "policies": {
        "Admins can manage alert rules": {
          "name": "Admins can manage alert rules",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())))"
        },
        "Users can view alert rules in their org": {
          "name": "Users can view alert rules in their org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.email_templates": {
      "name": "email_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "body_html": {
          "name": "body_html",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "body_text": {
          "name": "body_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "variables": {
          "name": "variables",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "preview_text": {
          "name": "preview_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "from_name": {
          "name": "from_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'{{company_name}}'"
        },
        "from_email": {
          "name": "from_email",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'noreply@{{company_domain}}'"
        },
        "reply_to": {
          "name": "reply_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "variables_used": {
          "name": "variables_used",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_email_templates_active": {
          "name": "idx_email_templates_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_email_templates_category": {
          "name": "idx_email_templates_category",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_templates_org_category": {
          "name": "idx_email_templates_org_category",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_email_templates_org_id": {
          "name": "idx_email_templates_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_templates_org_slug": {
          "name": "idx_email_templates_org_slug",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "slug",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_email_templates_org_status": {
          "name": "idx_email_templates_org_status",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "email_templates_created_by_fkey": {
          "name": "email_templates_created_by_fkey",
          "tableFrom": "email_templates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "email_templates_org_id_fkey": {
          "name": "email_templates_org_id_fkey",
          "tableFrom": "email_templates",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "email_templates_updated_by_fkey": {
          "name": "email_templates_updated_by_fkey",
          "tableFrom": "email_templates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_email_template_name": {
          "columns": [
            "org_id",
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "unique_email_template_name"
        },
        "email_templates_org_id_slug_version_key": {
          "columns": [
            "org_id",
            "slug",
            "version"
          ],
          "nullsNotDistinct": false,
          "name": "email_templates_org_id_slug_version_key"
        }
      },
      "checkConstraints": {
        "email_templates_category_check": {
          "name": "email_templates_category_check",
          "value": "category = ANY (ARRAY['user'::text, 'candidate'::text, 'client'::text, 'internal'::text, 'system'::text, 'marketing'::text])"
        },
        "email_templates_status_check": {
          "name": "email_templates_status_check",
          "value": "status = ANY (ARRAY['draft'::text, 'active'::text, 'disabled'::text, 'archived'::text])"
        }
      },
      "policies": {
        "Only admins can create email templates": {
          "name": "Only admins can create email templates",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "user_is_admin()"
        },
        "Only admins can update email templates": {
          "name": "Only admins can update email templates",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Users can view email templates in their org": {
          "name": "Users can view email templates in their org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "email_templates_org_isolation": {
          "name": "email_templates_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.email_sends": {
      "name": "email_sends",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_email": {
          "name": "recipient_email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_name": {
          "name": "recipient_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "from_email": {
          "name": "from_email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "from_name": {
          "name": "from_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "resend_id": {
          "name": "resend_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "variables_data": {
          "name": "variables_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "opened_at": {
          "name": "opened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "clicked_at": {
          "name": "clicked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "bounced_at": {
          "name": "bounced_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_email_sends_org": {
          "name": "idx_email_sends_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_sends_recipient": {
          "name": "idx_email_sends_recipient",
          "columns": [
            {
              "expression": "recipient_email",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_sends_status": {
          "name": "idx_email_sends_status",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_sends_template": {
          "name": "idx_email_sends_template",
          "columns": [
            {
              "expression": "template_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "email_sends_created_by_fkey": {
          "name": "email_sends_created_by_fkey",
          "tableFrom": "email_sends",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "email_sends_org_id_fkey": {
          "name": "email_sends_org_id_fkey",
          "tableFrom": "email_sends",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "email_sends_template_id_fkey": {
          "name": "email_sends_template_id_fkey",
          "tableFrom": "email_sends",
          "tableTo": "email_templates",
          "schemaTo": "public",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "email_sends_status_check": {
          "name": "email_sends_status_check",
          "value": "status = ANY (ARRAY['queued'::text, 'sent'::text, 'delivered'::text, 'opened'::text, 'clicked'::text, 'bounced'::text, 'failed'::text, 'spam'::text])"
        },
        "email_sends_triggered_by_check": {
          "name": "email_sends_triggered_by_check",
          "value": "triggered_by = ANY (ARRAY['workflow'::text, 'manual'::text, 'system'::text, 'test'::text])"
        }
      },
      "policies": {
        "email_sends_org_isolation": {
          "name": "email_sends_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())))"
        }
      },
      "isRLSEnabled": true
    },
    "public.email_senders": {
      "name": "email_senders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_email_senders_org": {
          "name": "idx_email_senders_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "email_senders_created_by_fkey": {
          "name": "email_senders_created_by_fkey",
          "tableFrom": "email_senders",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "email_senders_org_id_fkey": {
          "name": "email_senders_org_id_fkey",
          "tableFrom": "email_senders",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "email_senders_org_id_email_key": {
          "columns": [
            "org_id",
            "email"
          ],
          "nullsNotDistinct": false,
          "name": "email_senders_org_id_email_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "email_senders_org_isolation": {
          "name": "email_senders_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())))"
        }
      },
      "isRLSEnabled": true
    },
    "public.incidents": {
      "name": "incidents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "incident_number": {
          "name": "incident_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "impact": {
          "name": "impact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "root_cause": {
          "name": "root_cause",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolution": {
          "name": "resolution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "incident_commander": {
          "name": "incident_commander",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_incidents_org": {
          "name": "idx_incidents_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_incidents_org_created": {
          "name": "idx_incidents_org_created",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_incidents_org_status": {
          "name": "idx_incidents_org_status",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_incidents_severity": {
          "name": "idx_incidents_severity",
          "columns": [
            {
              "expression": "severity",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_incidents_started": {
          "name": "idx_incidents_started",
          "columns": [
            {
              "expression": "started_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_incidents_status": {
          "name": "idx_incidents_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "incidents_created_by_fkey": {
          "name": "incidents_created_by_fkey",
          "tableFrom": "incidents",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "incidents_incident_commander_fkey": {
          "name": "incidents_incident_commander_fkey",
          "tableFrom": "incidents",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "incident_commander"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "incidents_org_id_fkey": {
          "name": "incidents_org_id_fkey",
          "tableFrom": "incidents",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "incidents_updated_by_fkey": {
          "name": "incidents_updated_by_fkey",
          "tableFrom": "incidents",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "incidents_org_id_incident_number_key": {
          "columns": [
            "org_id",
            "incident_number"
          ],
          "nullsNotDistinct": false,
          "name": "incidents_org_id_incident_number_key"
        }
      },
      "checkConstraints": {
        "incidents_severity_check": {
          "name": "incidents_severity_check",
          "value": "severity = ANY (ARRAY['P0'::text, 'P1'::text, 'P2'::text, 'P3'::text])"
        },
        "incidents_status_check": {
          "name": "incidents_status_check",
          "value": "status = ANY (ARRAY['open'::text, 'investigating'::text, 'identified'::text, 'monitoring'::text, 'resolved'::text])"
        }
      },
      "policies": {
        "incidents_org_isolation": {
          "name": "incidents_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())))"
        }
      },
      "isRLSEnabled": true
    },
    "public.incident_timeline": {
      "name": "incident_timeline",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "incident_id": {
          "name": "incident_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "performed_by": {
          "name": "performed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_incident_timeline_created": {
          "name": "idx_incident_timeline_created",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_incident_timeline_incident": {
          "name": "idx_incident_timeline_incident",
          "columns": [
            {
              "expression": "incident_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_incident_timeline_org": {
          "name": "idx_incident_timeline_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "incident_timeline_incident_id_fkey": {
          "name": "incident_timeline_incident_id_fkey",
          "tableFrom": "incident_timeline",
          "tableTo": "incidents",
          "schemaTo": "public",
          "columnsFrom": [
            "incident_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "incident_timeline_org_id_fkey": {
          "name": "incident_timeline_org_id_fkey",
          "tableFrom": "incident_timeline",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "incident_timeline_performed_by_fkey": {
          "name": "incident_timeline_performed_by_fkey",
          "tableFrom": "incident_timeline",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "performed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "incident_timeline_event_type_check": {
          "name": "incident_timeline_event_type_check",
          "value": "event_type = ANY (ARRAY['detection'::text, 'notification'::text, 'escalation'::text, 'action'::text, 'update'::text, 'resolution'::text])"
        }
      },
      "policies": {
        "incident_timeline_org_isolation": {
          "name": "incident_timeline_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())))"
        }
      },
      "isRLSEnabled": true
    },
    "public.incident_notifications": {
      "name": "incident_notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "incident_id": {
          "name": "incident_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "notification_type": {
          "name": "notification_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recipient": {
          "name": "recipient",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sent_by": {
          "name": "sent_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_incident_notifications_incident": {
          "name": "idx_incident_notifications_incident",
          "columns": [
            {
              "expression": "incident_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_incident_notifications_org": {
          "name": "idx_incident_notifications_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_incident_notifications_status": {
          "name": "idx_incident_notifications_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "incident_notifications_incident_id_fkey": {
          "name": "incident_notifications_incident_id_fkey",
          "tableFrom": "incident_notifications",
          "tableTo": "incidents",
          "schemaTo": "public",
          "columnsFrom": [
            "incident_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "incident_notifications_org_id_fkey": {
          "name": "incident_notifications_org_id_fkey",
          "tableFrom": "incident_notifications",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "incident_notifications_sent_by_fkey": {
          "name": "incident_notifications_sent_by_fkey",
          "tableFrom": "incident_notifications",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "sent_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "incident_notifications_notification_type_check": {
          "name": "incident_notifications_notification_type_check",
          "value": "notification_type = ANY (ARRAY['email'::text, 'sms'::text, 'slack'::text, 'status_page'::text, 'in_app'::text])"
        },
        "incident_notifications_status_check": {
          "name": "incident_notifications_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'sent'::text, 'delivered'::text, 'failed'::text])"
        }
      },
      "policies": {
        "incident_notifications_org_isolation": {
          "name": "incident_notifications_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())))"
        }
      },
      "isRLSEnabled": true
    },
    "public.break_glass_access": {
      "name": "break_glass_access",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "accessed_by": {
          "name": "accessed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "incident_id": {
          "name": "incident_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "authorized_by": {
          "name": "authorized_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "actions_taken": {
          "name": "actions_taken",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "accessed_at": {
          "name": "accessed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_break_glass_accessed": {
          "name": "idx_break_glass_accessed",
          "columns": [
            {
              "expression": "accessed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_break_glass_org": {
          "name": "idx_break_glass_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_break_glass_user": {
          "name": "idx_break_glass_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "break_glass_access_incident_id_fkey": {
          "name": "break_glass_access_incident_id_fkey",
          "tableFrom": "break_glass_access",
          "tableTo": "incidents",
          "schemaTo": "public",
          "columnsFrom": [
            "incident_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "break_glass_access_org_id_fkey": {
          "name": "break_glass_access_org_id_fkey",
          "tableFrom": "break_glass_access",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "break_glass_access_user_id_fkey": {
          "name": "break_glass_access_user_id_fkey",
          "tableFrom": "break_glass_access",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "break_glass_access_org_isolation": {
          "name": "break_glass_access_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())))"
        }
      },
      "isRLSEnabled": true
    },
    "public.emergency_drills": {
      "name": "emergency_drills",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "drill_type": {
          "name": "drill_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scenario": {
          "name": "scenario",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "participants": {
          "name": "participants",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'scheduled'"
        },
        "findings": {
          "name": "findings",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action_items": {
          "name": "action_items",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_emergency_drills_org": {
          "name": "idx_emergency_drills_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_emergency_drills_scheduled": {
          "name": "idx_emergency_drills_scheduled",
          "columns": [
            {
              "expression": "scheduled_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_emergency_drills_status": {
          "name": "idx_emergency_drills_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_emergency_drills_type": {
          "name": "idx_emergency_drills_type",
          "columns": [
            {
              "expression": "drill_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "emergency_drills_created_by_fkey": {
          "name": "emergency_drills_created_by_fkey",
          "tableFrom": "emergency_drills",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "emergency_drills_org_id_fkey": {
          "name": "emergency_drills_org_id_fkey",
          "tableFrom": "emergency_drills",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "emergency_drills_updated_by_fkey": {
          "name": "emergency_drills_updated_by_fkey",
          "tableFrom": "emergency_drills",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "emergency_drills_drill_type_check": {
          "name": "emergency_drills_drill_type_check",
          "value": "drill_type = ANY (ARRAY['tabletop'::text, 'simulated_outage'::text, 'security_breach'::text, 'backup_restore'::text])"
        },
        "emergency_drills_status_check": {
          "name": "emergency_drills_status_check",
          "value": "status = ANY (ARRAY['scheduled'::text, 'in_progress'::text, 'completed'::text, 'cancelled'::text])"
        }
      },
      "policies": {
        "emergency_drills_org_isolation": {
          "name": "emergency_drills_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())))"
        }
      },
      "isRLSEnabled": true
    },
    "public.sla_definitions": {
      "name": "sla_definitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "sla_name": {
          "name": "sla_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sla_code": {
          "name": "sla_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "activity_type": {
          "name": "activity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "activity_category": {
          "name": "activity_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_hours": {
          "name": "target_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "warning_hours": {
          "name": "warning_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "critical_hours": {
          "name": "critical_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "use_business_hours": {
          "name": "use_business_hours",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "business_hours_start": {
          "name": "business_hours_start",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'09:00'"
        },
        "business_hours_end": {
          "name": "business_hours_end",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'17:00'"
        },
        "escalate_on_breach": {
          "name": "escalate_on_breach",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "escalate_to_user_id": {
          "name": "escalate_to_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "escalate_to_group_id": {
          "name": "escalate_to_group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_event": {
          "name": "start_event",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "end_event": {
          "name": "end_event",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_value": {
          "name": "target_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_unit": {
          "name": "target_unit",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'business_hours'"
        },
        "conditions": {
          "name": "conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "pause_on_hold": {
          "name": "pause_on_hold",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "apply_retroactive": {
          "name": "apply_retroactive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {
        "idx_sla_definitions_status": {
          "name": "idx_sla_definitions_status",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sla_definitions_escalate_to_group_id_fkey": {
          "name": "sla_definitions_escalate_to_group_id_fkey",
          "tableFrom": "sla_definitions",
          "tableTo": "pods",
          "schemaTo": "public",
          "columnsFrom": [
            "escalate_to_group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_definitions_escalate_to_user_id_fkey": {
          "name": "sla_definitions_escalate_to_user_id_fkey",
          "tableFrom": "sla_definitions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "escalate_to_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_definitions_org_id_fkey": {
          "name": "sla_definitions_org_id_fkey",
          "tableFrom": "sla_definitions",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sla_definitions_org_id_sla_code_key": {
          "columns": [
            "org_id",
            "sla_code"
          ],
          "nullsNotDistinct": false,
          "name": "sla_definitions_org_id_sla_code_key"
        }
      },
      "checkConstraints": {
        "sla_definitions_status_check": {
          "name": "sla_definitions_status_check",
          "value": "(status IS NULL) OR (status = ANY (ARRAY['draft'::text, 'active'::text, 'disabled'::text]))"
        },
        "sla_definitions_target_unit_check": {
          "name": "sla_definitions_target_unit_check",
          "value": "(target_unit IS NULL) OR (target_unit = ANY (ARRAY['minutes'::text, 'hours'::text, 'business_hours'::text, 'days'::text, 'business_days'::text, 'weeks'::text]))"
        }
      },
      "policies": {
        "sla_definitions_org_isolation": {
          "name": "sla_definitions_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id IS NULL) OR (org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid()))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.sla_escalation_levels": {
      "name": "sla_escalation_levels",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "sla_definition_id": {
          "name": "sla_definition_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "level_number": {
          "name": "level_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "level_name": {
          "name": "level_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_percentage": {
          "name": "trigger_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "notify_email": {
          "name": "notify_email",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "notify_slack": {
          "name": "notify_slack",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notify_sms": {
          "name": "notify_sms",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "email_recipients": {
          "name": "email_recipients",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "slack_channel": {
          "name": "slack_channel",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sms_recipients": {
          "name": "sms_recipients",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "show_badge": {
          "name": "show_badge",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "badge_color": {
          "name": "badge_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'yellow'"
        },
        "add_to_report": {
          "name": "add_to_report",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "add_to_dashboard": {
          "name": "add_to_dashboard",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "create_task": {
          "name": "create_task",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "task_assignee": {
          "name": "task_assignee",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "escalate_ownership": {
          "name": "escalate_ownership",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "escalate_to": {
          "name": "escalate_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "block_actions": {
          "name": "block_actions",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "require_resolution_notes": {
          "name": "require_resolution_notes",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "flag_for_review": {
          "name": "flag_for_review",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_sla_escalation_levels_definition": {
          "name": "idx_sla_escalation_levels_definition",
          "columns": [
            {
              "expression": "sla_definition_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sla_escalation_levels_sla_definition_id_fkey": {
          "name": "sla_escalation_levels_sla_definition_id_fkey",
          "tableFrom": "sla_escalation_levels",
          "tableTo": "sla_definitions",
          "schemaTo": "public",
          "columnsFrom": [
            "sla_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sla_escalation_levels_sla_definition_id_level_number_key": {
          "columns": [
            "sla_definition_id",
            "level_number"
          ],
          "nullsNotDistinct": false,
          "name": "sla_escalation_levels_sla_definition_id_level_number_key"
        }
      },
      "checkConstraints": {
        "sla_escalation_levels_level_number_check": {
          "name": "sla_escalation_levels_level_number_check",
          "value": "(level_number >= 1) AND (level_number <= 10)"
        },
        "sla_escalation_levels_trigger_percentage_check": {
          "name": "sla_escalation_levels_trigger_percentage_check",
          "value": "(trigger_percentage >= 1) AND (trigger_percentage <= 500)"
        }
      },
      "policies": {
        "sla_escalation_levels_org_isolation": {
          "name": "sla_escalation_levels_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(sla_definition_id IN ( SELECT sla_definitions.id\n   FROM sla_definitions\n  WHERE (sla_definitions.org_id = COALESCE((current_setting('app.current_org_id'::text, true))::uuid, ((auth.jwt() ->> 'org_id'::text))::uuid))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.sla_events": {
      "name": "sla_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sla_definition_id": {
          "name": "sla_definition_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "target_deadline": {
          "name": "target_deadline",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "elapsed_minutes": {
          "name": "elapsed_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "current_percentage": {
          "name": "current_percentage",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "current_level": {
          "name": "current_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "met_at": {
          "name": "met_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_notes": {
          "name": "resolution_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_sla_events_active": {
          "name": "idx_sla_events_active",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = ANY (ARRAY['pending'::text, 'warning'::text, 'breach'::text]))",
          "with": {}
        },
        "idx_sla_events_deadline": {
          "name": "idx_sla_events_deadline",
          "columns": [
            {
              "expression": "target_deadline",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = 'pending'::text)",
          "with": {}
        },
        "idx_sla_events_entity": {
          "name": "idx_sla_events_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sla_events_org_status": {
          "name": "idx_sla_events_org_status",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sla_events_org_id_fkey": {
          "name": "sla_events_org_id_fkey",
          "tableFrom": "sla_events",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "sla_events_resolved_by_fkey": {
          "name": "sla_events_resolved_by_fkey",
          "tableFrom": "sla_events",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "resolved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_events_sla_definition_id_fkey": {
          "name": "sla_events_sla_definition_id_fkey",
          "tableFrom": "sla_events",
          "tableTo": "sla_definitions",
          "schemaTo": "public",
          "columnsFrom": [
            "sla_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sla_events_sla_definition_id_entity_type_entity_id_key": {
          "columns": [
            "sla_definition_id",
            "entity_type",
            "entity_id"
          ],
          "nullsNotDistinct": false,
          "name": "sla_events_sla_definition_id_entity_type_entity_id_key"
        }
      },
      "checkConstraints": {
        "sla_events_status_check": {
          "name": "sla_events_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'warning'::text, 'breach'::text, 'critical'::text, 'met'::text, 'cancelled'::text])"
        }
      },
      "policies": {
        "sla_events_org_isolation": {
          "name": "sla_events_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = COALESCE((current_setting('app.current_org_id'::text, true))::uuid, ((auth.jwt() ->> 'org_id'::text))::uuid))"
        }
      },
      "isRLSEnabled": true
    },
    "public.sla_notifications": {
      "name": "sla_notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "sla_event_id": {
          "name": "sla_event_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "escalation_level": {
          "name": "escalation_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "notification_type": {
          "name": "notification_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recipients": {
          "name": "recipients",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_message_id": {
          "name": "external_message_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_sla_notifications_event_level": {
          "name": "idx_sla_notifications_event_level",
          "columns": [
            {
              "expression": "sla_event_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "escalation_level",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "notification_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sla_notifications_sla_event_id_fkey": {
          "name": "sla_notifications_sla_event_id_fkey",
          "tableFrom": "sla_notifications",
          "tableTo": "sla_events",
          "schemaTo": "public",
          "columnsFrom": [
            "sla_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "sla_notifications_notification_type_check": {
          "name": "sla_notifications_notification_type_check",
          "value": "notification_type = ANY (ARRAY['email'::text, 'slack'::text, 'sms'::text, 'in_app'::text])"
        }
      },
      "policies": {
        "sla_notifications_org_isolation": {
          "name": "sla_notifications_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(sla_event_id IN ( SELECT sla_events.id\n   FROM sla_events\n  WHERE (sla_events.org_id = COALESCE((current_setting('app.current_org_id'::text, true))::uuid, ((auth.jwt() ->> 'org_id'::text))::uuid))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.sla_scheduled_runs": {
      "name": "sla_scheduled_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "last_run_at": {
          "name": "last_run_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "rules_checked": {
          "name": "rules_checked",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "events_updated": {
          "name": "events_updated",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "notifications_sent": {
          "name": "notifications_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "errors": {
          "name": "errors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "run_duration_ms": {
          "name": "run_duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.contacts": {
      "name": "contacts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mobile": {
          "name": "mobile",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "linkedin_url": {
          "name": "linkedin_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'America/New_York'"
        },
        "preferred_contact_method": {
          "name": "preferred_contact_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'email'"
        },
        "best_time_to_contact": {
          "name": "best_time_to_contact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "do_not_call_before": {
          "name": "do_not_call_before",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "do_not_call_after": {
          "name": "do_not_call_after",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_detail": {
          "name": "source_detail",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_campaign_id": {
          "name": "source_campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_profile_id": {
          "name": "user_profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "last_contacted_at": {
          "name": "last_contacted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_response_at": {
          "name": "last_response_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "total_interactions": {
          "name": "total_interactions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "engagement_score": {
          "name": "engagement_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "twitter_url": {
          "name": "twitter_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "github_url": {
          "name": "github_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decision_authority": {
          "name": "decision_authority",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "buying_role": {
          "name": "buying_role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "influence_level": {
          "name": "influence_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "internal_notes": {
          "name": "internal_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_id": {
          "name": "owner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "search_vector": {
          "name": "search_vector",
          "type": "tsvector",
          "primaryKey": false,
          "notNull": false
        },
        "relationship_notes": {
          "name": "relationship_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "marketing_emails_opt_in": {
          "name": "marketing_emails_opt_in",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "newsletter_opt_in": {
          "name": "newsletter_opt_in",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "product_updates_opt_in": {
          "name": "product_updates_opt_in",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "do_not_call": {
          "name": "do_not_call",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "preferred_meeting_platform": {
          "name": "preferred_meeting_platform",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meeting_duration": {
          "name": "meeting_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "communication_frequency": {
          "name": "communication_frequency",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "types": {
          "name": "types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "subtype": {
          "name": "subtype",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'general'"
        },
        "candidate_status": {
          "name": "candidate_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_resume_url": {
          "name": "candidate_resume_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_skills": {
          "name": "candidate_skills",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_experience_years": {
          "name": "candidate_experience_years",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_current_visa": {
          "name": "candidate_current_visa",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_visa_expiry": {
          "name": "candidate_visa_expiry",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_hourly_rate": {
          "name": "candidate_hourly_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_bench_start_date": {
          "name": "candidate_bench_start_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_availability": {
          "name": "candidate_availability",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_willing_to_relocate": {
          "name": "candidate_willing_to_relocate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "candidate_preferred_locations": {
          "name": "candidate_preferred_locations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_current_employment_status": {
          "name": "candidate_current_employment_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_notice_period_days": {
          "name": "candidate_notice_period_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_earliest_start_date": {
          "name": "candidate_earliest_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_preferred_employment_type": {
          "name": "candidate_preferred_employment_type",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_desired_salary_annual": {
          "name": "candidate_desired_salary_annual",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_desired_salary_currency": {
          "name": "candidate_desired_salary_currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "candidate_minimum_hourly_rate": {
          "name": "candidate_minimum_hourly_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_minimum_annual_salary": {
          "name": "candidate_minimum_annual_salary",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_benefits_required": {
          "name": "candidate_benefits_required",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_compensation_notes": {
          "name": "candidate_compensation_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_professional_headline": {
          "name": "candidate_professional_headline",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_professional_summary": {
          "name": "candidate_professional_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_career_objectives": {
          "name": "candidate_career_objectives",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_recruiter_rating": {
          "name": "candidate_recruiter_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_recruiter_rating_notes": {
          "name": "candidate_recruiter_rating_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_profile_completeness_score": {
          "name": "candidate_profile_completeness_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "candidate_is_on_hotlist": {
          "name": "candidate_is_on_hotlist",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "candidate_hotlist_added_at": {
          "name": "candidate_hotlist_added_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_hotlist_notes": {
          "name": "candidate_hotlist_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_id": {
          "name": "employee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "employee_department": {
          "name": "employee_department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_hire_date": {
          "name": "employee_hire_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "employee_position": {
          "name": "employee_position",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_status": {
          "name": "employee_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_status": {
          "name": "lead_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_score": {
          "name": "lead_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "lead_source": {
          "name": "lead_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_estimated_value": {
          "name": "lead_estimated_value",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "lead_converted_to_deal_id": {
          "name": "lead_converted_to_deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "lead_converted_to_account_id": {
          "name": "lead_converted_to_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "lead_converted_at": {
          "name": "lead_converted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "lead_lost_reason": {
          "name": "lead_lost_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_bant_budget": {
          "name": "lead_bant_budget",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "lead_bant_authority": {
          "name": "lead_bant_authority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "lead_bant_need": {
          "name": "lead_bant_need",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "lead_bant_timeline": {
          "name": "lead_bant_timeline",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "lead_bant_budget_notes": {
          "name": "lead_bant_budget_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_bant_authority_notes": {
          "name": "lead_bant_authority_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_bant_need_notes": {
          "name": "lead_bant_need_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_bant_timeline_notes": {
          "name": "lead_bant_timeline_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_bant_total_score": {
          "name": "lead_bant_total_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "(((COALESCE(lead_bant_budget, 0) + COALESCE(lead_bant_authority, 0)) + COALESCE(lead_bant_need, 0)) + COALESCE(lead_bant_timeline, 0))",
            "type": "stored"
          }
        },
        "lead_budget_status": {
          "name": "lead_budget_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_estimated_monthly_spend": {
          "name": "lead_estimated_monthly_spend",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "lead_authority_level": {
          "name": "lead_authority_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_business_need": {
          "name": "lead_business_need",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_urgency": {
          "name": "lead_urgency",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_target_start_date": {
          "name": "lead_target_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "lead_positions_count": {
          "name": "lead_positions_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "lead_skills_needed": {
          "name": "lead_skills_needed",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "lead_contract_types": {
          "name": "lead_contract_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "lead_qualification_result": {
          "name": "lead_qualification_result",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_qualification_notes": {
          "name": "lead_qualification_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_qualified_at": {
          "name": "lead_qualified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "lead_qualified_by": {
          "name": "lead_qualified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "lead_interest_level": {
          "name": "lead_interest_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_hiring_needs": {
          "name": "lead_hiring_needs",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_pain_points": {
          "name": "lead_pain_points",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_next_action": {
          "name": "lead_next_action",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_next_action_date": {
          "name": "lead_next_action_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "prospect_primary_campaign_id": {
          "name": "prospect_primary_campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "prospect_current_sequence_step": {
          "name": "prospect_current_sequence_step",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "prospect_sequence_status": {
          "name": "prospect_sequence_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "prospect_converted_to_lead_at": {
          "name": "prospect_converted_to_lead_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "prospect_first_contacted_at": {
          "name": "prospect_first_contacted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "prospect_responded_at": {
          "name": "prospect_responded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "prospect_response_type": {
          "name": "prospect_response_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "auth_id": {
          "name": "auth_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "gender": {
          "name": "gender",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "nationality": {
          "name": "nationality",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "languages": {
          "name": "languages",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "middle_name": {
          "name": "middle_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_name": {
          "name": "preferred_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone_home": {
          "name": "phone_home",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone_work": {
          "name": "phone_work",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_secondary": {
          "name": "email_secondary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact_name": {
          "name": "emergency_contact_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact_relationship": {
          "name": "emergency_contact_relationship",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact_phone": {
          "name": "emergency_contact_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emergency_contact_email": {
          "name": "emergency_contact_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "portfolio_url": {
          "name": "portfolio_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "personal_website": {
          "name": "personal_website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "do_not_email": {
          "name": "do_not_email",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "do_not_text": {
          "name": "do_not_text",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "last_activity_date": {
          "name": "last_activity_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_contacted_by": {
          "name": "last_contacted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "contact_status": {
          "name": "contact_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "primary_address_id": {
          "name": "primary_address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "suffix": {
          "name": "suffix",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pronouns": {
          "name": "pronouns",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "photo_url": {
          "name": "photo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_email": {
          "name": "secondary_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "work_email": {
          "name": "work_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "work_phone": {
          "name": "work_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "home_phone": {
          "name": "home_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_company_id": {
          "name": "current_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "current_title": {
          "name": "current_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_department": {
          "name": "current_department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "language": {
          "name": "language",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'en'"
        },
        "bench_type": {
          "name": "bench_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bench_status": {
          "name": "bench_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bench_vendor_id": {
          "name": "bench_vendor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "bench_vendor_contact_id": {
          "name": "bench_vendor_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "bench_start_date": {
          "name": "bench_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "bench_target_end_date": {
          "name": "bench_target_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "bench_max_bench_days": {
          "name": "bench_max_bench_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "bench_bill_rate": {
          "name": "bench_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "bench_pay_rate": {
          "name": "bench_pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "bench_markup_percentage": {
          "name": "bench_markup_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "bench_cost_per_day": {
          "name": "bench_cost_per_day",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "bench_total_placements": {
          "name": "bench_total_placements",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "bench_last_placement_end": {
          "name": "bench_last_placement_end",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "bench_utilization_rate": {
          "name": "bench_utilization_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "placed_status": {
          "name": "placed_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "placed_client_id": {
          "name": "placed_client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "placed_job_id": {
          "name": "placed_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "placed_start_date": {
          "name": "placed_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "placed_end_date": {
          "name": "placed_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "placed_extension_count": {
          "name": "placed_extension_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "client_contact_company_id": {
          "name": "client_contact_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_contact_role": {
          "name": "client_contact_role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_contact_decision_authority": {
          "name": "client_contact_decision_authority",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "client_contact_budget_authority": {
          "name": "client_contact_budget_authority",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "client_contact_contract_signer": {
          "name": "client_contact_contract_signer",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "client_contact_relationship_strength": {
          "name": "client_contact_relationship_strength",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "client_contact_relationship_owner_id": {
          "name": "client_contact_relationship_owner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_contact_first_meeting_date": {
          "name": "client_contact_first_meeting_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "client_contact_last_meeting_date": {
          "name": "client_contact_last_meeting_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "client_contact_meeting_cadence": {
          "name": "client_contact_meeting_cadence",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_contact_preferred_vendors": {
          "name": "client_contact_preferred_vendors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "client_contact_hiring_style": {
          "name": "client_contact_hiring_style",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_contact_interview_style": {
          "name": "client_contact_interview_style",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_contact_company_id": {
          "name": "vendor_contact_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_contact_role": {
          "name": "vendor_contact_role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_contact_specialty_areas": {
          "name": "vendor_contact_specialty_areas",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_contact_response_rating": {
          "name": "vendor_contact_response_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_contact_quality_rating": {
          "name": "vendor_contact_quality_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "referral_source_type": {
          "name": "referral_source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "referral_total_referrals": {
          "name": "referral_total_referrals",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "referral_successful_placements": {
          "name": "referral_successful_placements",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "referral_success_rate": {
          "name": "referral_success_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "referral_fee_percentage": {
          "name": "referral_fee_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "referral_last_referral_date": {
          "name": "referral_last_referral_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "alumni_former_employee_id": {
          "name": "alumni_former_employee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "alumni_departure_date": {
          "name": "alumni_departure_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "alumni_departure_reason": {
          "name": "alumni_departure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "alumni_rehire_eligible": {
          "name": "alumni_rehire_eligible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "alumni_current_employer": {
          "name": "alumni_current_employer",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "alumni_last_contact_date": {
          "name": "alumni_last_contact_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_hotlist_added_by": {
          "name": "candidate_hotlist_added_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_hotlist_reason": {
          "name": "candidate_hotlist_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_priority": {
          "name": "candidate_priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "candidate_do_not_submit_to": {
          "name": "candidate_do_not_submit_to",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_remote_preference": {
          "name": "candidate_remote_preference",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_years_experience": {
          "name": "candidate_years_experience",
          "type": "numeric(4, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_cover_letter_url": {
          "name": "candidate_cover_letter_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_resume_updated_at": {
          "name": "candidate_resume_updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "lead_converted_to_type": {
          "name": "lead_converted_to_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_converted_to_id": {
          "name": "lead_converted_to_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "company_name_legal": {
          "name": "company_name_legal",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_dba_name": {
          "name": "company_dba_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_trade_names": {
          "name": "company_trade_names",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "company_type": {
          "name": "company_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_structure": {
          "name": "company_structure",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "industry_id": {
          "name": "industry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "industry_secondary_id": {
          "name": "industry_secondary_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "naics_code": {
          "name": "naics_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sic_code": {
          "name": "sic_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_count": {
          "name": "employee_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "employee_count_range": {
          "name": "employee_count_range",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "annual_revenue": {
          "name": "annual_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "annual_revenue_range": {
          "name": "annual_revenue_range",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "founded_year": {
          "name": "founded_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "website_url": {
          "name": "website_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_linkedin_url": {
          "name": "company_linkedin_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_twitter_url": {
          "name": "company_twitter_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_description": {
          "name": "company_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_company_id": {
          "name": "parent_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "ultimate_parent_id": {
          "name": "ultimate_parent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "subsidiary_count": {
          "name": "subsidiary_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "ein_tax_id_encrypted": {
          "name": "ein_tax_id_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "duns_number": {
          "name": "duns_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "registration_state": {
          "name": "registration_state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "registration_country": {
          "name": "registration_country",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'US'"
        },
        "company_lead_estimated_annual_value": {
          "name": "company_lead_estimated_annual_value",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "company_lead_estimated_positions_per_year": {
          "name": "company_lead_estimated_positions_per_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "company_lead_primary_hiring_needs": {
          "name": "company_lead_primary_hiring_needs",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "client_status": {
          "name": "client_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_tier": {
          "name": "client_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_segment": {
          "name": "client_segment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_prospect_date": {
          "name": "client_prospect_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "client_converted_date": {
          "name": "client_converted_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "client_first_placement_date": {
          "name": "client_first_placement_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "client_last_active_date": {
          "name": "client_last_active_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "client_dormant_since": {
          "name": "client_dormant_since",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "client_churned_date": {
          "name": "client_churned_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "client_churn_reason": {
          "name": "client_churn_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_contract_type": {
          "name": "client_contract_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_contract_start_date": {
          "name": "client_contract_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "client_contract_end_date": {
          "name": "client_contract_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "client_contract_auto_renew": {
          "name": "client_contract_auto_renew",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "client_contract_url": {
          "name": "client_contract_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_payment_terms": {
          "name": "client_payment_terms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "client_credit_limit": {
          "name": "client_credit_limit",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "client_credit_status": {
          "name": "client_credit_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_default_markup": {
          "name": "client_default_markup",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "client_default_bill_rate": {
          "name": "client_default_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "client_uses_vms": {
          "name": "client_uses_vms",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "client_vms_system": {
          "name": "client_vms_system",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_vms_supplier_id": {
          "name": "client_vms_supplier_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_msp_id": {
          "name": "client_msp_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_team_lead_id": {
          "name": "client_team_lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_recruiter_ids": {
          "name": "client_recruiter_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "client_open_positions_count": {
          "name": "client_open_positions_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "client_active_placements_count": {
          "name": "client_active_placements_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "client_total_placements_count": {
          "name": "client_total_placements_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "client_lifetime_revenue": {
          "name": "client_lifetime_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "vendor_status": {
          "name": "vendor_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_tier": {
          "name": "vendor_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_type": {
          "name": "vendor_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_specialty_areas": {
          "name": "vendor_specialty_areas",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_geographic_coverage": {
          "name": "vendor_geographic_coverage",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_resource_types": {
          "name": "vendor_resource_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_payment_terms": {
          "name": "vendor_payment_terms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "vendor_default_markup": {
          "name": "vendor_default_markup",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_referral_fee_percentage": {
          "name": "vendor_referral_fee_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_approved_date": {
          "name": "vendor_approved_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_approved_by": {
          "name": "vendor_approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_last_review_date": {
          "name": "vendor_last_review_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_next_review_date": {
          "name": "vendor_next_review_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_insurance_verified": {
          "name": "vendor_insurance_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "vendor_insurance_expiry_date": {
          "name": "vendor_insurance_expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_w9_on_file": {
          "name": "vendor_w9_on_file",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "vendor_w9_received_date": {
          "name": "vendor_w9_received_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_compliance_status": {
          "name": "vendor_compliance_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_background_check_compliant": {
          "name": "vendor_background_check_compliant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "vendor_drug_test_compliant": {
          "name": "vendor_drug_test_compliant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "vendor_quality_rating": {
          "name": "vendor_quality_rating",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_response_rating": {
          "name": "vendor_response_rating",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_fill_rate": {
          "name": "vendor_fill_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_submissions_count": {
          "name": "vendor_submissions_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "vendor_placements_count": {
          "name": "vendor_placements_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "vendor_active_resources_count": {
          "name": "vendor_active_resources_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "msp_program_name": {
          "name": "msp_program_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "msp_managed_clients": {
          "name": "msp_managed_clients",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "msp_our_tier_status": {
          "name": "msp_our_tier_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "msp_contract_start_date": {
          "name": "msp_contract_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "msp_contract_end_date": {
          "name": "msp_contract_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "msp_fee_percentage": {
          "name": "msp_fee_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "vms_platform_name": {
          "name": "vms_platform_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vms_integration_status": {
          "name": "vms_integration_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "agency_relationship": {
          "name": "agency_relationship",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "agency_partnership_type": {
          "name": "agency_partnership_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "agency_partnership_agreement": {
          "name": "agency_partnership_agreement",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "agency_do_not_recruit_from": {
          "name": "agency_do_not_recruit_from",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "agency_specialty_areas": {
          "name": "agency_specialty_areas",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "agency_geographic_focus": {
          "name": "agency_geographic_focus",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "linked_company_id": {
          "name": "linked_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_company_id": {
          "name": "vendor_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "source_company_id": {
          "name": "source_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "employer_company_id": {
          "name": "employer_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_contacts_alumni_employee": {
          "name": "idx_contacts_alumni_employee",
          "columns": [
            {
              "expression": "alumni_former_employee_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((subtype = 'person_alumni'::text) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contacts_auth_id": {
          "name": "idx_contacts_auth_id",
          "columns": [
            {
              "expression": "auth_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(auth_id IS NOT NULL)",
          "with": {}
        },
        "idx_contacts_bench_status": {
          "name": "idx_contacts_bench_status",
          "columns": [
            {
              "expression": "bench_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((category = 'person'::text) AND (subtype ~~ 'person_bench_%'::text) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contacts_candidate_hotlist": {
          "name": "idx_contacts_candidate_hotlist",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "candidate_hotlist_added_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((subtype = 'candidate'::text) AND (candidate_is_on_hotlist = true) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contacts_candidate_skills": {
          "name": "idx_contacts_candidate_skills",
          "columns": [
            {
              "expression": "candidate_skills",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "where": "((subtype = 'candidate'::text) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contacts_candidates": {
          "name": "idx_contacts_candidates",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "candidate_status",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((subtype = 'candidate'::text) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contacts_category": {
          "name": "idx_contacts_category",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contacts_category_subtype": {
          "name": "idx_contacts_category_subtype",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "subtype",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contacts_client_contact_company": {
          "name": "idx_contacts_client_contact_company",
          "columns": [
            {
              "expression": "client_contact_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((category = 'person'::text) AND (subtype ~~ 'person_%_contact'::text) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contacts_client_msp": {
          "name": "idx_contacts_client_msp",
          "columns": [
            {
              "expression": "client_msp_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((client_msp_id IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contacts_client_tier": {
          "name": "idx_contacts_client_tier",
          "columns": [
            {
              "expression": "client_tier",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "client_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((category = 'company'::text) AND (subtype = 'company_client'::text) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contacts_company_id": {
          "name": "idx_contacts_company_id",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contacts_company_org": {
          "name": "idx_contacts_company_org",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contacts_company_subtypes": {
          "name": "idx_contacts_company_subtypes",
          "columns": [
            {
              "expression": "subtype",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((category = 'company'::text) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contacts_contact_status": {
          "name": "idx_contacts_contact_status",
          "columns": [
            {
              "expression": "contact_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contacts_current_company": {
          "name": "idx_contacts_current_company",
          "columns": [
            {
              "expression": "current_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((current_company_id IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contacts_email": {
          "name": "idx_contacts_email",
          "columns": [
            {
              "expression": "email",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contacts_employees": {
          "name": "idx_contacts_employees",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "employee_status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((subtype = 'employee'::text) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contacts_employer_company": {
          "name": "idx_contacts_employer_company",
          "columns": [
            {
              "expression": "employer_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contacts_engagement": {
          "name": "idx_contacts_engagement",
          "columns": [
            {
              "expression": "engagement_score",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contacts_lead_skills_needed": {
          "name": "idx_contacts_lead_skills_needed",
          "columns": [
            {
              "expression": "lead_skills_needed",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "where": "((subtype = 'lead'::text) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contacts_leads": {
          "name": "idx_contacts_leads",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "lead_status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "lead_score",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((subtype = 'lead'::text) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contacts_linked_company": {
          "name": "idx_contacts_linked_company",
          "columns": [
            {
              "expression": "linked_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contacts_org_id": {
          "name": "idx_contacts_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contacts_owner_id": {
          "name": "idx_contacts_owner_id",
          "columns": [
            {
              "expression": "owner_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contacts_parent_company": {
          "name": "idx_contacts_parent_company",
          "columns": [
            {
              "expression": "parent_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((parent_company_id IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contacts_placed_client": {
          "name": "idx_contacts_placed_client",
          "columns": [
            {
              "expression": "placed_client_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "placed_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((category = 'person'::text) AND (subtype = 'person_placed'::text) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contacts_primary_address": {
          "name": "idx_contacts_primary_address",
          "columns": [
            {
              "expression": "primary_address_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(primary_address_id IS NOT NULL)",
          "with": {}
        },
        "idx_contacts_primary_company": {
          "name": "idx_contacts_primary_company",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_primary",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_primary = true) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contacts_prospects": {
          "name": "idx_contacts_prospects",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "prospect_sequence_status",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "engagement_score",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((subtype = 'prospect'::text) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contacts_search": {
          "name": "idx_contacts_search",
          "columns": [
            {
              "expression": "search_vector",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_contacts_source_company": {
          "name": "idx_contacts_source_company",
          "columns": [
            {
              "expression": "source_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contacts_status": {
          "name": "idx_contacts_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contacts_subtype": {
          "name": "idx_contacts_subtype",
          "columns": [
            {
              "expression": "subtype",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contacts_types": {
          "name": "idx_contacts_types",
          "columns": [
            {
              "expression": "types",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_contacts_user_profile_id": {
          "name": "idx_contacts_user_profile_id",
          "columns": [
            {
              "expression": "user_profile_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(user_profile_id IS NOT NULL)",
          "with": {}
        },
        "idx_contacts_vendor_company": {
          "name": "idx_contacts_vendor_company",
          "columns": [
            {
              "expression": "vendor_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contacts_vendor_contact_company": {
          "name": "idx_contacts_vendor_contact_company",
          "columns": [
            {
              "expression": "vendor_contact_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((category = 'person'::text) AND (subtype = 'person_vendor_contact'::text) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contacts_vendor_status": {
          "name": "idx_contacts_vendor_status",
          "columns": [
            {
              "expression": "vendor_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "vendor_tier",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((category = 'company'::text) AND (subtype = 'company_vendor'::text) AND (deleted_at IS NULL))",
          "with": {}
        }
      },
      "foreignKeys": {
        "contacts_alumni_former_employee_id_fkey": {
          "name": "contacts_alumni_former_employee_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "employees",
          "schemaTo": "public",
          "columnsFrom": [
            "alumni_former_employee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_bench_vendor_contact_id_fkey": {
          "name": "contacts_bench_vendor_contact_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "bench_vendor_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_candidate_hotlist_added_by_fkey": {
          "name": "contacts_candidate_hotlist_added_by_fkey",
          "tableFrom": "contacts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_hotlist_added_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_client_contact_relationship_owner_id_fkey": {
          "name": "contacts_client_contact_relationship_owner_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "client_contact_relationship_owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_client_msp_id_fkey": {
          "name": "contacts_client_msp_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "client_msp_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_client_team_lead_id_fkey": {
          "name": "contacts_client_team_lead_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "client_team_lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_created_by_fkey": {
          "name": "contacts_created_by_fkey",
          "tableFrom": "contacts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_current_company_id_fkey": {
          "name": "contacts_current_company_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "current_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_employee_id_fkey": {
          "name": "contacts_employee_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "employees",
          "schemaTo": "public",
          "columnsFrom": [
            "employee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_employer_company_id_fkey": {
          "name": "contacts_employer_company_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "employer_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_lead_converted_to_deal_id_fkey": {
          "name": "contacts_lead_converted_to_deal_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "deals",
          "schemaTo": "public",
          "columnsFrom": [
            "lead_converted_to_deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_linked_company_id_fkey": {
          "name": "contacts_linked_company_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "linked_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_org_id_fkey": {
          "name": "contacts_org_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contacts_owner_id_fkey": {
          "name": "contacts_owner_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_parent_company_id_fkey": {
          "name": "contacts_parent_company_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "parent_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_primary_address_id_fkey": {
          "name": "contacts_primary_address_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "addresses",
          "schemaTo": "public",
          "columnsFrom": [
            "primary_address_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_prospect_primary_campaign_id_fkey": {
          "name": "contacts_prospect_primary_campaign_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "campaigns",
          "schemaTo": "public",
          "columnsFrom": [
            "prospect_primary_campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_source_company_id_fkey": {
          "name": "contacts_source_company_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "source_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_ultimate_parent_id_fkey": {
          "name": "contacts_ultimate_parent_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "ultimate_parent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_updated_by_fkey": {
          "name": "contacts_updated_by_fkey",
          "tableFrom": "contacts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_user_profile_id_fkey": {
          "name": "contacts_user_profile_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_vendor_approved_by_fkey": {
          "name": "contacts_vendor_approved_by_fkey",
          "tableFrom": "contacts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "vendor_approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contacts_vendor_company_id_fkey": {
          "name": "contacts_vendor_company_id_fkey",
          "tableFrom": "contacts",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "vendor_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "contacts_agency_relationship_check": {
          "name": "contacts_agency_relationship_check",
          "value": "(agency_relationship IS NULL) OR (agency_relationship = ANY (ARRAY['partner'::text, 'competitor'::text, 'both'::text]))"
        },
        "contacts_bench_type_check": {
          "name": "contacts_bench_type_check",
          "value": "(bench_type IS NULL) OR (bench_type = ANY (ARRAY['w2_internal'::text, 'w2_vendor'::text, '1099'::text, 'c2c'::text]))"
        },
        "contacts_candidate_availability_check": {
          "name": "contacts_candidate_availability_check",
          "value": "(candidate_availability IS NULL) OR (candidate_availability = ANY (ARRAY['immediate'::text, '2_weeks'::text, '1_month'::text, '2_months'::text, '3_months'::text, 'not_available'::text]))"
        },
        "contacts_candidate_remote_preference_check": {
          "name": "contacts_candidate_remote_preference_check",
          "value": "(candidate_remote_preference IS NULL) OR (candidate_remote_preference = ANY (ARRAY['remote'::text, 'hybrid'::text, 'onsite'::text, 'flexible'::text]))"
        },
        "contacts_candidate_status_check": {
          "name": "contacts_candidate_status_check",
          "value": "(candidate_status IS NULL) OR (candidate_status = ANY (ARRAY['active'::text, 'passive'::text, 'placed'::text, 'bench'::text, 'inactive'::text, 'blacklisted'::text]))"
        },
        "contacts_category_check": {
          "name": "contacts_category_check",
          "value": "category = ANY (ARRAY['person'::text, 'company'::text])"
        },
        "contacts_category_subtype_consistency": {
          "name": "contacts_category_subtype_consistency",
          "value": "((category = 'person'::text) AND (subtype ~~ 'person_%'::text)) OR ((category = 'company'::text) AND (subtype ~~ 'company_%'::text))"
        },
        "contacts_client_relationship_strength_check": {
          "name": "contacts_client_relationship_strength_check",
          "value": "(client_contact_relationship_strength IS NULL) OR ((client_contact_relationship_strength >= 1) AND (client_contact_relationship_strength <= 10))"
        },
        "contacts_client_status_check": {
          "name": "contacts_client_status_check",
          "value": "(client_status IS NULL) OR (client_status = ANY (ARRAY['active'::text, 'dormant'::text, 'former'::text, 'blacklisted'::text]))"
        },
        "contacts_client_tier_check": {
          "name": "contacts_client_tier_check",
          "value": "(client_tier IS NULL) OR (client_tier = ANY (ARRAY['enterprise'::text, 'strategic'::text, 'growth'::text, 'standard'::text, 'startup'::text]))"
        },
        "contacts_company_status_check": {
          "name": "contacts_company_status_check",
          "value": "(category <> 'company'::text) OR (contact_status = ANY (ARRAY['active'::text, 'inactive'::text, 'pending'::text, 'dormant'::text, 'former'::text, 'blacklisted'::text, 'suspended'::text]))"
        },
        "contacts_company_structure_check": {
          "name": "contacts_company_structure_check",
          "value": "(company_structure IS NULL) OR (company_structure = ANY (ARRAY['public'::text, 'private'::text, 'subsidiary'::text, 'franchise'::text]))"
        },
        "contacts_company_type_check": {
          "name": "contacts_company_type_check",
          "value": "(company_type IS NULL) OR (company_type = ANY (ARRAY['corporation'::text, 'llc'::text, 'partnership'::text, 'sole_prop'::text, 'nonprofit'::text]))"
        },
        "contacts_employee_status_check": {
          "name": "contacts_employee_status_check",
          "value": "(employee_status IS NULL) OR (employee_status = ANY (ARRAY['active'::text, 'on_leave'::text, 'terminated'::text]))"
        },
        "contacts_lead_authority_level_check": {
          "name": "contacts_lead_authority_level_check",
          "value": "(lead_authority_level IS NULL) OR (lead_authority_level = ANY (ARRAY['decision_maker'::text, 'influencer'::text, 'gatekeeper'::text, 'no_authority'::text]))"
        },
        "contacts_lead_bant_authority_check": {
          "name": "contacts_lead_bant_authority_check",
          "value": "(lead_bant_authority IS NULL) OR ((lead_bant_authority >= 0) AND (lead_bant_authority <= 25))"
        },
        "contacts_lead_bant_budget_check": {
          "name": "contacts_lead_bant_budget_check",
          "value": "(lead_bant_budget IS NULL) OR ((lead_bant_budget >= 0) AND (lead_bant_budget <= 25))"
        },
        "contacts_lead_bant_need_check": {
          "name": "contacts_lead_bant_need_check",
          "value": "(lead_bant_need IS NULL) OR ((lead_bant_need >= 0) AND (lead_bant_need <= 25))"
        },
        "contacts_lead_bant_timeline_check": {
          "name": "contacts_lead_bant_timeline_check",
          "value": "(lead_bant_timeline IS NULL) OR ((lead_bant_timeline >= 0) AND (lead_bant_timeline <= 25))"
        },
        "contacts_lead_qualification_result_check": {
          "name": "contacts_lead_qualification_result_check",
          "value": "(lead_qualification_result IS NULL) OR (lead_qualification_result = ANY (ARRAY['qualified_convert'::text, 'qualified_nurture'::text, 'not_qualified'::text]))"
        },
        "contacts_lead_score_check": {
          "name": "contacts_lead_score_check",
          "value": "(lead_score IS NULL) OR ((lead_score >= 0) AND (lead_score <= 100))"
        },
        "contacts_lead_status_check": {
          "name": "contacts_lead_status_check",
          "value": "(lead_status IS NULL) OR (lead_status = ANY (ARRAY['new'::text, 'contacted'::text, 'warm'::text, 'hot'::text, 'cold'::text, 'qualified'::text, 'unqualified'::text, 'converted'::text, 'lost'::text, 'nurture'::text]))"
        },
        "contacts_placed_status_check": {
          "name": "contacts_placed_status_check",
          "value": "(placed_status IS NULL) OR (placed_status = ANY (ARRAY['active'::text, 'ending_soon'::text, 'extended'::text, 'completed'::text]))"
        },
        "contacts_prospect_response_type_check": {
          "name": "contacts_prospect_response_type_check",
          "value": "(prospect_response_type IS NULL) OR (prospect_response_type = ANY (ARRAY['positive'::text, 'neutral'::text, 'negative'::text, 'auto_reply'::text, 'out_of_office'::text]))"
        },
        "contacts_prospect_sequence_status_check": {
          "name": "contacts_prospect_sequence_status_check",
          "value": "(prospect_sequence_status IS NULL) OR (prospect_sequence_status = ANY (ARRAY['pending'::text, 'in_progress'::text, 'paused'::text, 'completed'::text, 'stopped'::text]))"
        },
        "contacts_subtype_check": {
          "name": "contacts_subtype_check",
          "value": "subtype = ANY (ARRAY['person_prospect'::text, 'person_lead'::text, 'person_candidate'::text, 'person_bench_internal'::text, 'person_bench_vendor'::text, 'person_placed'::text, 'person_client_contact'::text, 'person_hiring_manager'::text, 'person_hr_contact'::text, 'person_vendor_contact'::text, 'person_employee'::text, 'person_referral_source'::text, 'person_alumni'::text, 'company_prospect'::text, 'company_lead'::text, 'company_client'::text, 'company_vendor'::text, 'company_msp'::text, 'company_vms'::text, 'company_end_client'::text, 'company_agency'::text, 'company_institution'::text])"
        },
        "contacts_vendor_quality_rating_check": {
          "name": "contacts_vendor_quality_rating_check",
          "value": "(vendor_contact_quality_rating IS NULL) OR ((vendor_contact_quality_rating >= 1) AND (vendor_contact_quality_rating <= 5))"
        },
        "contacts_vendor_response_rating_check": {
          "name": "contacts_vendor_response_rating_check",
          "value": "(vendor_contact_response_rating IS NULL) OR ((vendor_contact_response_rating >= 1) AND (vendor_contact_response_rating <= 5))"
        },
        "contacts_vendor_status_check": {
          "name": "contacts_vendor_status_check",
          "value": "(vendor_status IS NULL) OR (vendor_status = ANY (ARRAY['pending'::text, 'approved'::text, 'preferred'::text, 'suspended'::text, 'blacklisted'::text]))"
        },
        "contacts_vendor_tier_check": {
          "name": "contacts_vendor_tier_check",
          "value": "(vendor_tier IS NULL) OR (vendor_tier = ANY (ARRAY['preferred'::text, 'approved'::text, 'probationary'::text, 'new'::text]))"
        },
        "contacts_vms_integration_status_check": {
          "name": "contacts_vms_integration_status_check",
          "value": "(vms_integration_status IS NULL) OR (vms_integration_status = ANY (ARRAY['not_integrated'::text, 'pending'::text, 'active'::text, 'suspended'::text]))"
        }
      },
      "policies": {
        "contacts_org_isolation": {
          "name": "contacts_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.activity_stats_daily": {
      "name": "activity_stats_daily",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "pattern_id": {
          "name": "pattern_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "count": {
          "name": "count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_duration_minutes": {
          "name": "total_duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_points": {
          "name": "total_points",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "outcomes": {
          "name": "outcomes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_activity_stats_user_date": {
          "name": "idx_activity_stats_user_date",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            },
            {
              "expression": "date",
              "asc": false,
              "nulls": "first",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "activity_stats_daily_org_id_fkey": {
          "name": "activity_stats_daily_org_id_fkey",
          "tableFrom": "activity_stats_daily",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "activity_stats_daily_pattern_id_fkey": {
          "name": "activity_stats_daily_pattern_id_fkey",
          "tableFrom": "activity_stats_daily",
          "tableTo": "activity_patterns",
          "schemaTo": "public",
          "columnsFrom": [
            "pattern_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "activity_stats_daily_user_id_fkey": {
          "name": "activity_stats_daily_user_id_fkey",
          "tableFrom": "activity_stats_daily",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "activity_stats_daily_org_id_user_id_date_pattern_id_key": {
          "columns": [
            "org_id",
            "user_id",
            "date",
            "pattern_id"
          ],
          "nullsNotDistinct": false,
          "name": "activity_stats_daily_org_id_user_id_date_pattern_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "activity_stats_daily_insert_policy": {
          "name": "activity_stats_daily_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "true"
        },
        "activity_stats_daily_select_policy": {
          "name": "activity_stats_daily_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "activity_stats_daily_update_policy": {
          "name": "activity_stats_daily_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.notes": {
      "name": "notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content_html": {
          "name": "content_html",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_plain": {
          "name": "content_plain",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "note_type": {
          "name": "note_type",
          "type": "note_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'general'"
        },
        "parent_note_id": {
          "name": "parent_note_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "thread_root_id": {
          "name": "thread_root_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reply_count": {
          "name": "reply_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "visibility": {
          "name": "visibility",
          "type": "note_visibility",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'team'"
        },
        "is_pinned": {
          "name": "is_pinned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_starred": {
          "name": "is_starred",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "pin_order": {
          "name": "pin_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "mentioned_user_ids": {
          "name": "mentioned_user_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "mentioned_contact_ids": {
          "name": "mentioned_contact_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "attachment_count": {
          "name": "attachment_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "search_vector": {
          "name": "search_vector",
          "type": "tsvector",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_notes_creator": {
          "name": "idx_notes_creator",
          "columns": [
            {
              "expression": "created_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_notes_entity": {
          "name": "idx_notes_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_notes_mentions_users": {
          "name": "idx_notes_mentions_users",
          "columns": [
            {
              "expression": "mentioned_user_ids",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_notes_org": {
          "name": "idx_notes_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_notes_parent": {
          "name": "idx_notes_parent",
          "columns": [
            {
              "expression": "parent_note_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_notes_pinned": {
          "name": "idx_notes_pinned",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "pin_order",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_pinned = true) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_notes_search": {
          "name": "idx_notes_search",
          "columns": [
            {
              "expression": "search_vector",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_notes_thread": {
          "name": "idx_notes_thread",
          "columns": [
            {
              "expression": "thread_root_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "notes_created_by_fkey": {
          "name": "notes_created_by_fkey",
          "tableFrom": "notes",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_org_id_fkey": {
          "name": "notes_org_id_fkey",
          "tableFrom": "notes",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_parent_note_id_fkey": {
          "name": "notes_parent_note_id_fkey",
          "tableFrom": "notes",
          "tableTo": "notes",
          "schemaTo": "public",
          "columnsFrom": [
            "parent_note_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_thread_root_id_fkey": {
          "name": "notes_thread_root_id_fkey",
          "tableFrom": "notes",
          "tableTo": "notes",
          "schemaTo": "public",
          "columnsFrom": [
            "thread_root_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_updated_by_fkey": {
          "name": "notes_updated_by_fkey",
          "tableFrom": "notes",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "notes_content_not_empty": {
          "name": "notes_content_not_empty",
          "value": "(content IS NOT NULL) AND (content <> ''::text)"
        }
      },
      "policies": {
        "notes_org_isolation": {
          "name": "notes_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        },
        "notes_select_visibility": {
          "name": "notes_select_visibility",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.activity_patterns": {
      "name": "activity_patterns",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_days": {
          "name": "target_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "escalation_days": {
          "name": "escalation_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "default_assignee": {
          "name": "default_assignee",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'owner'"
        },
        "assignee_group_id": {
          "name": "assignee_group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assignee_user_id": {
          "name": "assignee_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'normal'"
        },
        "auto_complete": {
          "name": "auto_complete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "auto_complete_condition": {
          "name": "auto_complete_condition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "auto_action": {
          "name": "auto_action",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "auto_action_config": {
          "name": "auto_action_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "instructions": {
          "name": "instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "checklist": {
          "name": "checklist",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "icon": {
          "name": "icon",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "''"
        },
        "color": {
          "name": "color",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'blue'"
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 100
        },
        "show_in_timeline": {
          "name": "show_in_timeline",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "outcomes": {
          "name": "outcomes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "points": {
          "name": "points",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "point_multipliers": {
          "name": "point_multipliers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "auto_log_integrations": {
          "name": "auto_log_integrations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "followup_rules": {
          "name": "followup_rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "field_dependencies": {
          "name": "field_dependencies",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "activity_patterns_entity_type_idx": {
          "name": "activity_patterns_entity_type_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_patterns_category": {
          "name": "idx_activity_patterns_category",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_patterns_display": {
          "name": "idx_activity_patterns_display",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "display_order",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_patterns_entity": {
          "name": "idx_activity_patterns_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_activity_patterns_org": {
          "name": "idx_activity_patterns_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(org_id IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "activity_patterns_assignee_group_id_fkey": {
          "name": "activity_patterns_assignee_group_id_fkey",
          "tableFrom": "activity_patterns",
          "tableTo": "pods",
          "schemaTo": "public",
          "columnsFrom": [
            "assignee_group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activity_patterns_assignee_user_id_fkey": {
          "name": "activity_patterns_assignee_user_id_fkey",
          "tableFrom": "activity_patterns",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "assignee_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activity_patterns_created_by_fkey": {
          "name": "activity_patterns_created_by_fkey",
          "tableFrom": "activity_patterns",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "activity_patterns_org_id_fkey": {
          "name": "activity_patterns_org_id_fkey",
          "tableFrom": "activity_patterns",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "activity_patterns_org_id_code_key": {
          "columns": [
            "org_id",
            "code"
          ],
          "nullsNotDistinct": false,
          "name": "activity_patterns_org_id_code_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.pattern_fields": {
      "name": "pattern_fields",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "pattern_id": {
          "name": "pattern_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "field_name": {
          "name": "field_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "field_label": {
          "name": "field_label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "field_type": {
          "name": "field_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "default_value": {
          "name": "default_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "validation_rules": {
          "name": "validation_rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "placeholder": {
          "name": "placeholder",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "help_text": {
          "name": "help_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "options": {
          "name": "options",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "pattern_fields_pattern_id_fkey": {
          "name": "pattern_fields_pattern_id_fkey",
          "tableFrom": "pattern_fields",
          "tableTo": "activity_patterns",
          "schemaTo": "public",
          "columnsFrom": [
            "pattern_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "pattern_fields_pattern_id_field_name_key": {
          "columns": [
            "pattern_id",
            "field_name"
          ],
          "nullsNotDistinct": false,
          "name": "pattern_fields_pattern_id_field_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.feature_flag_usage": {
      "name": "feature_flag_usage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "feature_flag_id": {
          "name": "feature_flag_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "checked_at": {
          "name": "checked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "was_enabled": {
          "name": "was_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "context": {
          "name": "context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "idx_feature_flag_usage_flag": {
          "name": "idx_feature_flag_usage_flag",
          "columns": [
            {
              "expression": "feature_flag_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "checked_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feature_flag_usage_org": {
          "name": "idx_feature_flag_usage_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "checked_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feature_flag_usage_user": {
          "name": "idx_feature_flag_usage_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "checked_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "feature_flag_usage_feature_flag_id_fkey": {
          "name": "feature_flag_usage_feature_flag_id_fkey",
          "tableFrom": "feature_flag_usage",
          "tableTo": "feature_flags",
          "schemaTo": "public",
          "columnsFrom": [
            "feature_flag_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "feature_flag_usage_org_id_fkey": {
          "name": "feature_flag_usage_org_id_fkey",
          "tableFrom": "feature_flag_usage",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "feature_flag_usage_user_id_fkey": {
          "name": "feature_flag_usage_user_id_fkey",
          "tableFrom": "feature_flag_usage",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "feature_flag_usage_insert": {
          "name": "feature_flag_usage_insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "(user_id = auth.uid())"
        },
        "feature_flag_usage_select": {
          "name": "feature_flag_usage_select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.feature_flag_feedback": {
      "name": "feature_flag_feedback",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "feature_flag_id": {
          "name": "feature_flag_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "feedback_text": {
          "name": "feedback_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_feature_flag_feedback_flag": {
          "name": "idx_feature_flag_feedback_flag",
          "columns": [
            {
              "expression": "feature_flag_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "feature_flag_feedback_feature_flag_id_fkey": {
          "name": "feature_flag_feedback_feature_flag_id_fkey",
          "tableFrom": "feature_flag_feedback",
          "tableTo": "feature_flags",
          "schemaTo": "public",
          "columnsFrom": [
            "feature_flag_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "feature_flag_feedback_org_id_fkey": {
          "name": "feature_flag_feedback_org_id_fkey",
          "tableFrom": "feature_flag_feedback",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "feature_flag_feedback_user_id_fkey": {
          "name": "feature_flag_feedback_user_id_fkey",
          "tableFrom": "feature_flag_feedback",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "feature_flag_feedback_rating_check": {
          "name": "feature_flag_feedback_rating_check",
          "value": "(rating >= 1) AND (rating <= 5)"
        }
      },
      "policies": {
        "feature_flag_feedback_insert": {
          "name": "feature_flag_feedback_insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "(user_id = auth.uid())"
        },
        "feature_flag_feedback_select": {
          "name": "feature_flag_feedback_select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.feature_flag_categories": {
      "name": "feature_flag_categories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "feature_flag_categories_org_id_fkey": {
          "name": "feature_flag_categories_org_id_fkey",
          "tableFrom": "feature_flag_categories",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "feature_flag_categories_org_id_name_key": {
          "columns": [
            "org_id",
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "feature_flag_categories_org_id_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "feature_flag_categories_select": {
          "name": "feature_flag_categories_select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "((org_id IS NULL) OR (org_id = COALESCE(( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())), ((auth.jwt() ->> 'org_id'::text))::uuid)))"
        }
      },
      "isRLSEnabled": true
    },
    "public.feature_flags": {
      "name": "feature_flags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "key": {
          "name": "key",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_enabled": {
          "name": "default_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_global": {
          "name": "is_global",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'disabled'"
        },
        "rollout_strategy": {
          "name": "rollout_strategy",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'none'"
        },
        "rollout_percentage": {
          "name": "rollout_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "enabled_users": {
          "name": "enabled_users",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "enabled_pods": {
          "name": "enabled_pods",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "enabled_roles": {
          "name": "enabled_roles",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "show_in_nav": {
          "name": "show_in_nav",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "show_new_badge": {
          "name": "show_new_badge",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "show_beta_badge": {
          "name": "show_beta_badge",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "log_usage": {
          "name": "log_usage",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "show_feedback_prompt": {
          "name": "show_feedback_prompt",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "rollout_schedule": {
          "name": "rollout_schedule",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "safeguards": {
          "name": "safeguards",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_feature_flags_code": {
          "name": "idx_feature_flags_code",
          "columns": [
            {
              "expression": "key",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feature_flags_enabled_pods": {
          "name": "idx_feature_flags_enabled_pods",
          "columns": [
            {
              "expression": "enabled_pods",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_feature_flags_enabled_roles": {
          "name": "idx_feature_flags_enabled_roles",
          "columns": [
            {
              "expression": "enabled_roles",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_feature_flags_enabled_users": {
          "name": "idx_feature_flags_enabled_users",
          "columns": [
            {
              "expression": "enabled_users",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_feature_flags_org": {
          "name": "idx_feature_flags_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feature_flags_org_key": {
          "name": "idx_feature_flags_org_key",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "key",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feature_flags_org_state": {
          "name": "idx_feature_flags_org_state",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "state",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "feature_flags_created_by_fkey": {
          "name": "feature_flags_created_by_fkey",
          "tableFrom": "feature_flags",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "feature_flags_org_id_fkey": {
          "name": "feature_flags_org_id_fkey",
          "tableFrom": "feature_flags",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "feature_flags_updated_by_fkey": {
          "name": "feature_flags_updated_by_fkey",
          "tableFrom": "feature_flags",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "feature_flags_org_id_code_key": {
          "columns": [
            "org_id",
            "key"
          ],
          "nullsNotDistinct": false,
          "name": "feature_flags_org_id_code_key"
        }
      },
      "checkConstraints": {
        "feature_flags_rollout_percentage_check": {
          "name": "feature_flags_rollout_percentage_check",
          "value": "(rollout_percentage >= 0) AND (rollout_percentage <= 100)"
        },
        "feature_flags_rollout_strategy_check": {
          "name": "feature_flags_rollout_strategy_check",
          "value": "rollout_strategy = ANY (ARRAY['all'::text, 'roles'::text, 'users'::text, 'percentage'::text, 'pods'::text, 'none'::text])"
        },
        "feature_flags_state_check": {
          "name": "feature_flags_state_check",
          "value": "state = ANY (ARRAY['enabled'::text, 'disabled'::text, 'beta'::text, 'internal'::text, 'percentage'::text, 'coming_soon'::text])"
        }
      },
      "policies": {
        "feature_flags_access": {
          "name": "feature_flags_access",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "((is_global = true) OR (org_id IS NULL) OR (org_id = COALESCE(( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())), ((auth.jwt() ->> 'org_id'::text))::uuid)))"
        },
        "feature_flags_org_delete": {
          "name": "feature_flags_org_delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        },
        "feature_flags_org_update": {
          "name": "feature_flags_org_update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "feature_flags_org_write": {
          "name": "feature_flags_org_write",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.job_status_history": {
      "name": "job_status_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "previous_status": {
          "name": "previous_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "new_status": {
          "name": "new_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "changed_by": {
          "name": "changed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "changed_at": {
          "name": "changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_system_triggered": {
          "name": "is_system_triggered",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "expected_reactivation_date": {
          "name": "expected_reactivation_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "actual_reactivation_date": {
          "name": "actual_reactivation_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "hold_duration_days": {
          "name": "hold_duration_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "days_to_fill": {
          "name": "days_to_fill",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "positions_filled_count": {
          "name": "positions_filled_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "candidates_affected_count": {
          "name": "candidates_affected_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "interviews_cancelled_count": {
          "name": "interviews_cancelled_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "offers_withdrawn_count": {
          "name": "offers_withdrawn_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reopen_approved_by": {
          "name": "reopen_approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reopen_approval_date": {
          "name": "reopen_approval_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_job_status_history_job_id": {
          "name": "idx_job_status_history_job_id",
          "columns": [
            {
              "expression": "job_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_job_status_history_new_status": {
          "name": "idx_job_status_history_new_status",
          "columns": [
            {
              "expression": "new_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_job_status_history_org_changed_at": {
          "name": "idx_job_status_history_org_changed_at",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "job_status_history_changed_by_fkey": {
          "name": "job_status_history_changed_by_fkey",
          "tableFrom": "job_status_history",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "changed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "job_status_history_job_id_fkey": {
          "name": "job_status_history_job_id_fkey",
          "tableFrom": "job_status_history",
          "tableTo": "jobs",
          "schemaTo": "public",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "job_status_history_org_id_fkey": {
          "name": "job_status_history_org_id_fkey",
          "tableFrom": "job_status_history",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "job_status_history_reopen_approved_by_fkey": {
          "name": "job_status_history_reopen_approved_by_fkey",
          "tableFrom": "job_status_history",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "reopen_approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Users can insert job status history in their org": {
          "name": "Users can insert job status history in their org",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "(org_id = ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())))"
        },
        "Users can view job status history in their org": {
          "name": "Users can view job status history in their org",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.organizations": {
      "name": "organizations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "legal_name": {
          "name": "legal_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_email": {
          "name": "billing_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tax_id": {
          "name": "tax_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_tier": {
          "name": "subscription_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'free'"
        },
        "subscription_status": {
          "name": "subscription_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "max_users": {
          "name": "max_users",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "max_candidates": {
          "name": "max_candidates",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 100
        },
        "max_storage_gb": {
          "name": "max_storage_gb",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 10
        },
        "features": {
          "name": "features",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "onboarding_completed": {
          "name": "onboarding_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "onboarding_step": {
          "name": "onboarding_step",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'America/New_York'"
        },
        "locale": {
          "name": "locale",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'en-US'"
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "favicon_url": {
          "name": "favicon_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "plan": {
          "name": "plan",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'free'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "stripe_coupon_id": {
          "name": "stripe_coupon_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tier": {
          "name": "tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'starter'"
        },
        "industry": {
          "name": "industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "health_score": {
          "name": "health_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "business_hours_start": {
          "name": "business_hours_start",
          "type": "time",
          "primaryKey": false,
          "notNull": false,
          "default": "'09:00:00'"
        },
        "business_hours_end": {
          "name": "business_hours_end",
          "type": "time",
          "primaryKey": false,
          "notNull": false,
          "default": "'17:00:00'"
        },
        "business_timezone": {
          "name": "business_timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'America/New_York'"
        },
        "holiday_calendar": {
          "name": "holiday_calendar",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "company_size": {
          "name": "company_size",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "founded_year": {
          "name": "founded_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "primary_color": {
          "name": "primary_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'#000000'"
        },
        "secondary_color": {
          "name": "secondary_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'#B76E79'"
        },
        "background_color": {
          "name": "background_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'#FDFBF7'"
        },
        "text_color": {
          "name": "text_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'#171717'"
        },
        "date_format": {
          "name": "date_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'MM/DD/YYYY'"
        },
        "time_format": {
          "name": "time_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'12h'"
        },
        "week_start": {
          "name": "week_start",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'sunday'"
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "number_format": {
          "name": "number_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'1,234.56'"
        },
        "fiscal_year_start": {
          "name": "fiscal_year_start",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "reporting_period": {
          "name": "reporting_period",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'quarterly'"
        },
        "sprint_alignment": {
          "name": "sprint_alignment",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "business_hours": {
          "name": "business_hours",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"friday\":{\"end\":\"17:00\",\"open\":true,\"start\":\"09:00\",\"break_minutes\":60},\"monday\":{\"end\":\"17:00\",\"open\":true,\"start\":\"09:00\",\"break_minutes\":60},\"sunday\":{\"open\":false},\"tuesday\":{\"end\":\"17:00\",\"open\":true,\"start\":\"09:00\",\"break_minutes\":60},\"saturday\":{\"open\":false},\"thursday\":{\"end\":\"17:00\",\"open\":true,\"start\":\"09:00\",\"break_minutes\":60},\"wednesday\":{\"end\":\"17:00\",\"open\":true,\"start\":\"09:00\",\"break_minutes\":60}}'::jsonb"
        },
        "custom_holidays": {
          "name": "custom_holidays",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "default_values": {
          "name": "default_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"job_type\":\"contract\",\"job_status\":\"draft\",\"work_location\":\"hybrid\",\"follow_up_days\":3,\"candidate_source\":\"direct_application\",\"auto_parse_resume\":true,\"submission_status\":\"pending_review\",\"auto_create_followup\":true,\"auto_send_client_email\":false,\"candidate_availability\":\"2_weeks\",\"email_signature_location\":\"below\",\"include_company_disclaimer\":true}'::jsonb"
        },
        "contact_info": {
          "name": "contact_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"fax\":null,\"hr_email\":null,\"main_phone\":null,\"linkedin_url\":null,\"billing_email\":null,\"general_email\":null,\"support_email\":null,\"twitter_handle\":null}'::jsonb"
        }
      },
      "indexes": {
        "idx_organizations_deleted_at": {
          "name": "idx_organizations_deleted_at",
          "columns": [
            {
              "expression": "deleted_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_organizations_email": {
          "name": "idx_organizations_email",
          "columns": [
            {
              "expression": "email",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_organizations_industry": {
          "name": "idx_organizations_industry",
          "columns": [
            {
              "expression": "industry",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_organizations_slug": {
          "name": "idx_organizations_slug",
          "columns": [
            {
              "expression": "slug",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_organizations_status": {
          "name": "idx_organizations_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_organizations_stripe_customer": {
          "name": "idx_organizations_stripe_customer",
          "columns": [
            {
              "expression": "stripe_customer_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(stripe_customer_id IS NOT NULL)",
          "with": {}
        },
        "idx_organizations_subscription_tier": {
          "name": "idx_organizations_subscription_tier",
          "columns": [
            {
              "expression": "subscription_tier",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_organizations_timezone": {
          "name": "idx_organizations_timezone",
          "columns": [
            {
              "expression": "timezone",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "organizations_slug_key": {
          "columns": [
            "slug"
          ],
          "nullsNotDistinct": false,
          "name": "organizations_slug_key"
        }
      },
      "checkConstraints": {
        "chk_background_color": {
          "name": "chk_background_color",
          "value": "(background_color IS NULL) OR (background_color ~ '^#[0-9A-Fa-f]{6}$'::text)"
        },
        "chk_fiscal_year_start": {
          "name": "chk_fiscal_year_start",
          "value": "(fiscal_year_start >= 1) AND (fiscal_year_start <= 12)"
        },
        "chk_primary_color": {
          "name": "chk_primary_color",
          "value": "(primary_color IS NULL) OR (primary_color ~ '^#[0-9A-Fa-f]{6}$'::text)"
        },
        "chk_secondary_color": {
          "name": "chk_secondary_color",
          "value": "(secondary_color IS NULL) OR (secondary_color ~ '^#[0-9A-Fa-f]{6}$'::text)"
        },
        "chk_text_color": {
          "name": "chk_text_color",
          "value": "(text_color IS NULL) OR (text_color ~ '^#[0-9A-Fa-f]{6}$'::text)"
        }
      },
      "policies": {
        "Authenticated users can view active organizations": {
          "name": "Authenticated users can view active organizations",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "((status = 'active'::text) AND (deleted_at IS NULL) AND ((id = auth_user_org_id()) OR user_is_admin()))"
        },
        "Only admins can create organizations": {
          "name": "Only admins can create organizations",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Only admins can delete organizations": {
          "name": "Only admins can delete organizations",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ]
        },
        "Only admins can update organizations": {
          "name": "Only admins can update organizations",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Service role can create organizations": {
          "name": "Service role can create organizations",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "Users can view their own organization": {
          "name": "Users can view their own organization",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.saved_searches": {
      "name": "saved_searches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'candidate'"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "filters": {
          "name": "filters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_shared": {
          "name": "is_shared",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "email_alerts": {
          "name": "email_alerts",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "alert_frequency": {
          "name": "alert_frequency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'daily'"
        },
        "result_count": {
          "name": "result_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_executed_at": {
          "name": "last_executed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "execution_count": {
          "name": "execution_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_saved_searches_default": {
          "name": "idx_saved_searches_default",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "is_default",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_default = true) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_saved_searches_entity": {
          "name": "idx_saved_searches_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_saved_searches_org": {
          "name": "idx_saved_searches_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_saved_searches_shared": {
          "name": "idx_saved_searches_shared",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "is_shared",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_shared = true) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_saved_searches_user": {
          "name": "idx_saved_searches_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "saved_searches_org_id_fkey": {
          "name": "saved_searches_org_id_fkey",
          "tableFrom": "saved_searches",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "saved_searches_user_id_fkey": {
          "name": "saved_searches_user_id_fkey",
          "tableFrom": "saved_searches",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "saved_searches_unique_name": {
          "columns": [
            "org_id",
            "user_id",
            "entity_type",
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "saved_searches_unique_name"
        }
      },
      "checkConstraints": {},
      "policies": {
        "saved_searches_delete_policy": {
          "name": "saved_searches_delete_policy",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "public"
          ],
          "using": "((org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid()))) AND (user_id = auth.uid()))"
        },
        "saved_searches_insert_policy": {
          "name": "saved_searches_insert_policy",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ]
        },
        "saved_searches_select_policy": {
          "name": "saved_searches_select_policy",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "saved_searches_update_policy": {
          "name": "saved_searches_update_policy",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.candidate_prepared_profiles": {
      "name": "candidate_prepared_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "template_type": {
          "name": "template_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'standard'"
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "key_highlights": {
          "name": "key_highlights",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "skills_matrix": {
          "name": "skills_matrix",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "experience_summary": {
          "name": "experience_summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "why_this_candidate": {
          "name": "why_this_candidate",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "education": {
          "name": "education",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "finalized_at": {
          "name": "finalized_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "finalized_by": {
          "name": "finalized_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "pdf_url": {
          "name": "pdf_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "docx_url": {
          "name": "docx_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_exported_at": {
          "name": "last_exported_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_candidate_prepared_profiles_candidate": {
          "name": "idx_candidate_prepared_profiles_candidate",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_candidate_prepared_profiles_contact_id": {
          "name": "idx_candidate_prepared_profiles_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_candidate_prepared_profiles_job": {
          "name": "idx_candidate_prepared_profiles_job",
          "columns": [
            {
              "expression": "job_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "candidate_prepared_profiles_candidate_id_fkey": {
          "name": "candidate_prepared_profiles_candidate_id_fkey",
          "tableFrom": "candidate_prepared_profiles",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_prepared_profiles_contact_id_fkey": {
          "name": "candidate_prepared_profiles_contact_id_fkey",
          "tableFrom": "candidate_prepared_profiles",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_prepared_profiles_created_by_fkey": {
          "name": "candidate_prepared_profiles_created_by_fkey",
          "tableFrom": "candidate_prepared_profiles",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_prepared_profiles_finalized_by_fkey": {
          "name": "candidate_prepared_profiles_finalized_by_fkey",
          "tableFrom": "candidate_prepared_profiles",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "finalized_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_prepared_profiles_job_id_fkey": {
          "name": "candidate_prepared_profiles_job_id_fkey",
          "tableFrom": "candidate_prepared_profiles",
          "tableTo": "jobs",
          "schemaTo": "public",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "candidate_prepared_profiles_org_id_fkey": {
          "name": "candidate_prepared_profiles_org_id_fkey",
          "tableFrom": "candidate_prepared_profiles",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "candidate_prepared_profiles_org_access": {
          "name": "candidate_prepared_profiles_org_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())))"
        }
      },
      "isRLSEnabled": true
    },
    "public.candidate_screenings": {
      "name": "candidate_screenings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "submission_id": {
          "name": "submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "screener_id": {
          "name": "screener_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'in_progress'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "knockout_passed": {
          "name": "knockout_passed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "knockout_answers": {
          "name": "knockout_answers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "technical_scores": {
          "name": "technical_scores",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "technical_overall": {
          "name": "technical_overall",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "project_discussion": {
          "name": "project_discussion",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "soft_skills_scores": {
          "name": "soft_skills_scores",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "soft_skills_overall": {
          "name": "soft_skills_overall",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "culture_fit_score": {
          "name": "culture_fit_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "interest_level": {
          "name": "interest_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "motivation_notes": {
          "name": "motivation_notes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "overall_score": {
          "name": "overall_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "recommendation": {
          "name": "recommendation",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'hold'"
        },
        "strengths": {
          "name": "strengths",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "concerns": {
          "name": "concerns",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "interview_prep_notes": {
          "name": "interview_prep_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "compensation_discussion": {
          "name": "compensation_discussion",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "next_steps": {
          "name": "next_steps",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_candidate_screenings_candidate": {
          "name": "idx_candidate_screenings_candidate",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_candidate_screenings_contact_id": {
          "name": "idx_candidate_screenings_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_candidate_screenings_job": {
          "name": "idx_candidate_screenings_job",
          "columns": [
            {
              "expression": "job_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_candidate_screenings_recommendation": {
          "name": "idx_candidate_screenings_recommendation",
          "columns": [
            {
              "expression": "recommendation",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_candidate_screenings_screener": {
          "name": "idx_candidate_screenings_screener",
          "columns": [
            {
              "expression": "screener_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_candidate_screenings_status": {
          "name": "idx_candidate_screenings_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "candidate_screenings_candidate_id_fkey": {
          "name": "candidate_screenings_candidate_id_fkey",
          "tableFrom": "candidate_screenings",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_screenings_contact_id_fkey": {
          "name": "candidate_screenings_contact_id_fkey",
          "tableFrom": "candidate_screenings",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_screenings_job_id_fkey": {
          "name": "candidate_screenings_job_id_fkey",
          "tableFrom": "candidate_screenings",
          "tableTo": "jobs",
          "schemaTo": "public",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "candidate_screenings_org_id_fkey": {
          "name": "candidate_screenings_org_id_fkey",
          "tableFrom": "candidate_screenings",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "candidate_screenings_screener_id_fkey": {
          "name": "candidate_screenings_screener_id_fkey",
          "tableFrom": "candidate_screenings",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "screener_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "candidate_screenings_submission_id_fkey": {
          "name": "candidate_screenings_submission_id_fkey",
          "tableFrom": "candidate_screenings",
          "tableTo": "submissions",
          "schemaTo": "public",
          "columnsFrom": [
            "submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "candidate_screenings_org_access": {
          "name": "candidate_screenings_org_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.id = auth.uid())))"
        }
      },
      "isRLSEnabled": true
    },
    "public.contact_relationships": {
      "name": "contact_relationships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "source_contact_id": {
          "name": "source_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_contact_id": {
          "name": "target_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_type": {
          "name": "relationship_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title_at_company": {
          "name": "title_at_company",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "department_at_company": {
          "name": "department_at_company",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "relationship_strength": {
          "name": "relationship_strength",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_contact_relationships_current": {
          "name": "idx_contact_relationships_current",
          "columns": [
            {
              "expression": "source_contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "is_current",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_current = true) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contact_relationships_source": {
          "name": "idx_contact_relationships_source",
          "columns": [
            {
              "expression": "source_contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contact_relationships_target": {
          "name": "idx_contact_relationships_target",
          "columns": [
            {
              "expression": "target_contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contact_relationships_type": {
          "name": "idx_contact_relationships_type",
          "columns": [
            {
              "expression": "relationship_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "contact_relationships_created_by_fkey": {
          "name": "contact_relationships_created_by_fkey",
          "tableFrom": "contact_relationships",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contact_relationships_org_id_fkey": {
          "name": "contact_relationships_org_id_fkey",
          "tableFrom": "contact_relationships",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_relationships_source_contact_id_fkey": {
          "name": "contact_relationships_source_contact_id_fkey",
          "tableFrom": "contact_relationships",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "source_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_relationships_target_contact_id_fkey": {
          "name": "contact_relationships_target_contact_id_fkey",
          "tableFrom": "contact_relationships",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "target_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_relationships_updated_by_fkey": {
          "name": "contact_relationships_updated_by_fkey",
          "tableFrom": "contact_relationships",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "contact_relationships_unique": {
          "columns": [
            "source_contact_id",
            "target_contact_id",
            "relationship_type"
          ],
          "nullsNotDistinct": false,
          "name": "contact_relationships_unique"
        }
      },
      "checkConstraints": {
        "contact_relationships_strength_check": {
          "name": "contact_relationships_strength_check",
          "value": "(relationship_strength IS NULL) OR ((relationship_strength >= 1) AND (relationship_strength <= 10))"
        },
        "contact_relationships_type_check": {
          "name": "contact_relationships_type_check",
          "value": "relationship_type = ANY (ARRAY['works_at'::text, 'worked_at'::text, 'owns'::text, 'founded'::text, 'board_member'::text, 'reports_to'::text, 'manages'::text, 'referred_by'::text, 'knows'::text, 'mentors'::text, 'spouse_of'::text])"
        }
      },
      "policies": {
        "contact_relationships_org_isolation": {
          "name": "contact_relationships_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.contact_roles": {
      "name": "contact_roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role_type": {
          "name": "role_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role_status": {
          "name": "role_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "context_company_id": {
          "name": "context_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "context_details": {
          "name": "context_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "role_started_at": {
          "name": "role_started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "role_ended_at": {
          "name": "role_ended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_contact_roles_active": {
          "name": "idx_contact_roles_active",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "role_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((role_status = 'active'::text) AND (role_ended_at IS NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contact_roles_contact": {
          "name": "idx_contact_roles_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contact_roles_type": {
          "name": "idx_contact_roles_type",
          "columns": [
            {
              "expression": "role_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "role_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "contact_roles_contact_id_fkey": {
          "name": "contact_roles_contact_id_fkey",
          "tableFrom": "contact_roles",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_roles_context_company_id_fkey": {
          "name": "contact_roles_context_company_id_fkey",
          "tableFrom": "contact_roles",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "context_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contact_roles_created_by_fkey": {
          "name": "contact_roles_created_by_fkey",
          "tableFrom": "contact_roles",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contact_roles_org_id_fkey": {
          "name": "contact_roles_org_id_fkey",
          "tableFrom": "contact_roles",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "contact_roles_status_check": {
          "name": "contact_roles_status_check",
          "value": "role_status = ANY (ARRAY['active'::text, 'inactive'::text, 'pending'::text, 'suspended'::text])"
        },
        "contact_roles_type_check": {
          "name": "contact_roles_type_check",
          "value": "role_type = ANY (ARRAY['candidate'::text, 'employee'::text, 'client_contact'::text, 'hiring_manager'::text, 'hr_contact'::text, 'vendor_contact'::text, 'bench_internal'::text, 'bench_vendor'::text, 'placed'::text, 'referral_source'::text, 'alumni'::text])"
        }
      },
      "policies": {
        "contact_roles_org_isolation": {
          "name": "contact_roles_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.offers": {
      "name": "offers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "submission_id": {
          "name": "submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "offer_type": {
          "name": "offer_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'contract'"
        },
        "rate": {
          "name": "rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "rate_type": {
          "name": "rate_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'hourly'"
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "bonus": {
          "name": "bonus",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "benefits": {
          "name": "benefits",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "relocation_assistance": {
          "name": "relocation_assistance",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sign_on_bonus": {
          "name": "sign_on_bonus",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_counter_offer": {
          "name": "candidate_counter_offer",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "negotiation_notes": {
          "name": "negotiation_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "accepted_at": {
          "name": "accepted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "declined_at": {
          "name": "declined_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "decline_reason": {
          "name": "decline_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_letter_file_id": {
          "name": "offer_letter_file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "signed_offer_file_id": {
          "name": "signed_offer_file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "pay_rate": {
          "name": "pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "bill_rate": {
          "name": "bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "overtime_rate": {
          "name": "overtime_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "duration_months": {
          "name": "duration_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "employment_type": {
          "name": "employment_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'w2'"
        },
        "pto_days": {
          "name": "pto_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sick_days": {
          "name": "sick_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "health_insurance": {
          "name": "health_insurance",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "has_401k": {
          "name": "has_401k",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "work_location": {
          "name": "work_location",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'remote'"
        },
        "standard_hours_per_week": {
          "name": "standard_hours_per_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 40
        },
        "internal_notes": {
          "name": "internal_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sent_by": {
          "name": "sent_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "accepted_by": {
          "name": "accepted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "withdrawn_at": {
          "name": "withdrawn_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "withdrawal_reason": {
          "name": "withdrawal_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_offers_bill_rate": {
          "name": "idx_offers_bill_rate",
          "columns": [
            {
              "expression": "bill_rate",
              "asc": true,
              "nulls": "last",
              "opclass": "numeric_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_offers_candidate": {
          "name": "idx_offers_candidate",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_offers_employment_type": {
          "name": "idx_offers_employment_type",
          "columns": [
            {
              "expression": "employment_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_offers_expires": {
          "name": "idx_offers_expires",
          "columns": [
            {
              "expression": "expires_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_offers_job": {
          "name": "idx_offers_job",
          "columns": [
            {
              "expression": "job_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_offers_org_id": {
          "name": "idx_offers_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_offers_pay_rate": {
          "name": "idx_offers_pay_rate",
          "columns": [
            {
              "expression": "pay_rate",
              "asc": true,
              "nulls": "last",
              "opclass": "numeric_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_offers_status": {
          "name": "idx_offers_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_offers_submission": {
          "name": "idx_offers_submission",
          "columns": [
            {
              "expression": "submission_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "offers_accepted_by_fkey": {
          "name": "offers_accepted_by_fkey",
          "tableFrom": "offers",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "accepted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offers_candidate_id_fkey": {
          "name": "offers_candidate_id_fkey",
          "tableFrom": "offers",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offers_created_by_fkey": {
          "name": "offers_created_by_fkey",
          "tableFrom": "offers",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offers_job_id_fkey": {
          "name": "offers_job_id_fkey",
          "tableFrom": "offers",
          "tableTo": "jobs",
          "schemaTo": "public",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offers_org_id_fkey": {
          "name": "offers_org_id_fkey",
          "tableFrom": "offers",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "offers_sent_by_fkey": {
          "name": "offers_sent_by_fkey",
          "tableFrom": "offers",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "sent_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offers_submission_id_fkey": {
          "name": "offers_submission_id_fkey",
          "tableFrom": "offers",
          "tableTo": "submissions",
          "schemaTo": "public",
          "columnsFrom": [
            "submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "offers_employment_type_check": {
          "name": "offers_employment_type_check",
          "value": "(employment_type)::text = ANY ((ARRAY['w2'::character varying, 'c2c'::character varying, '1099'::character varying])::text[])"
        },
        "offers_work_location_check": {
          "name": "offers_work_location_check",
          "value": "(work_location)::text = ANY ((ARRAY['remote'::character varying, 'onsite'::character varying, 'hybrid'::character varying])::text[])"
        }
      },
      "policies": {
        "Users can manage offers in their organization": {
          "name": "Users can manage offers in their organization",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid())))"
        },
        "Users can view offers in their organization": {
          "name": "Users can view offers in their organization",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "offers_candidate_own": {
          "name": "offers_candidate_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "offers_employee_all": {
          "name": "offers_employee_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.offer_negotiations": {
      "name": "offer_negotiations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "offer_id": {
          "name": "offer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "requested_by": {
          "name": "requested_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requested_changes": {
          "name": "requested_changes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "initiated_by": {
          "name": "initiated_by",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "original_terms": {
          "name": "original_terms",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "proposed_terms": {
          "name": "proposed_terms",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "counter_message": {
          "name": "counter_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_offer_negotiations_offer_id": {
          "name": "idx_offer_negotiations_offer_id",
          "columns": [
            {
              "expression": "offer_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "offer_negotiations_offer_id_fkey": {
          "name": "offer_negotiations_offer_id_fkey",
          "tableFrom": "offer_negotiations",
          "tableTo": "offers",
          "schemaTo": "public",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "offer_negotiations_org_id_fkey": {
          "name": "offer_negotiations_org_id_fkey",
          "tableFrom": "offer_negotiations",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "offer_negotiations_initiated_by_check": {
          "name": "offer_negotiations_initiated_by_check",
          "value": "(initiated_by)::text = ANY ((ARRAY['candidate'::character varying, 'client'::character varying, 'recruiter'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.offer_approvals": {
      "name": "offer_approvals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "offer_id": {
          "name": "offer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "approver_id": {
          "name": "approver_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "approval_type": {
          "name": "approval_type",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": false
        },
        "requested_by": {
          "name": "requested_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "request_notes": {
          "name": "request_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "proposed_changes": {
          "name": "proposed_changes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "responded_at": {
          "name": "responded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_offer_approvals_approver_id": {
          "name": "idx_offer_approvals_approver_id",
          "columns": [
            {
              "expression": "approver_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_offer_approvals_offer_id": {
          "name": "idx_offer_approvals_offer_id",
          "columns": [
            {
              "expression": "offer_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "offer_approvals_approver_id_fkey": {
          "name": "offer_approvals_approver_id_fkey",
          "tableFrom": "offer_approvals",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_approvals_offer_id_fkey": {
          "name": "offer_approvals_offer_id_fkey",
          "tableFrom": "offer_approvals",
          "tableTo": "offers",
          "schemaTo": "public",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "offer_approvals_org_id_fkey": {
          "name": "offer_approvals_org_id_fkey",
          "tableFrom": "offer_approvals",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "offer_approvals_requested_by_fkey": {
          "name": "offer_approvals_requested_by_fkey",
          "tableFrom": "offer_approvals",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "requested_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "offer_approvals_approval_type_check": {
          "name": "offer_approvals_approval_type_check",
          "value": "(approval_type)::text = ANY ((ARRAY['rate_change'::character varying, 'terms_change'::character varying, 'low_margin'::character varying, 'extension'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.contact_skills": {
      "name": "contact_skills",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "skill_id": {
          "name": "skill_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "skill_name": {
          "name": "skill_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "skill_category": {
          "name": "skill_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "proficiency_level": {
          "name": "proficiency_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "years_experience": {
          "name": "years_experience",
          "type": "numeric(4, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_date": {
          "name": "last_used_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "verification_method": {
          "name": "verification_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_contact_skills_contact": {
          "name": "idx_contact_skills_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contact_skills_name": {
          "name": "idx_contact_skills_name",
          "columns": [
            {
              "expression": "skill_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contact_skills_primary": {
          "name": "idx_contact_skills_primary",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_primary = true) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contact_skills_skill": {
          "name": "idx_contact_skills_skill",
          "columns": [
            {
              "expression": "skill_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "contact_skills_contact_id_fkey": {
          "name": "contact_skills_contact_id_fkey",
          "tableFrom": "contact_skills",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_skills_org_id_fkey": {
          "name": "contact_skills_org_id_fkey",
          "tableFrom": "contact_skills",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_skills_skill_id_fkey": {
          "name": "contact_skills_skill_id_fkey",
          "tableFrom": "contact_skills",
          "tableTo": "skills",
          "schemaTo": "public",
          "columnsFrom": [
            "skill_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contact_skills_verified_by_fkey": {
          "name": "contact_skills_verified_by_fkey",
          "tableFrom": "contact_skills",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "verified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "contact_skills_proficiency_check": {
          "name": "contact_skills_proficiency_check",
          "value": "(proficiency_level >= 1) AND (proficiency_level <= 5)"
        }
      },
      "policies": {
        "contact_skills_org_isolation": {
          "name": "contact_skills_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.contact_work_history": {
      "name": "contact_work_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "company_contact_id": {
          "name": "company_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employment_type": {
          "name": "employment_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "achievements": {
          "name": "achievements",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "reason_for_leaving": {
          "name": "reason_for_leaving",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "manager_name": {
          "name": "manager_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "manager_contact": {
          "name": "manager_contact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_remote": {
          "name": "is_remote",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_contact_work_history_company": {
          "name": "idx_contact_work_history_company",
          "columns": [
            {
              "expression": "company_contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((company_contact_id IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contact_work_history_contact": {
          "name": "idx_contact_work_history_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contact_work_history_current": {
          "name": "idx_contact_work_history_current",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_current = true) AND (deleted_at IS NULL))",
          "with": {}
        }
      },
      "foreignKeys": {
        "contact_work_history_company_contact_id_fkey": {
          "name": "contact_work_history_company_contact_id_fkey",
          "tableFrom": "contact_work_history",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "company_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contact_work_history_contact_id_fkey": {
          "name": "contact_work_history_contact_id_fkey",
          "tableFrom": "contact_work_history",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_work_history_org_id_fkey": {
          "name": "contact_work_history_org_id_fkey",
          "tableFrom": "contact_work_history",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_work_history_verified_by_fkey": {
          "name": "contact_work_history_verified_by_fkey",
          "tableFrom": "contact_work_history",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "verified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "contact_work_history_org_isolation": {
          "name": "contact_work_history_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.contact_education": {
      "name": "contact_education",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "institution_name": {
          "name": "institution_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "institution_type": {
          "name": "institution_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "degree_type": {
          "name": "degree_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "field_of_study": {
          "name": "field_of_study",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "major": {
          "name": "major",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "minor": {
          "name": "minor",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "graduation_date": {
          "name": "graduation_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_completed": {
          "name": "is_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "gpa": {
          "name": "gpa",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "gpa_scale": {
          "name": "gpa_scale",
          "type": "numeric(3, 1)",
          "primaryKey": false,
          "notNull": false,
          "default": "'4.0'"
        },
        "honors": {
          "name": "honors",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "activities": {
          "name": "activities",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "achievements": {
          "name": "achievements",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_contact_education_contact": {
          "name": "idx_contact_education_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "contact_education_contact_id_fkey": {
          "name": "contact_education_contact_id_fkey",
          "tableFrom": "contact_education",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_education_org_id_fkey": {
          "name": "contact_education_org_id_fkey",
          "tableFrom": "contact_education",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_education_verified_by_fkey": {
          "name": "contact_education_verified_by_fkey",
          "tableFrom": "contact_education",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "verified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "contact_education_org_isolation": {
          "name": "contact_education_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.contact_certifications": {
      "name": "contact_certifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "certification_name": {
          "name": "certification_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "issuing_organization": {
          "name": "issuing_organization",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "issue_date": {
          "name": "issue_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "credential_id": {
          "name": "credential_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verification_url": {
          "name": "verification_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "renewal_required": {
          "name": "renewal_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "renewal_reminder_sent_at": {
          "name": "renewal_reminder_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_contact_certifications_contact": {
          "name": "idx_contact_certifications_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contact_certifications_expiry": {
          "name": "idx_contact_certifications_expiry",
          "columns": [
            {
              "expression": "expiry_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_active = true) AND (deleted_at IS NULL))",
          "with": {}
        }
      },
      "foreignKeys": {
        "contact_certifications_contact_id_fkey": {
          "name": "contact_certifications_contact_id_fkey",
          "tableFrom": "contact_certifications",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_certifications_org_id_fkey": {
          "name": "contact_certifications_org_id_fkey",
          "tableFrom": "contact_certifications",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "contact_certifications_org_isolation": {
          "name": "contact_certifications_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.placement_milestones": {
      "name": "placement_milestones",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "placement_id": {
          "name": "placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "milestone_type": {
          "name": "milestone_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "completed_date": {
          "name": "completed_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_placement_milestones_due_date": {
          "name": "idx_placement_milestones_due_date",
          "columns": [
            {
              "expression": "due_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placement_milestones_placement_id": {
          "name": "idx_placement_milestones_placement_id",
          "columns": [
            {
              "expression": "placement_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "placement_milestones_org_id_fkey": {
          "name": "placement_milestones_org_id_fkey",
          "tableFrom": "placement_milestones",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "placement_milestones_placement_id_fkey": {
          "name": "placement_milestones_placement_id_fkey",
          "tableFrom": "placement_milestones",
          "tableTo": "placements",
          "schemaTo": "public",
          "columnsFrom": [
            "placement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "placement_milestones_status_check": {
          "name": "placement_milestones_status_check",
          "value": "(status)::text = ANY ((ARRAY['pending'::character varying, 'completed'::character varying, 'skipped'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.contact_rate_cards": {
      "name": "contact_rate_cards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "skill_id": {
          "name": "skill_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "bill_rate_hourly": {
          "name": "bill_rate_hourly",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "pay_rate_hourly": {
          "name": "pay_rate_hourly",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "markup_percentage": {
          "name": "markup_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "overtime_multiplier": {
          "name": "overtime_multiplier",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.5'"
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_contact_rate_cards_active": {
          "name": "idx_contact_rate_cards_active",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_active = true) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contact_rate_cards_client": {
          "name": "idx_contact_rate_cards_client",
          "columns": [
            {
              "expression": "client_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((client_id IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contact_rate_cards_contact": {
          "name": "idx_contact_rate_cards_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "contact_rate_cards_approved_by_fkey": {
          "name": "contact_rate_cards_approved_by_fkey",
          "tableFrom": "contact_rate_cards",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contact_rate_cards_client_id_fkey": {
          "name": "contact_rate_cards_client_id_fkey",
          "tableFrom": "contact_rate_cards",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contact_rate_cards_contact_id_fkey": {
          "name": "contact_rate_cards_contact_id_fkey",
          "tableFrom": "contact_rate_cards",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_rate_cards_org_id_fkey": {
          "name": "contact_rate_cards_org_id_fkey",
          "tableFrom": "contact_rate_cards",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_rate_cards_skill_id_fkey": {
          "name": "contact_rate_cards_skill_id_fkey",
          "tableFrom": "contact_rate_cards",
          "tableTo": "skills",
          "schemaTo": "public",
          "columnsFrom": [
            "skill_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "contact_rate_cards_org_isolation": {
          "name": "contact_rate_cards_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.placement_extensions": {
      "name": "placement_extensions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "placement_id": {
          "name": "placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "previous_end_date": {
          "name": "previous_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "new_end_date": {
          "name": "new_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "original_end_date": {
          "name": "original_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "extension_months": {
          "name": "extension_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "new_pay_rate": {
          "name": "new_pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "new_bill_rate": {
          "name": "new_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_placement_extensions_placement_id": {
          "name": "idx_placement_extensions_placement_id",
          "columns": [
            {
              "expression": "placement_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "placement_extensions_approved_by_fkey": {
          "name": "placement_extensions_approved_by_fkey",
          "tableFrom": "placement_extensions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_extensions_org_id_fkey": {
          "name": "placement_extensions_org_id_fkey",
          "tableFrom": "placement_extensions",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "placement_extensions_placement_id_fkey": {
          "name": "placement_extensions_placement_id_fkey",
          "tableFrom": "placement_extensions",
          "tableTo": "placements",
          "schemaTo": "public",
          "columnsFrom": [
            "placement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.placement_rates": {
      "name": "placement_rates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "placement_id": {
          "name": "placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "bill_rate": {
          "name": "bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "pay_rate": {
          "name": "pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "margin_percent": {
          "name": "margin_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "effective_from": {
          "name": "effective_from",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "effective_to": {
          "name": "effective_to",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rate_type": {
          "name": "rate_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'regular'"
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_placement_rates_placement_id": {
          "name": "idx_placement_rates_placement_id",
          "columns": [
            {
              "expression": "placement_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "placement_rates_org_id_fkey": {
          "name": "placement_rates_org_id_fkey",
          "tableFrom": "placement_rates",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "placement_rates_placement_id_fkey": {
          "name": "placement_rates_placement_id_fkey",
          "tableFrom": "placement_rates",
          "tableTo": "placements",
          "schemaTo": "public",
          "columnsFrom": [
            "placement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "placement_rates_rate_type_check": {
          "name": "placement_rates_rate_type_check",
          "value": "(rate_type)::text = ANY ((ARRAY['regular'::character varying, 'overtime'::character varying, 'holiday'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.contact_agreements": {
      "name": "contact_agreements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agreement_type": {
          "name": "agreement_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "agreement_name": {
          "name": "agreement_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "auto_renew": {
          "name": "auto_renew",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "renewal_notice_days": {
          "name": "renewal_notice_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "document_url": {
          "name": "document_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "signed_document_url": {
          "name": "signed_document_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "our_signer_id": {
          "name": "our_signer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "our_signed_at": {
          "name": "our_signed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "their_signer_name": {
          "name": "their_signer_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "their_signed_at": {
          "name": "their_signed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "terms": {
          "name": "terms",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_contact_agreements_contact": {
          "name": "idx_contact_agreements_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contact_agreements_expiry": {
          "name": "idx_contact_agreements_expiry",
          "columns": [
            {
              "expression": "expiry_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status = 'active'::text) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contact_agreements_status": {
          "name": "idx_contact_agreements_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "contact_agreements_contact_id_fkey": {
          "name": "contact_agreements_contact_id_fkey",
          "tableFrom": "contact_agreements",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_agreements_org_id_fkey": {
          "name": "contact_agreements_org_id_fkey",
          "tableFrom": "contact_agreements",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_agreements_our_signer_id_fkey": {
          "name": "contact_agreements_our_signer_id_fkey",
          "tableFrom": "contact_agreements",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "our_signer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "contact_agreements_status_check": {
          "name": "contact_agreements_status_check",
          "value": "status = ANY (ARRAY['draft'::text, 'pending'::text, 'active'::text, 'expired'::text, 'terminated'::text])"
        },
        "contact_agreements_type_check": {
          "name": "contact_agreements_type_check",
          "value": "agreement_type = ANY (ARRAY['msa'::text, 'nda'::text, 'sow'::text, 'rate_card'::text, 'sla'::text, 'vendor_agreement'::text, 'other'::text])"
        }
      },
      "policies": {
        "contact_agreements_org_isolation": {
          "name": "contact_agreements_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.contact_compliance": {
      "name": "contact_compliance",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "compliance_type": {
          "name": "compliance_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "document_url": {
          "name": "document_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_received_at": {
          "name": "document_received_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "verification_notes": {
          "name": "verification_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "policy_number": {
          "name": "policy_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "coverage_amount": {
          "name": "coverage_amount",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "insurance_carrier": {
          "name": "insurance_carrier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_alert_sent_at": {
          "name": "expiry_alert_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_contact_compliance_contact": {
          "name": "idx_contact_compliance_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contact_compliance_expiry": {
          "name": "idx_contact_compliance_expiry",
          "columns": [
            {
              "expression": "expiry_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status = ANY (ARRAY['verified'::text, 'expiring'::text])) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contact_compliance_type": {
          "name": "idx_contact_compliance_type",
          "columns": [
            {
              "expression": "compliance_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "contact_compliance_contact_id_fkey": {
          "name": "contact_compliance_contact_id_fkey",
          "tableFrom": "contact_compliance",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_compliance_org_id_fkey": {
          "name": "contact_compliance_org_id_fkey",
          "tableFrom": "contact_compliance",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_compliance_verified_by_fkey": {
          "name": "contact_compliance_verified_by_fkey",
          "tableFrom": "contact_compliance",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "verified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "contact_compliance_status_check": {
          "name": "contact_compliance_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'received'::text, 'verified'::text, 'expiring'::text, 'expired'::text, 'rejected'::text])"
        },
        "contact_compliance_type_check": {
          "name": "contact_compliance_type_check",
          "value": "compliance_type = ANY (ARRAY['general_liability'::text, 'workers_comp'::text, 'e_o'::text, 'cyber'::text, 'w9'::text, 'coi'::text, 'background_check'::text, 'drug_test'::text, 'i9'::text, 'w4'::text, 'direct_deposit'::text])"
        }
      },
      "policies": {
        "contact_compliance_org_isolation": {
          "name": "contact_compliance_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.contact_communication_preferences": {
      "name": "contact_communication_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_opted_in": {
          "name": "is_opted_in",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "opted_in_at": {
          "name": "opted_in_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "opted_out_at": {
          "name": "opted_out_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "consent_source": {
          "name": "consent_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "frequency_preference": {
          "name": "frequency_preference",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_preferences": {
          "name": "content_preferences",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "bounce_count": {
          "name": "bounce_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_bounce_at": {
          "name": "last_bounce_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "complaint_count": {
          "name": "complaint_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_complaint_at": {
          "name": "last_complaint_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_contact_comm_prefs_contact": {
          "name": "idx_contact_comm_prefs_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contact_comm_prefs_opted_out": {
          "name": "idx_contact_comm_prefs_opted_out",
          "columns": [
            {
              "expression": "channel",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_opted_in = false)",
          "with": {}
        }
      },
      "foreignKeys": {
        "contact_communication_preferences_contact_id_fkey": {
          "name": "contact_communication_preferences_contact_id_fkey",
          "tableFrom": "contact_communication_preferences",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_communication_preferences_org_id_fkey": {
          "name": "contact_communication_preferences_org_id_fkey",
          "tableFrom": "contact_communication_preferences",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "contact_comm_prefs_unique": {
          "columns": [
            "contact_id",
            "channel"
          ],
          "nullsNotDistinct": false,
          "name": "contact_comm_prefs_unique"
        }
      },
      "checkConstraints": {
        "contact_comm_prefs_channel_check": {
          "name": "contact_comm_prefs_channel_check",
          "value": "channel = ANY (ARRAY['email'::text, 'phone'::text, 'sms'::text, 'linkedin'::text, 'whatsapp'::text, 'mail'::text])"
        }
      },
      "policies": {
        "contact_comm_prefs_org_isolation": {
          "name": "contact_comm_prefs_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.contact_merge_history": {
      "name": "contact_merge_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "survivor_contact_id": {
          "name": "survivor_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "merged_contact_id": {
          "name": "merged_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "merged_at": {
          "name": "merged_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "merged_by": {
          "name": "merged_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "field_selections": {
          "name": "field_selections",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "merged_contact_snapshot": {
          "name": "merged_contact_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_contact_merge_history_merged": {
          "name": "idx_contact_merge_history_merged",
          "columns": [
            {
              "expression": "merged_contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contact_merge_history_survivor": {
          "name": "idx_contact_merge_history_survivor",
          "columns": [
            {
              "expression": "survivor_contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "contact_merge_history_merged_by_fkey": {
          "name": "contact_merge_history_merged_by_fkey",
          "tableFrom": "contact_merge_history",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "merged_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contact_merge_history_org_id_fkey": {
          "name": "contact_merge_history_org_id_fkey",
          "tableFrom": "contact_merge_history",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contact_merge_history_survivor_contact_id_fkey": {
          "name": "contact_merge_history_survivor_contact_id_fkey",
          "tableFrom": "contact_merge_history",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "survivor_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "contact_merge_history_org_isolation": {
          "name": "contact_merge_history_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.note_reactions": {
      "name": "note_reactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "note_id": {
          "name": "note_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "reaction": {
          "name": "reaction",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_note_reactions_note": {
          "name": "idx_note_reactions_note",
          "columns": [
            {
              "expression": "note_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_note_reactions_user": {
          "name": "idx_note_reactions_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "note_reactions_note_id_fkey": {
          "name": "note_reactions_note_id_fkey",
          "tableFrom": "note_reactions",
          "tableTo": "notes",
          "schemaTo": "public",
          "columnsFrom": [
            "note_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "note_reactions_user_id_fkey": {
          "name": "note_reactions_user_id_fkey",
          "tableFrom": "note_reactions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "note_reactions_unique": {
          "columns": [
            "note_id",
            "user_id",
            "reaction"
          ],
          "nullsNotDistinct": false,
          "name": "note_reactions_unique"
        }
      },
      "checkConstraints": {},
      "policies": {
        "note_reactions_access": {
          "name": "note_reactions_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM notes n\n  WHERE ((n.id = note_reactions.note_id) AND (n.org_id = (current_setting('app.org_id'::text, true))::uuid))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.companies": {
      "name": "companies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_number": {
          "name": "company_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "company_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_type": {
          "name": "relationship_type",
          "type": "company_relationship_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'direct_client'"
        },
        "segment": {
          "name": "segment",
          "type": "company_segment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "tier": {
          "name": "tier",
          "type": "company_tier",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'standard'"
        },
        "status": {
          "name": "status",
          "type": "company_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "legal_name": {
          "name": "legal_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "dba_name": {
          "name": "dba_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "industry": {
          "name": "industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sub_industry": {
          "name": "sub_industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sic_code": {
          "name": "sic_code",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "naics_code": {
          "name": "naics_code",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "employee_count": {
          "name": "employee_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "employee_range": {
          "name": "employee_range",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "annual_revenue": {
          "name": "annual_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "revenue_range": {
          "name": "revenue_range",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "founded_year": {
          "name": "founded_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ownership_type": {
          "name": "ownership_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "parent_company_id": {
          "name": "parent_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "hierarchy_level": {
          "name": "hierarchy_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "hierarchy_path": {
          "name": "hierarchy_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_headquarters": {
          "name": "is_headquarters",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "linkedin_url": {
          "name": "linkedin_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "headquarters_city": {
          "name": "headquarters_city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "headquarters_state": {
          "name": "headquarters_state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "headquarters_country": {
          "name": "headquarters_country",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USA'"
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'America/New_York'"
        },
        "owner_id": {
          "name": "owner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "account_manager_id": {
          "name": "account_manager_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "pod_id": {
          "name": "pod_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "primary_contact_id": {
          "name": "primary_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_msp_program": {
          "name": "is_msp_program",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "msp_provider_id": {
          "name": "msp_provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "our_msp_tier": {
          "name": "our_msp_tier",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "vms_platform": {
          "name": "vms_platform",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "vms_vendor_id": {
          "name": "vms_vendor_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "vms_api_enabled": {
          "name": "vms_api_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "msa_status": {
          "name": "msa_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'none'"
        },
        "msa_effective_date": {
          "name": "msa_effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "msa_expiration_date": {
          "name": "msa_expiration_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "msa_auto_renews": {
          "name": "msa_auto_renews",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "default_payment_terms": {
          "name": "default_payment_terms",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'Net 30'"
        },
        "default_currency": {
          "name": "default_currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "default_markup_percentage": {
          "name": "default_markup_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "default_fee_percentage": {
          "name": "default_fee_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "credit_limit": {
          "name": "credit_limit",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "credit_status": {
          "name": "credit_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'approved'"
        },
        "account_score": {
          "name": "account_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "account_grade": {
          "name": "account_grade",
          "type": "char(1)",
          "primaryKey": false,
          "notNull": false
        },
        "health_score": {
          "name": "health_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "health_status": {
          "name": "health_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'healthy'"
        },
        "churn_risk": {
          "name": "churn_risk",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "nps_score": {
          "name": "nps_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "lifetime_revenue": {
          "name": "lifetime_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "lifetime_placements": {
          "name": "lifetime_placements",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "revenue_ytd": {
          "name": "revenue_ytd",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "placements_ytd": {
          "name": "placements_ytd",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "revenue_last_12m": {
          "name": "revenue_last_12m",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "avg_margin_percentage": {
          "name": "avg_margin_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "first_engagement_date": {
          "name": "first_engagement_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "last_job_date": {
          "name": "last_job_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "last_placement_date": {
          "name": "last_placement_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "last_activity_date": {
          "name": "last_activity_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_contacted_date": {
          "name": "last_contacted_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "next_scheduled_contact": {
          "name": "next_scheduled_contact",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "active_jobs_count": {
          "name": "active_jobs_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "active_placements_count": {
          "name": "active_placements_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_contacts_count": {
          "name": "total_contacts_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "source_detail": {
          "name": "source_detail",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_campaign_id": {
          "name": "source_campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "referring_company_id": {
          "name": "referring_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "referring_contact_id": {
          "name": "referring_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "converted_from_lead_id": {
          "name": "converted_from_lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_contact_method": {
          "name": "preferred_contact_method",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'email'"
        },
        "submission_method": {
          "name": "submission_method",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'email'"
        },
        "invoice_delivery_method": {
          "name": "invoice_delivery_method",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'email'"
        },
        "meeting_cadence": {
          "name": "meeting_cadence",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "is_strategic": {
          "name": "is_strategic",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "requires_po": {
          "name": "requires_po",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "requires_approval_for_submission": {
          "name": "requires_approval_for_submission",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allows_remote_work": {
          "name": "allows_remote_work",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "onboarding_status": {
          "name": "onboarding_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "onboarding_completed_at": {
          "name": "onboarding_completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "onboarding_completed_by": {
          "name": "onboarding_completed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "onboarding_data": {
          "name": "onboarding_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "custom_fields": {
          "name": "custom_fields",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "preferences": {
          "name": "preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "search_vector": {
          "name": "search_vector",
          "type": "tsvector",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "industries": {
          "name": "industries",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_companies_account_manager": {
          "name": "idx_companies_account_manager",
          "columns": [
            {
              "expression": "account_manager_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_companies_category": {
          "name": "idx_companies_category",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_companies_health": {
          "name": "idx_companies_health",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "health_status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "health_score",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_companies_hierarchy": {
          "name": "idx_companies_hierarchy",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "hierarchy_path",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_companies_name_trgm": {
          "name": "idx_companies_name_trgm",
          "columns": [
            {
              "expression": "name",
              "asc": true,
              "nulls": "last",
              "opclass": "gin_trgm_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_companies_org": {
          "name": "idx_companies_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_companies_owner": {
          "name": "idx_companies_owner",
          "columns": [
            {
              "expression": "owner_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_companies_parent": {
          "name": "idx_companies_parent",
          "columns": [
            {
              "expression": "parent_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_companies_search": {
          "name": "idx_companies_search",
          "columns": [
            {
              "expression": "search_vector",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_companies_status": {
          "name": "idx_companies_status",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_companies_tier": {
          "name": "idx_companies_tier",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "tier",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "companies_account_manager_id_fkey": {
          "name": "companies_account_manager_id_fkey",
          "tableFrom": "companies",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "account_manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "companies_created_by_fkey": {
          "name": "companies_created_by_fkey",
          "tableFrom": "companies",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "companies_msp_provider_id_fkey": {
          "name": "companies_msp_provider_id_fkey",
          "tableFrom": "companies",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "msp_provider_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "companies_onboarding_completed_by_fkey": {
          "name": "companies_onboarding_completed_by_fkey",
          "tableFrom": "companies",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "onboarding_completed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "companies_org_id_fkey": {
          "name": "companies_org_id_fkey",
          "tableFrom": "companies",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "companies_owner_id_fkey": {
          "name": "companies_owner_id_fkey",
          "tableFrom": "companies",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "companies_parent_company_id_fkey": {
          "name": "companies_parent_company_id_fkey",
          "tableFrom": "companies",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "parent_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "companies_pod_id_fkey": {
          "name": "companies_pod_id_fkey",
          "tableFrom": "companies",
          "tableTo": "pods",
          "schemaTo": "public",
          "columnsFrom": [
            "pod_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "companies_referring_company_id_fkey": {
          "name": "companies_referring_company_id_fkey",
          "tableFrom": "companies",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "referring_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "companies_updated_by_fkey": {
          "name": "companies_updated_by_fkey",
          "tableFrom": "companies",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "companies_account_grade_check": {
          "name": "companies_account_grade_check",
          "value": "account_grade = ANY (ARRAY['A'::bpchar, 'B'::bpchar, 'C'::bpchar, 'D'::bpchar])"
        },
        "companies_account_score_check": {
          "name": "companies_account_score_check",
          "value": "(account_score >= 0) AND (account_score <= 100)"
        },
        "companies_churn_risk_check": {
          "name": "companies_churn_risk_check",
          "value": "(churn_risk >= 0) AND (churn_risk <= 100)"
        },
        "companies_health_score_check": {
          "name": "companies_health_score_check",
          "value": "(health_score >= 0) AND (health_score <= 100)"
        },
        "companies_nps_score_check": {
          "name": "companies_nps_score_check",
          "value": "(nps_score >= '-100'::integer) AND (nps_score <= 100)"
        },
        "companies_our_msp_tier_check": {
          "name": "companies_our_msp_tier_check",
          "value": "(our_msp_tier >= 1) AND (our_msp_tier <= 5)"
        },
        "valid_hierarchy": {
          "name": "valid_hierarchy",
          "value": "(parent_company_id IS NULL) OR (parent_company_id <> id)"
        },
        "valid_msp_reference": {
          "name": "valid_msp_reference",
          "value": "(msp_provider_id IS NULL) OR (msp_provider_id <> id)"
        }
      },
      "policies": {
        "companies_org_isolation": {
          "name": "companies_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.documents": {
      "name": "documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "file_type": {
          "name": "file_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "file_size_bytes": {
          "name": "file_size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "storage_provider": {
          "name": "storage_provider",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'supabase'"
        },
        "storage_bucket": {
          "name": "storage_bucket",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "storage_path": {
          "name": "storage_path",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "public_url": {
          "name": "public_url",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "document_type": {
          "name": "document_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'other'"
        },
        "document_category": {
          "name": "document_category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'general'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "is_latest_version": {
          "name": "is_latest_version",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "previous_version_id": {
          "name": "previous_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "version_notes": {
          "name": "version_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "processing_status": {
          "name": "processing_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ocr_text": {
          "name": "ocr_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "extracted_metadata": {
          "name": "extracted_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "content_hash": {
          "name": "content_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_alert_sent_at": {
          "name": "expiry_alert_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_alert_days_before": {
          "name": "expiry_alert_days_before",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "is_confidential": {
          "name": "is_confidential",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "access_level": {
          "name": "access_level",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'standard'"
        },
        "accessible_by_roles": {
          "name": "accessible_by_roles",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_documents_entity": {
          "name": "idx_documents_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_documents_expiry": {
          "name": "idx_documents_expiry",
          "columns": [
            {
              "expression": "expires_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((expires_at IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_documents_hash": {
          "name": "idx_documents_hash",
          "columns": [
            {
              "expression": "content_hash",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_documents_latest": {
          "name": "idx_documents_latest",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "document_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_latest_version = true) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_documents_org": {
          "name": "idx_documents_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_documents_processing": {
          "name": "idx_documents_processing",
          "columns": [
            {
              "expression": "processing_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(((processing_status)::text <> 'completed'::text) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_documents_type": {
          "name": "idx_documents_type",
          "columns": [
            {
              "expression": "document_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "documents_org_id_fkey": {
          "name": "documents_org_id_fkey",
          "tableFrom": "documents",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "documents_previous_version_id_fkey": {
          "name": "documents_previous_version_id_fkey",
          "tableFrom": "documents",
          "tableTo": "documents",
          "schemaTo": "public",
          "columnsFrom": [
            "previous_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "documents_uploaded_by_fkey": {
          "name": "documents_uploaded_by_fkey",
          "tableFrom": "documents",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "documents_access_level_check": {
          "name": "documents_access_level_check",
          "value": "(access_level)::text = ANY ((ARRAY['public'::character varying, 'standard'::character varying, 'confidential'::character varying, 'restricted'::character varying])::text[])"
        },
        "documents_document_category_check": {
          "name": "documents_document_category_check",
          "value": "(document_category)::text = ANY ((ARRAY['compliance'::character varying, 'legal'::character varying, 'marketing'::character varying, 'hr'::character varying, 'operational'::character varying, 'general'::character varying])::text[])"
        },
        "documents_document_type_check": {
          "name": "documents_document_type_check",
          "value": "(document_type)::text = ANY ((ARRAY['resume'::character varying, 'cover_letter'::character varying, 'id_document'::character varying, 'certification'::character varying, 'reference_letter'::character varying, 'background_check'::character varying, 'drug_test'::character varying, 'i9'::character varying, 'w4'::character varying, 'direct_deposit'::character varying, 'msa'::character varying, 'nda'::character varying, 'sow'::character varying, 'w9'::character varying, 'coi'::character varying, 'insurance'::character varying, 'contract'::character varying, 'job_description'::character varying, 'requirements'::character varying, 'scorecard'::character varying, 'other'::character varying, 'note_attachment'::character varying, 'email_attachment'::character varying])::text[])"
        },
        "documents_processing_status_check": {
          "name": "documents_processing_status_check",
          "value": "(processing_status)::text = ANY ((ARRAY['pending'::character varying, 'processing'::character varying, 'completed'::character varying, 'failed'::character varying])::text[])"
        }
      },
      "policies": {
        "documents_access_level": {
          "name": "documents_access_level",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(((access_level)::text = ANY ((ARRAY['public'::character varying, 'standard'::character varying])::text[])) OR (((access_level)::text = 'confidential'::text) AND (EXISTS ( SELECT 1\n   FROM user_roles ur\n  WHERE ((ur.user_id = (current_setting('app.user_id'::text, true))::uuid) AND (ur.role_id IN ( SELECT roles.id\n           FROM roles\n          WHERE (roles.name = ANY (ARRAY['admin'::text, 'manager'::text])))))))) OR (uploaded_by = (current_setting('app.user_id'::text, true))::uuid))"
        },
        "documents_org_isolation": {
          "name": "documents_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.meeting_notes": {
      "name": "meeting_notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_ids": {
          "name": "contact_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "meeting_type": {
          "name": "meeting_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'check_in'"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "location_type": {
          "name": "location_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'video'"
        },
        "location_details": {
          "name": "location_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "agenda": {
          "name": "agenda",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "discussion_notes": {
          "name": "discussion_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "key_takeaways": {
          "name": "key_takeaways",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "action_items": {
          "name": "action_items",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "next_meeting_scheduled": {
          "name": "next_meeting_scheduled",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "follow_up_notes": {
          "name": "follow_up_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_satisfaction": {
          "name": "client_satisfaction",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_feedback": {
          "name": "client_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "related_job_ids": {
          "name": "related_job_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "related_candidate_ids": {
          "name": "related_candidate_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "related_escalation_id": {
          "name": "related_escalation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_meeting_notes_account": {
          "name": "idx_meeting_notes_account",
          "columns": [
            {
              "expression": "account_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_meeting_notes_created_by": {
          "name": "idx_meeting_notes_created_by",
          "columns": [
            {
              "expression": "created_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_meeting_notes_org": {
          "name": "idx_meeting_notes_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_meeting_notes_scheduled": {
          "name": "idx_meeting_notes_scheduled",
          "columns": [
            {
              "expression": "scheduled_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_meeting_notes_status": {
          "name": "idx_meeting_notes_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_meeting_notes_type": {
          "name": "idx_meeting_notes_type",
          "columns": [
            {
              "expression": "meeting_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "meeting_notes_created_by_fkey": {
          "name": "meeting_notes_created_by_fkey",
          "tableFrom": "meeting_notes",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "meeting_notes_org_id_fkey": {
          "name": "meeting_notes_org_id_fkey",
          "tableFrom": "meeting_notes",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "meeting_notes_updated_by_fkey": {
          "name": "meeting_notes_updated_by_fkey",
          "tableFrom": "meeting_notes",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "meeting_notes_employee_access": {
          "name": "meeting_notes_employee_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(auth_has_role('employee'::text) OR auth_has_role('admin'::text) OR auth_has_role('recruiter'::text))"
        },
        "meeting_notes_org_isolation": {
          "name": "meeting_notes_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.escalations": {
      "name": "escalations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "escalation_number": {
          "name": "escalation_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "escalation_type": {
          "name": "escalation_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "issue_summary": {
          "name": "issue_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "detailed_description": {
          "name": "detailed_description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "related_entities": {
          "name": "related_entities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "client_impact": {
          "name": "client_impact",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "root_cause": {
          "name": "root_cause",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "immediate_actions": {
          "name": "immediate_actions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_plan": {
          "name": "resolution_plan",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "sla_response_due": {
          "name": "sla_response_due",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "sla_resolution_due": {
          "name": "sla_resolution_due",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "sla_response_met": {
          "name": "sla_response_met",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "sla_resolution_met": {
          "name": "sla_resolution_met",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "escalated_to": {
          "name": "escalated_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_summary": {
          "name": "resolution_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_actions": {
          "name": "resolution_actions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "time_to_resolve": {
          "name": "time_to_resolve",
          "type": "interval",
          "primaryKey": false,
          "notNull": false
        },
        "client_satisfaction": {
          "name": "client_satisfaction",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lessons_learned": {
          "name": "lessons_learned",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "preventive_measures": {
          "name": "preventive_measures",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "manager_notification_type": {
          "name": "manager_notification_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "manager_notified_at": {
          "name": "manager_notified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_client_escalations_account": {
          "name": "idx_client_escalations_account",
          "columns": [
            {
              "expression": "account_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_client_escalations_assigned": {
          "name": "idx_client_escalations_assigned",
          "columns": [
            {
              "expression": "assigned_to",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_escalations_created_by": {
          "name": "idx_client_escalations_created_by",
          "columns": [
            {
              "expression": "created_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_escalations_number": {
          "name": "idx_client_escalations_number",
          "columns": [
            {
              "expression": "escalation_number",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_escalations_org": {
          "name": "idx_client_escalations_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_client_escalations_severity": {
          "name": "idx_client_escalations_severity",
          "columns": [
            {
              "expression": "severity",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_escalations_sla_response": {
          "name": "idx_client_escalations_sla_response",
          "columns": [
            {
              "expression": "sla_response_due",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = ANY (ARRAY['open'::text, 'in_progress'::text]))",
          "with": {}
        },
        "idx_client_escalations_status": {
          "name": "idx_client_escalations_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_escalations_type": {
          "name": "idx_client_escalations_type",
          "columns": [
            {
              "expression": "escalation_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "escalations_assigned_to_fkey": {
          "name": "escalations_assigned_to_fkey",
          "tableFrom": "escalations",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "escalations_created_by_fkey": {
          "name": "escalations_created_by_fkey",
          "tableFrom": "escalations",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "escalations_escalated_to_fkey": {
          "name": "escalations_escalated_to_fkey",
          "tableFrom": "escalations",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "escalated_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "escalations_org_id_fkey": {
          "name": "escalations_org_id_fkey",
          "tableFrom": "escalations",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "escalations_resolved_by_fkey": {
          "name": "escalations_resolved_by_fkey",
          "tableFrom": "escalations",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "resolved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "escalations_escalation_number_key": {
          "columns": [
            "escalation_number"
          ],
          "nullsNotDistinct": false,
          "name": "escalations_escalation_number_key"
        }
      },
      "checkConstraints": {},
      "policies": {
        "escalations_employee_access": {
          "name": "escalations_employee_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(auth_has_role('employee'::text) OR auth_has_role('admin'::text) OR auth_has_role('recruiter'::text))"
        },
        "escalations_org_isolation": {
          "name": "escalations_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.escalation_updates": {
      "name": "escalation_updates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "escalation_id": {
          "name": "escalation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "update_type": {
          "name": "update_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "old_status": {
          "name": "old_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "new_status": {
          "name": "new_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "old_assignee_id": {
          "name": "old_assignee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "new_assignee_id": {
          "name": "new_assignee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "is_internal": {
          "name": "is_internal",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        }
      },
      "indexes": {
        "idx_escalation_updates_created_at": {
          "name": "idx_escalation_updates_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_escalation_updates_escalation": {
          "name": "idx_escalation_updates_escalation",
          "columns": [
            {
              "expression": "escalation_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_escalation_updates_type": {
          "name": "idx_escalation_updates_type",
          "columns": [
            {
              "expression": "update_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "escalation_updates_created_by_fkey": {
          "name": "escalation_updates_created_by_fkey",
          "tableFrom": "escalation_updates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "escalation_updates_escalation_id_fkey": {
          "name": "escalation_updates_escalation_id_fkey",
          "tableFrom": "escalation_updates",
          "tableTo": "escalations",
          "schemaTo": "public",
          "columnsFrom": [
            "escalation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "escalation_updates_new_assignee_id_fkey": {
          "name": "escalation_updates_new_assignee_id_fkey",
          "tableFrom": "escalation_updates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "new_assignee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "escalation_updates_old_assignee_id_fkey": {
          "name": "escalation_updates_old_assignee_id_fkey",
          "tableFrom": "escalation_updates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "old_assignee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "escalation_updates_access": {
          "name": "escalation_updates_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(escalation_id IN ( SELECT escalations.id\n   FROM escalations\n  WHERE (escalations.org_id = auth_org_id())))"
        }
      },
      "isRLSEnabled": true
    },
    "public.document_access_log": {
      "name": "document_access_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "accessed_at": {
          "name": "accessed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_document_access_document": {
          "name": "idx_document_access_document",
          "columns": [
            {
              "expression": "document_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "accessed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_access_user": {
          "name": "idx_document_access_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "accessed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "document_access_log_document_id_fkey": {
          "name": "document_access_log_document_id_fkey",
          "tableFrom": "document_access_log",
          "tableTo": "documents",
          "schemaTo": "public",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "document_access_log_user_id_fkey": {
          "name": "document_access_log_user_id_fkey",
          "tableFrom": "document_access_log",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "document_access_log_policy": {
          "name": "document_access_log_policy",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM documents d\n  WHERE ((d.id = document_access_log.document_id) AND (d.org_id = (current_setting('app.org_id'::text, true))::uuid))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.company_client_details": {
      "name": "company_client_details",
      "schema": "",
      "columns": {
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "billing_entity_name": {
          "name": "billing_entity_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_email": {
          "name": "billing_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_phone": {
          "name": "billing_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_contact_id": {
          "name": "billing_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "po_required": {
          "name": "po_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "current_po_number": {
          "name": "current_po_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "po_expiration_date": {
          "name": "po_expiration_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "invoice_format": {
          "name": "invoice_format",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'standard'"
        },
        "invoice_consolidation": {
          "name": "invoice_consolidation",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'per_placement'"
        },
        "invoice_due_reminder_days": {
          "name": "invoice_due_reminder_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 7
        },
        "billing_address_line_1": {
          "name": "billing_address_line_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_address_line_2": {
          "name": "billing_address_line_2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_city": {
          "name": "billing_city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_state": {
          "name": "billing_state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_postal_code": {
          "name": "billing_postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_country": {
          "name": "billing_country",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USA'"
        },
        "preferred_work_arrangements": {
          "name": "preferred_work_arrangements",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_contract_types": {
          "name": "preferred_contract_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "allows_contract_to_hire": {
          "name": "allows_contract_to_hire",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "cth_conversion_fee_percentage": {
          "name": "cth_conversion_fee_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "cth_conversion_credit_days": {
          "name": "cth_conversion_credit_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 90
        },
        "responsiveness_rating": {
          "name": "responsiveness_rating",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "feedback_quality_rating": {
          "name": "feedback_quality_rating",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "hiring_speed_rating": {
          "name": "hiring_speed_rating",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_experience_levels": {
          "name": "preferred_experience_levels",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "typical_interview_rounds": {
          "name": "typical_interview_rounds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "avg_time_to_decision_days": {
          "name": "avg_time_to_decision_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "interview_process_notes": {
          "name": "interview_process_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "exclusive_supplier": {
          "name": "exclusive_supplier",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "exclusive_start_date": {
          "name": "exclusive_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "exclusive_end_date": {
          "name": "exclusive_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "known_competitors": {
          "name": "known_competitors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "wallet_share_percentage": {
          "name": "wallet_share_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "qbr_frequency": {
          "name": "qbr_frequency",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "last_qbr_date": {
          "name": "last_qbr_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "next_qbr_date": {
          "name": "next_qbr_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "executive_sponsor_id": {
          "name": "executive_sponsor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "legacy_billing_data": {
          "name": "legacy_billing_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "billing_frequency": {
          "name": "billing_frequency",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'monthly'"
        }
      },
      "indexes": {
        "idx_company_client_details_org": {
          "name": "idx_company_client_details_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "company_client_details_company_id_fkey": {
          "name": "company_client_details_company_id_fkey",
          "tableFrom": "company_client_details",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "company_client_details_executive_sponsor_id_fkey": {
          "name": "company_client_details_executive_sponsor_id_fkey",
          "tableFrom": "company_client_details",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "executive_sponsor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_client_details_org_id_fkey": {
          "name": "company_client_details_org_id_fkey",
          "tableFrom": "company_client_details",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "company_client_details_billing_frequency_check": {
          "name": "company_client_details_billing_frequency_check",
          "value": "(billing_frequency)::text = ANY ((ARRAY['weekly'::character varying, 'biweekly'::character varying, 'monthly'::character varying])::text[])"
        }
      },
      "policies": {
        "company_client_details_org_isolation": {
          "name": "company_client_details_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.company_vendor_details": {
      "name": "company_vendor_details",
      "schema": "",
      "columns": {
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "vendor_type": {
          "name": "vendor_type",
          "type": "company_vendor_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'prime_vendor'"
        },
        "industry_focus": {
          "name": "industry_focus",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "geographic_focus": {
          "name": "geographic_focus",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "skill_focus": {
          "name": "skill_focus",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_manager_id": {
          "name": "vendor_manager_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "onboarded_date": {
          "name": "onboarded_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "last_job_order_date": {
          "name": "last_job_order_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "payment_terms_to_us": {
          "name": "payment_terms_to_us",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'Net 60'"
        },
        "typical_markup_to_client": {
          "name": "typical_markup_to_client",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "our_typical_margin": {
          "name": "our_typical_margin",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_job_categories": {
          "name": "preferred_job_categories",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "excluded_job_categories": {
          "name": "excluded_job_categories",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "min_rate_hourly": {
          "name": "min_rate_hourly",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "max_rate_hourly": {
          "name": "max_rate_hourly",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "accepts_corp_to_corp": {
          "name": "accepts_corp_to_corp",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "accepts_1099": {
          "name": "accepts_1099",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "total_job_orders": {
          "name": "total_job_orders",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "filled_job_orders": {
          "name": "filled_job_orders",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "fill_rate": {
          "name": "fill_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "avg_time_to_fill_days": {
          "name": "avg_time_to_fill_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_revenue_from_vendor": {
          "name": "total_revenue_from_vendor",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "job_order_delivery_method": {
          "name": "job_order_delivery_method",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'email'"
        },
        "submission_format": {
          "name": "submission_format",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'email'"
        },
        "requires_right_to_represent": {
          "name": "requires_right_to_represent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "rtr_validity_hours": {
          "name": "rtr_validity_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 24
        },
        "is_blacklisted": {
          "name": "is_blacklisted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "blacklist_reason": {
          "name": "blacklist_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "blacklist_date": {
          "name": "blacklist_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "has_payment_issues": {
          "name": "has_payment_issues",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "payment_issue_notes": {
          "name": "payment_issue_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "supplies_talent": {
          "name": "supplies_talent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "talent_categories": {
          "name": "talent_categories",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "talent_specializations": {
          "name": "talent_specializations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "bench_consultants_count": {
          "name": "bench_consultants_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "candidates_supplied_count": {
          "name": "candidates_supplied_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "candidates_placed_count": {
          "name": "candidates_placed_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "talent_placement_rate": {
          "name": "talent_placement_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "avg_talent_quality_score": {
          "name": "avg_talent_quality_score",
          "type": "numeric(3, 1)",
          "primaryKey": false,
          "notNull": false
        },
        "legacy_terms_data": {
          "name": "legacy_terms_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_company_vendor_details_blacklist": {
          "name": "idx_company_vendor_details_blacklist",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_blacklisted = true)",
          "with": {}
        },
        "idx_company_vendor_details_org": {
          "name": "idx_company_vendor_details_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_company_vendor_details_type": {
          "name": "idx_company_vendor_details_type",
          "columns": [
            {
              "expression": "vendor_type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "company_vendor_details_company_id_fkey": {
          "name": "company_vendor_details_company_id_fkey",
          "tableFrom": "company_vendor_details",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "company_vendor_details_org_id_fkey": {
          "name": "company_vendor_details_org_id_fkey",
          "tableFrom": "company_vendor_details",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_vendor_details_vendor_manager_id_fkey": {
          "name": "company_vendor_details_vendor_manager_id_fkey",
          "tableFrom": "company_vendor_details",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "vendor_manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "company_vendor_details_org_isolation": {
          "name": "company_vendor_details_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.company_partner_details": {
      "name": "company_partner_details",
      "schema": "",
      "columns": {
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "partnership_type": {
          "name": "partnership_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "partnership_tier": {
          "name": "partnership_tier",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "partnership_start_date": {
          "name": "partnership_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "partnership_renewal_date": {
          "name": "partnership_renewal_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "referral_fee_percentage": {
          "name": "referral_fee_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "referral_fee_flat": {
          "name": "referral_fee_flat",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "referral_tracking_period_days": {
          "name": "referral_tracking_period_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 365
        },
        "total_referrals": {
          "name": "total_referrals",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "successful_referrals": {
          "name": "successful_referrals",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "referral_conversion_rate": {
          "name": "referral_conversion_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_referral_revenue": {
          "name": "total_referral_revenue",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "co_marketing_fund": {
          "name": "co_marketing_fund",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "co_marketing_activities": {
          "name": "co_marketing_activities",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "joint_case_studies": {
          "name": "joint_case_studies",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "api_integration_enabled": {
          "name": "api_integration_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "integration_type": {
          "name": "integration_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_company_partner_details_org": {
          "name": "idx_company_partner_details_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "company_partner_details_company_id_fkey": {
          "name": "company_partner_details_company_id_fkey",
          "tableFrom": "company_partner_details",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "company_partner_details_org_id_fkey": {
          "name": "company_partner_details_org_id_fkey",
          "tableFrom": "company_partner_details",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "company_partner_details_org_isolation": {
          "name": "company_partner_details_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = current_user_org_id())"
        }
      },
      "isRLSEnabled": true
    },
    "public.deals": {
      "name": "deals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "value": {
          "name": "value",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "stage": {
          "name": "stage",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'discovery'"
        },
        "probability": {
          "name": "probability",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "expected_close_date": {
          "name": "expected_close_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "actual_close_date": {
          "name": "actual_close_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "owner_id": {
          "name": "owner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "close_reason": {
          "name": "close_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "linked_job_ids": {
          "name": "linked_job_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deal_type": {
          "name": "deal_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "loss_reason": {
          "name": "loss_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "competitor_won": {
          "name": "competitor_won",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "value_basis": {
          "name": "value_basis",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'one_time'"
        },
        "weighted_value": {
          "name": "weighted_value",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "((value * (probability)::numeric) / 100.0)",
            "type": "stored"
          }
        },
        "estimated_placements": {
          "name": "estimated_placements",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "avg_bill_rate": {
          "name": "avg_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "contract_length_months": {
          "name": "contract_length_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hiring_needs": {
          "name": "hiring_needs",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "roles_breakdown": {
          "name": "roles_breakdown",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "services_required": {
          "name": "services_required",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "competitors": {
          "name": "competitors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "competitive_advantage": {
          "name": "competitive_advantage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pod_manager_id": {
          "name": "pod_manager_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_owner_id": {
          "name": "secondary_owner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "next_action": {
          "name": "next_action",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "next_action_date": {
          "name": "next_action_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "health_status": {
          "name": "health_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'on_track'"
        },
        "last_activity_at": {
          "name": "last_activity_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "contract_signed_date": {
          "name": "contract_signed_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "contract_start_date": {
          "name": "contract_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "contract_duration_months": {
          "name": "contract_duration_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "contract_type": {
          "name": "contract_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_terms": {
          "name": "payment_terms",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_frequency": {
          "name": "billing_frequency",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_contact": {
          "name": "billing_contact",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "confirmed_roles": {
          "name": "confirmed_roles",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "win_reason": {
          "name": "win_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "win_details": {
          "name": "win_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "competitors_beat": {
          "name": "competitors_beat",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "loss_reason_category": {
          "name": "loss_reason_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "loss_details": {
          "name": "loss_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "competitor_price": {
          "name": "competitor_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "future_potential": {
          "name": "future_potential",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reengagement_date": {
          "name": "reengagement_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "lessons_learned": {
          "name": "lessons_learned",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_account_id": {
          "name": "created_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "lead_contact_id": {
          "name": "lead_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_deals_account": {
          "name": "idx_deals_account",
          "columns": [
            {
              "expression": "account_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deals_account_id": {
          "name": "idx_deals_account_id",
          "columns": [
            {
              "expression": "account_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deals_company_id": {
          "name": "idx_deals_company_id",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_deals_expected_close": {
          "name": "idx_deals_expected_close",
          "columns": [
            {
              "expression": "expected_close_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deals_expected_close_active": {
          "name": "idx_deals_expected_close_active",
          "columns": [
            {
              "expression": "expected_close_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((deleted_at IS NULL) AND (stage <> ALL (ARRAY['closed_won'::text, 'closed_lost'::text])))",
          "with": {}
        },
        "idx_deals_health_status": {
          "name": "idx_deals_health_status",
          "columns": [
            {
              "expression": "health_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((deleted_at IS NULL) AND (stage <> ALL (ARRAY['closed_won'::text, 'closed_lost'::text])))",
          "with": {}
        },
        "idx_deals_last_activity": {
          "name": "idx_deals_last_activity",
          "columns": [
            {
              "expression": "last_activity_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((deleted_at IS NULL) AND (stage <> ALL (ARRAY['closed_won'::text, 'closed_lost'::text])))",
          "with": {}
        },
        "idx_deals_lead": {
          "name": "idx_deals_lead",
          "columns": [
            {
              "expression": "lead_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deals_lead_contact": {
          "name": "idx_deals_lead_contact",
          "columns": [
            {
              "expression": "lead_contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_deals_lead_id": {
          "name": "idx_deals_lead_id",
          "columns": [
            {
              "expression": "lead_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deals_org": {
          "name": "idx_deals_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_deals_org_id": {
          "name": "idx_deals_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deals_owner": {
          "name": "idx_deals_owner",
          "columns": [
            {
              "expression": "owner_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deals_owner_id": {
          "name": "idx_deals_owner_id",
          "columns": [
            {
              "expression": "owner_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deals_stage": {
          "name": "idx_deals_stage",
          "columns": [
            {
              "expression": "stage",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deals_stage_owner": {
          "name": "idx_deals_stage_owner",
          "columns": [
            {
              "expression": "stage",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "owner_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "deals_company_id_fkey": {
          "name": "deals_company_id_fkey",
          "tableFrom": "deals",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "deals_created_by_fkey": {
          "name": "deals_created_by_fkey",
          "tableFrom": "deals",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "deals_lead_contact_id_fkey": {
          "name": "deals_lead_contact_id_fkey",
          "tableFrom": "deals",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "lead_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "deals_lead_id_fkey": {
          "name": "deals_lead_id_fkey",
          "tableFrom": "deals",
          "tableTo": "leads",
          "schemaTo": "public",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "deals_org_id_fkey": {
          "name": "deals_org_id_fkey",
          "tableFrom": "deals",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "deals_owner_id_fkey": {
          "name": "deals_owner_id_fkey",
          "tableFrom": "deals",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "deals_pod_manager_id_fkey": {
          "name": "deals_pod_manager_id_fkey",
          "tableFrom": "deals",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "pod_manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "deals_secondary_owner_id_fkey": {
          "name": "deals_secondary_owner_id_fkey",
          "tableFrom": "deals",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "secondary_owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "deals_billing_frequency_check": {
          "name": "deals_billing_frequency_check",
          "value": "billing_frequency = ANY (ARRAY['weekly'::text, 'biweekly'::text, 'monthly'::text])"
        },
        "deals_contract_type_check": {
          "name": "deals_contract_type_check",
          "value": "contract_type = ANY (ARRAY['msa'::text, 'sow'::text, 'po'::text, 'email'::text])"
        },
        "deals_future_potential_check": {
          "name": "deals_future_potential_check",
          "value": "future_potential = ANY (ARRAY['yes'::text, 'maybe'::text, 'no'::text])"
        },
        "deals_health_status_check": {
          "name": "deals_health_status_check",
          "value": "health_status = ANY (ARRAY['on_track'::text, 'slow'::text, 'stale'::text, 'urgent'::text, 'at_risk'::text])"
        },
        "deals_loss_reason_category_check": {
          "name": "deals_loss_reason_category_check",
          "value": "loss_reason_category = ANY (ARRAY['competitor'::text, 'no_budget'::text, 'project_cancelled'::text, 'hired_internally'::text, 'went_dark'::text, 'price_too_high'::text, 'requirements_changed'::text, 'other'::text])"
        },
        "deals_payment_terms_check": {
          "name": "deals_payment_terms_check",
          "value": "payment_terms = ANY (ARRAY['net_15'::text, 'net_30'::text, 'net_45'::text, 'net_60'::text])"
        },
        "deals_probability_check": {
          "name": "deals_probability_check",
          "value": "(probability >= 0) AND (probability <= 100)"
        },
        "deals_value_basis_check": {
          "name": "deals_value_basis_check",
          "value": "value_basis = ANY (ARRAY['one_time'::text, 'annual'::text, 'monthly'::text])"
        },
        "deals_win_reason_check": {
          "name": "deals_win_reason_check",
          "value": "win_reason = ANY (ARRAY['price_value'::text, 'expertise_speed'::text, 'relationship_trust'::text, 'candidate_quality'::text, 'response_time'::text, 'other'::text])"
        }
      },
      "policies": {
        "deals_employee_insert": {
          "name": "deals_employee_insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "(auth_has_role('employee'::text) OR auth_has_role('admin'::text) OR auth_has_role('recruiter'::text))"
        },
        "deals_employee_select": {
          "name": "deals_employee_select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "deals_org_isolation": {
          "name": "deals_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        },
        "deals_owner_update": {
          "name": "deals_owner_update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.data_retention_policies": {
      "name": "data_retention_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "table_name": {
          "name": "table_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "retention_days": {
          "name": "retention_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "archive_after_days": {
          "name": "archive_after_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "mask_pii_after_days": {
          "name": "mask_pii_after_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "action_on_expiry": {
          "name": "action_on_expiry",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'archive'"
        },
        "last_processed_at": {
          "name": "last_processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "processing_frequency": {
          "name": "processing_frequency",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'daily'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_retention_policies_active": {
          "name": "idx_retention_policies_active",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        }
      },
      "foreignKeys": {
        "data_retention_policies_created_by_fkey": {
          "name": "data_retention_policies_created_by_fkey",
          "tableFrom": "data_retention_policies",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "data_retention_policies_org_id_fkey": {
          "name": "data_retention_policies_org_id_fkey",
          "tableFrom": "data_retention_policies",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "retention_policies_unique": {
          "columns": [
            "org_id",
            "table_name",
            "entity_type"
          ],
          "nullsNotDistinct": false,
          "name": "retention_policies_unique"
        }
      },
      "checkConstraints": {
        "retention_policies_action_check": {
          "name": "retention_policies_action_check",
          "value": "(action_on_expiry)::text = ANY ((ARRAY['archive'::character varying, 'delete'::character varying, 'anonymize'::character varying])::text[])"
        }
      },
      "policies": {
        "retention_policies_org_isolation": {
          "name": "retention_policies_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.compliance_requirements": {
      "name": "compliance_requirements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_code": {
          "name": "requirement_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_name": {
          "name": "requirement_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "subcategory": {
          "name": "subcategory",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "applies_to_entity_types": {
          "name": "applies_to_entity_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"RAY['contact'::tex\"}'"
        },
        "validity_period_days": {
          "name": "validity_period_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "renewal_lead_days": {
          "name": "renewal_lead_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "priority": {
          "name": "priority",
          "type": "compliance_priority",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'medium'"
        },
        "is_blocking": {
          "name": "is_blocking",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "requires_document": {
          "name": "requires_document",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "accepted_document_types": {
          "name": "accepted_document_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "jurisdiction": {
          "name": "jurisdiction",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "jurisdiction_region": {
          "name": "jurisdiction_region",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "effective_from": {
          "name": "effective_from",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "effective_until": {
          "name": "effective_until",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_compliance_req_blocking": {
          "name": "idx_compliance_req_blocking",
          "columns": [
            {
              "expression": "is_blocking",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_blocking = true) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_compliance_req_category": {
          "name": "idx_compliance_req_category",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_compliance_req_org": {
          "name": "idx_compliance_req_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "compliance_requirements_created_by_fkey1": {
          "name": "compliance_requirements_created_by_fkey1",
          "tableFrom": "compliance_requirements",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compliance_requirements_org_id_fkey1": {
          "name": "compliance_requirements_org_id_fkey1",
          "tableFrom": "compliance_requirements",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "compliance_requirements_code_unique": {
          "columns": [
            "org_id",
            "requirement_code"
          ],
          "nullsNotDistinct": false,
          "name": "compliance_requirements_code_unique"
        }
      },
      "checkConstraints": {
        "compliance_requirements_category_check": {
          "name": "compliance_requirements_category_check",
          "value": "(category)::text = ANY ((ARRAY['background'::character varying, 'drug_test'::character varying, 'tax'::character varying, 'insurance'::character varying, 'certification'::character varying, 'legal'::character varying, 'immigration'::character varying, 'health'::character varying, 'training'::character varying, 'other'::character varying])::text[])"
        }
      },
      "policies": {
        "compliance_requirements_org_isolation": {
          "name": "compliance_requirements_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.compliance_items": {
      "name": "compliance_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_id": {
          "name": "requirement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_type": {
          "name": "compliance_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_name": {
          "name": "compliance_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "compliance_item_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "document_url": {
          "name": "document_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "document_received_at": {
          "name": "document_received_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "verification_method": {
          "name": "verification_method",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "verification_notes": {
          "name": "verification_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "waived_by": {
          "name": "waived_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "waived_at": {
          "name": "waived_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "waiver_reason": {
          "name": "waiver_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "waiver_expires_at": {
          "name": "waiver_expires_at",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "policy_number": {
          "name": "policy_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "coverage_amount": {
          "name": "coverage_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "insurance_carrier": {
          "name": "insurance_carrier",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "context_placement_id": {
          "name": "context_placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "context_client_id": {
          "name": "context_client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_alert_sent_at": {
          "name": "expiry_alert_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_alert_days_before": {
          "name": "expiry_alert_days_before",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "inherited_from_entity_type": {
          "name": "inherited_from_entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "inherited_from_entity_id": {
          "name": "inherited_from_entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_compliance_items_entity": {
          "name": "idx_compliance_items_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_compliance_items_expiring": {
          "name": "idx_compliance_items_expiring",
          "columns": [
            {
              "expression": "expiry_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status <> ALL (ARRAY['expired'::compliance_item_status, 'rejected'::compliance_item_status, 'waived'::compliance_item_status])) AND (expiry_date IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_compliance_items_expiry": {
          "name": "idx_compliance_items_expiry",
          "columns": [
            {
              "expression": "expiry_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((expiry_date IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_compliance_items_org": {
          "name": "idx_compliance_items_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_compliance_items_requirement": {
          "name": "idx_compliance_items_requirement",
          "columns": [
            {
              "expression": "requirement_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((requirement_id IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_compliance_items_status": {
          "name": "idx_compliance_items_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "compliance_items_created_by_fkey": {
          "name": "compliance_items_created_by_fkey",
          "tableFrom": "compliance_items",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compliance_items_org_id_fkey": {
          "name": "compliance_items_org_id_fkey",
          "tableFrom": "compliance_items",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compliance_items_requirement_id_fkey": {
          "name": "compliance_items_requirement_id_fkey",
          "tableFrom": "compliance_items",
          "tableTo": "compliance_requirements",
          "schemaTo": "public",
          "columnsFrom": [
            "requirement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compliance_items_verified_by_fkey": {
          "name": "compliance_items_verified_by_fkey",
          "tableFrom": "compliance_items",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "verified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compliance_items_waived_by_fkey": {
          "name": "compliance_items_waived_by_fkey",
          "tableFrom": "compliance_items",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "waived_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "compliance_items_org_isolation": {
          "name": "compliance_items_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.entity_compliance_requirements": {
      "name": "entity_compliance_requirements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_id": {
          "name": "requirement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "custom_validity_days": {
          "name": "custom_validity_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "custom_lead_days": {
          "name": "custom_lead_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_entity_compliance_req_entity": {
          "name": "idx_entity_compliance_req_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "entity_compliance_requirements_created_by_fkey": {
          "name": "entity_compliance_requirements_created_by_fkey",
          "tableFrom": "entity_compliance_requirements",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entity_compliance_requirements_org_id_fkey": {
          "name": "entity_compliance_requirements_org_id_fkey",
          "tableFrom": "entity_compliance_requirements",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entity_compliance_requirements_requirement_id_fkey": {
          "name": "entity_compliance_requirements_requirement_id_fkey",
          "tableFrom": "entity_compliance_requirements",
          "tableTo": "compliance_requirements",
          "schemaTo": "public",
          "columnsFrom": [
            "requirement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "entity_compliance_req_unique": {
          "columns": [
            "entity_type",
            "entity_id",
            "requirement_id"
          ],
          "nullsNotDistinct": false,
          "name": "entity_compliance_req_unique"
        }
      },
      "checkConstraints": {},
      "policies": {
        "entity_compliance_requirements_org_isolation": {
          "name": "entity_compliance_requirements_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.contracts": {
      "name": "contracts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "secondary_entity_type": {
          "name": "secondary_entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_entity_id": {
          "name": "secondary_entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contract_number": {
          "name": "contract_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "contract_name": {
          "name": "contract_name",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": true
        },
        "contract_type": {
          "name": "contract_type",
          "type": "contract_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "parent_contract_id": {
          "name": "parent_contract_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "contract_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "termination_date": {
          "name": "termination_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "auto_renew": {
          "name": "auto_renew",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "renewal_term_months": {
          "name": "renewal_term_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "renewal_notice_days": {
          "name": "renewal_notice_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "max_renewals": {
          "name": "max_renewals",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "renewals_count": {
          "name": "renewals_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "contract_value": {
          "name": "contract_value",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "terms": {
          "name": "terms",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "document_url": {
          "name": "document_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "signed_document_id": {
          "name": "signed_document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "signed_document_url": {
          "name": "signed_document_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "is_latest_version": {
          "name": "is_latest_version",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "previous_version_id": {
          "name": "previous_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "esign_provider": {
          "name": "esign_provider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "esign_envelope_id": {
          "name": "esign_envelope_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "esign_status": {
          "name": "esign_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "termination_reason": {
          "name": "termination_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "terminated_by": {
          "name": "terminated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "context_job_id": {
          "name": "context_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "context_placement_id": {
          "name": "context_placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "owner_id": {
          "name": "owner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_contracts_entity": {
          "name": "idx_contracts_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contracts_expiry": {
          "name": "idx_contracts_expiry",
          "columns": [
            {
              "expression": "expiry_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((expiry_date IS NOT NULL) AND (status = 'active'::contract_status) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contracts_latest": {
          "name": "idx_contracts_latest",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "contract_type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_latest_version = true) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contracts_org": {
          "name": "idx_contracts_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contracts_parent": {
          "name": "idx_contracts_parent",
          "columns": [
            {
              "expression": "parent_contract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((parent_contract_id IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_contracts_status": {
          "name": "idx_contracts_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "contract_type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "contracts_created_by_fkey": {
          "name": "contracts_created_by_fkey",
          "tableFrom": "contracts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contracts_org_id_fkey": {
          "name": "contracts_org_id_fkey",
          "tableFrom": "contracts",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contracts_owner_id_fkey": {
          "name": "contracts_owner_id_fkey",
          "tableFrom": "contracts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contracts_parent_contract_id_fkey": {
          "name": "contracts_parent_contract_id_fkey",
          "tableFrom": "contracts",
          "tableTo": "contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "parent_contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contracts_previous_version_id_fkey": {
          "name": "contracts_previous_version_id_fkey",
          "tableFrom": "contracts",
          "tableTo": "contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "previous_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contracts_terminated_by_fkey": {
          "name": "contracts_terminated_by_fkey",
          "tableFrom": "contracts",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "terminated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "contracts_number_unique": {
          "columns": [
            "org_id",
            "contract_number"
          ],
          "nullsNotDistinct": false,
          "name": "contracts_number_unique"
        }
      },
      "checkConstraints": {},
      "policies": {
        "contracts_org_isolation": {
          "name": "contracts_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.contract_versions": {
      "name": "contract_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "contract_id": {
          "name": "contract_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version_number": {
          "name": "version_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "version_type": {
          "name": "version_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "version_name": {
          "name": "version_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "change_summary": {
          "name": "change_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "changes_json": {
          "name": "changes_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "contract_value": {
          "name": "contract_value",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "terms_snapshot": {
          "name": "terms_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "document_url": {
          "name": "document_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_contract_versions_contract": {
          "name": "idx_contract_versions_contract",
          "columns": [
            {
              "expression": "contract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "version_number",
              "asc": false,
              "nulls": "first",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "contract_versions_approved_by_fkey": {
          "name": "contract_versions_approved_by_fkey",
          "tableFrom": "contract_versions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contract_versions_contract_id_fkey": {
          "name": "contract_versions_contract_id_fkey",
          "tableFrom": "contract_versions",
          "tableTo": "contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contract_versions_created_by_fkey": {
          "name": "contract_versions_created_by_fkey",
          "tableFrom": "contract_versions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "contract_versions_unique": {
          "columns": [
            "contract_id",
            "version_number"
          ],
          "nullsNotDistinct": false,
          "name": "contract_versions_unique"
        }
      },
      "checkConstraints": {},
      "policies": {
        "contract_versions_org_isolation": {
          "name": "contract_versions_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM contracts c\n  WHERE ((c.id = contract_versions.contract_id) AND (c.org_id = (current_setting('app.org_id'::text, true))::uuid))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.contract_parties": {
      "name": "contract_parties",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contract_id": {
          "name": "contract_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "party_type": {
          "name": "party_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "party_role": {
          "name": "party_role",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "party_name": {
          "name": "party_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "party_email": {
          "name": "party_email",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "party_title": {
          "name": "party_title",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "party_company": {
          "name": "party_company",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "signatory_status": {
          "name": "signatory_status",
          "type": "signatory_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "signature_requested_at": {
          "name": "signature_requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "signed_at": {
          "name": "signed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "signature_ip": {
          "name": "signature_ip",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "declined_reason": {
          "name": "declined_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "esign_recipient_id": {
          "name": "esign_recipient_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "signing_order": {
          "name": "signing_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_contract_parties_contact": {
          "name": "idx_contract_parties_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_contract_parties_contract": {
          "name": "idx_contract_parties_contract",
          "columns": [
            {
              "expression": "contract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_contract_parties_pending": {
          "name": "idx_contract_parties_pending",
          "columns": [
            {
              "expression": "contract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "signatory_status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(signatory_status = 'pending'::signatory_status)",
          "with": {}
        },
        "idx_contract_parties_user": {
          "name": "idx_contract_parties_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(user_id IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "contract_parties_company_id_fkey": {
          "name": "contract_parties_company_id_fkey",
          "tableFrom": "contract_parties",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contract_parties_contact_id_fkey": {
          "name": "contract_parties_contact_id_fkey",
          "tableFrom": "contract_parties",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contract_parties_contract_id_fkey": {
          "name": "contract_parties_contract_id_fkey",
          "tableFrom": "contract_parties",
          "tableTo": "contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "contract_parties_org_id_fkey": {
          "name": "contract_parties_org_id_fkey",
          "tableFrom": "contract_parties",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contract_parties_user_id_fkey": {
          "name": "contract_parties_user_id_fkey",
          "tableFrom": "contract_parties",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "contract_parties_org_isolation": {
          "name": "contract_parties_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.contract_templates": {
      "name": "contract_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_name": {
          "name": "template_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "template_code": {
          "name": "template_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "contract_type": {
          "name": "contract_type",
          "type": "contract_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "template_content": {
          "name": "template_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "template_document_id": {
          "name": "template_document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "available_variables": {
          "name": "available_variables",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "default_clauses": {
          "name": "default_clauses",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "default_terms": {
          "name": "default_terms",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "default_renewal_months": {
          "name": "default_renewal_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "default_notice_days": {
          "name": "default_notice_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_contract_templates_org": {
          "name": "idx_contract_templates_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contract_templates_type": {
          "name": "idx_contract_templates_type",
          "columns": [
            {
              "expression": "contract_type",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "contract_templates_created_by_fkey": {
          "name": "contract_templates_created_by_fkey",
          "tableFrom": "contract_templates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contract_templates_org_id_fkey": {
          "name": "contract_templates_org_id_fkey",
          "tableFrom": "contract_templates",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "contract_templates_code_unique": {
          "columns": [
            "org_id",
            "template_code"
          ],
          "nullsNotDistinct": false,
          "name": "contract_templates_code_unique"
        }
      },
      "checkConstraints": {},
      "policies": {
        "contract_templates_org_isolation": {
          "name": "contract_templates_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.contract_clauses": {
      "name": "contract_clauses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "clause_name": {
          "name": "clause_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "clause_code": {
          "name": "clause_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "clause_text": {
          "name": "clause_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "clause_version": {
          "name": "clause_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "legal_approved": {
          "name": "legal_approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "legal_approved_by": {
          "name": "legal_approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "legal_approved_at": {
          "name": "legal_approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_standard": {
          "name": "is_standard",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_contract_clauses_category": {
          "name": "idx_contract_clauses_category",
          "columns": [
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_contract_clauses_org": {
          "name": "idx_contract_clauses_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "contract_clauses_created_by_fkey": {
          "name": "contract_clauses_created_by_fkey",
          "tableFrom": "contract_clauses",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contract_clauses_legal_approved_by_fkey": {
          "name": "contract_clauses_legal_approved_by_fkey",
          "tableFrom": "contract_clauses",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "legal_approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "contract_clauses_org_id_fkey": {
          "name": "contract_clauses_org_id_fkey",
          "tableFrom": "contract_clauses",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "contract_clauses_org_isolation": {
          "name": "contract_clauses_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.rate_approvals": {
      "name": "rate_approvals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_rate_id": {
          "name": "entity_rate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "approval_type": {
          "name": "approval_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "requested_by": {
          "name": "requested_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "justification": {
          "name": "justification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "proposed_bill_rate": {
          "name": "proposed_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "proposed_pay_rate": {
          "name": "proposed_pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "proposed_margin_percentage": {
          "name": "proposed_margin_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "decided_by": {
          "name": "decided_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "decision_reason": {
          "name": "decision_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_rate_approvals_pending": {
          "name": "idx_rate_approvals_pending",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status)::text = 'pending'::text)",
          "with": {}
        },
        "idx_rate_approvals_rate": {
          "name": "idx_rate_approvals_rate",
          "columns": [
            {
              "expression": "entity_rate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "rate_approvals_decided_by_fkey": {
          "name": "rate_approvals_decided_by_fkey",
          "tableFrom": "rate_approvals",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "decided_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rate_approvals_entity_rate_id_fkey": {
          "name": "rate_approvals_entity_rate_id_fkey",
          "tableFrom": "rate_approvals",
          "tableTo": "entity_rates",
          "schemaTo": "public",
          "columnsFrom": [
            "entity_rate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "rate_approvals_org_id_fkey": {
          "name": "rate_approvals_org_id_fkey",
          "tableFrom": "rate_approvals",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rate_approvals_requested_by_fkey": {
          "name": "rate_approvals_requested_by_fkey",
          "tableFrom": "rate_approvals",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "requested_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "rate_approvals_status_check": {
          "name": "rate_approvals_status_check",
          "value": "(status)::text = ANY ((ARRAY['pending'::character varying, 'approved'::character varying, 'rejected'::character varying, 'expired'::character varying])::text[])"
        }
      },
      "policies": {
        "rate_approvals_org_isolation": {
          "name": "rate_approvals_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.rate_cards": {
      "name": "rate_cards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "rate_card_name": {
          "name": "rate_card_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "rate_card_code": {
          "name": "rate_card_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "rate_card_type": {
          "name": "rate_card_type",
          "type": "rate_card_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'standard'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_latest_version": {
          "name": "is_latest_version",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "previous_version_id": {
          "name": "previous_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "effective_start_date": {
          "name": "effective_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "effective_end_date": {
          "name": "effective_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "overtime_multiplier": {
          "name": "overtime_multiplier",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.5'"
        },
        "double_time_multiplier": {
          "name": "double_time_multiplier",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'2.0'"
        },
        "holiday_multiplier": {
          "name": "holiday_multiplier",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.5'"
        },
        "default_markup_percentage": {
          "name": "default_markup_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "min_margin_percentage": {
          "name": "min_margin_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'10.0'"
        },
        "target_margin_percentage": {
          "name": "target_margin_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'20.0'"
        },
        "msp_program_name": {
          "name": "msp_program_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "msp_tier": {
          "name": "msp_tier",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "vms_platform": {
          "name": "vms_platform",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "vms_fee_percentage": {
          "name": "vms_fee_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "direct_hire_fee_percentage": {
          "name": "direct_hire_fee_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "direct_hire_fee_flat": {
          "name": "direct_hire_fee_flat",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "applicable_regions": {
          "name": "applicable_regions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "applicable_job_categories": {
          "name": "applicable_job_categories",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_rate_cards_active": {
          "name": "idx_rate_cards_active",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_active = true) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_rate_cards_effective": {
          "name": "idx_rate_cards_effective",
          "columns": [
            {
              "expression": "effective_start_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            },
            {
              "expression": "effective_end_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_rate_cards_entity": {
          "name": "idx_rate_cards_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_rate_cards_org": {
          "name": "idx_rate_cards_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_rate_cards_unique_active": {
          "name": "idx_rate_cards_unique_active",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "((is_active = true) AND (is_latest_version = true) AND (deleted_at IS NULL))",
          "with": {}
        }
      },
      "foreignKeys": {
        "rate_cards_approved_by_fkey": {
          "name": "rate_cards_approved_by_fkey",
          "tableFrom": "rate_cards",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rate_cards_created_by_fkey": {
          "name": "rate_cards_created_by_fkey",
          "tableFrom": "rate_cards",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rate_cards_org_id_fkey": {
          "name": "rate_cards_org_id_fkey",
          "tableFrom": "rate_cards",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rate_cards_previous_version_id_fkey": {
          "name": "rate_cards_previous_version_id_fkey",
          "tableFrom": "rate_cards",
          "tableTo": "rate_cards",
          "schemaTo": "public",
          "columnsFrom": [
            "previous_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "rate_cards_code_unique": {
          "columns": [
            "org_id",
            "rate_card_code"
          ],
          "nullsNotDistinct": false,
          "name": "rate_cards_code_unique"
        }
      },
      "checkConstraints": {},
      "policies": {
        "rate_cards_org_isolation": {
          "name": "rate_cards_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.rate_card_items": {
      "name": "rate_card_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "rate_card_id": {
          "name": "rate_card_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_category": {
          "name": "job_category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "job_level": {
          "name": "job_level",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "job_family": {
          "name": "job_family",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "skill_id": {
          "name": "skill_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_unit": {
          "name": "rate_unit",
          "type": "rate_unit",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'hourly'"
        },
        "min_pay_rate": {
          "name": "min_pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "max_pay_rate": {
          "name": "max_pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "target_pay_rate": {
          "name": "target_pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "min_bill_rate": {
          "name": "min_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "max_bill_rate": {
          "name": "max_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "standard_bill_rate": {
          "name": "standard_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "calculated_markup": {
          "name": "calculated_markup",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "\nCASE\n    WHEN ((target_pay_rate > (0)::numeric) AND (target_pay_rate IS NOT NULL)) THEN round((((standard_bill_rate - target_pay_rate) / target_pay_rate) * (100)::numeric), 2)\n    ELSE NULL::numeric\nEND",
            "type": "stored"
          }
        },
        "calculated_margin": {
          "name": "calculated_margin",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "\nCASE\n    WHEN ((standard_bill_rate > (0)::numeric) AND (standard_bill_rate IS NOT NULL)) THEN round((((standard_bill_rate - target_pay_rate) / standard_bill_rate) * (100)::numeric), 2)\n    ELSE NULL::numeric\nEND",
            "type": "stored"
          }
        },
        "target_margin_percentage": {
          "name": "target_margin_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "min_margin_percentage": {
          "name": "min_margin_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "requires_certification": {
          "name": "requires_certification",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "requires_clearance": {
          "name": "requires_clearance",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "clearance_level": {
          "name": "clearance_level",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "min_years_experience": {
          "name": "min_years_experience",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_rate_card_items_category": {
          "name": "idx_rate_card_items_category",
          "columns": [
            {
              "expression": "job_category",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "job_level",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_rate_card_items_skill": {
          "name": "idx_rate_card_items_skill",
          "columns": [
            {
              "expression": "skill_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((skill_id IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        }
      },
      "foreignKeys": {
        "rate_card_items_org_id_fkey": {
          "name": "rate_card_items_org_id_fkey",
          "tableFrom": "rate_card_items",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rate_card_items_rate_card_id_fkey": {
          "name": "rate_card_items_rate_card_id_fkey",
          "tableFrom": "rate_card_items",
          "tableTo": "rate_cards",
          "schemaTo": "public",
          "columnsFrom": [
            "rate_card_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "rate_card_items_org_isolation": {
          "name": "rate_card_items_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.entity_rates": {
      "name": "entity_rates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "rate_card_id": {
          "name": "rate_card_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_card_item_id": {
          "name": "rate_card_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_unit": {
          "name": "rate_unit",
          "type": "rate_unit",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'hourly'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "bill_rate": {
          "name": "bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "pay_rate": {
          "name": "pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "gross_margin": {
          "name": "gross_margin",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "(bill_rate - pay_rate)",
            "type": "stored"
          }
        },
        "margin_percentage": {
          "name": "margin_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "\nCASE\n    WHEN (bill_rate > (0)::numeric) THEN round((((bill_rate - pay_rate) / bill_rate) * (100)::numeric), 2)\n    ELSE (0)::numeric\nEND",
            "type": "stored"
          }
        },
        "markup_percentage": {
          "name": "markup_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "\nCASE\n    WHEN (pay_rate > (0)::numeric) THEN round((((bill_rate - pay_rate) / pay_rate) * (100)::numeric), 2)\n    ELSE (0)::numeric\nEND",
            "type": "stored"
          }
        },
        "ot_bill_rate": {
          "name": "ot_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "ot_pay_rate": {
          "name": "ot_pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "dt_bill_rate": {
          "name": "dt_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "dt_pay_rate": {
          "name": "dt_pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "original_bill_rate": {
          "name": "original_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "original_pay_rate": {
          "name": "original_pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "negotiated_by": {
          "name": "negotiated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "negotiation_notes": {
          "name": "negotiation_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requires_approval": {
          "name": "requires_approval",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approval_notes": {
          "name": "approval_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "context_job_id": {
          "name": "context_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "context_client_id": {
          "name": "context_client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_entity_rates_card": {
          "name": "idx_entity_rates_card",
          "columns": [
            {
              "expression": "rate_card_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((rate_card_id IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_entity_rates_current": {
          "name": "idx_entity_rates_current",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_current = true) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_entity_rates_entity": {
          "name": "idx_entity_rates_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_entity_rates_margin": {
          "name": "idx_entity_rates_margin",
          "columns": [
            {
              "expression": "margin_percentage",
              "asc": true,
              "nulls": "last",
              "opclass": "numeric_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_entity_rates_org": {
          "name": "idx_entity_rates_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "entity_rates_approved_by_fkey": {
          "name": "entity_rates_approved_by_fkey",
          "tableFrom": "entity_rates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entity_rates_created_by_fkey": {
          "name": "entity_rates_created_by_fkey",
          "tableFrom": "entity_rates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entity_rates_negotiated_by_fkey": {
          "name": "entity_rates_negotiated_by_fkey",
          "tableFrom": "entity_rates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "negotiated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entity_rates_org_id_fkey": {
          "name": "entity_rates_org_id_fkey",
          "tableFrom": "entity_rates",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entity_rates_rate_card_id_fkey": {
          "name": "entity_rates_rate_card_id_fkey",
          "tableFrom": "entity_rates",
          "tableTo": "rate_cards",
          "schemaTo": "public",
          "columnsFrom": [
            "rate_card_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entity_rates_rate_card_item_id_fkey": {
          "name": "entity_rates_rate_card_item_id_fkey",
          "tableFrom": "entity_rates",
          "tableTo": "rate_card_items",
          "schemaTo": "public",
          "columnsFrom": [
            "rate_card_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "entity_rates_org_isolation": {
          "name": "entity_rates_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.rate_change_history": {
      "name": "rate_change_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "entity_rate_id": {
          "name": "entity_rate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "change_type": {
          "name": "change_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "old_bill_rate": {
          "name": "old_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "new_bill_rate": {
          "name": "new_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "old_pay_rate": {
          "name": "old_pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "new_pay_rate": {
          "name": "new_pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "changed_at": {
          "name": "changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_rate_change_history_rate": {
          "name": "idx_rate_change_history_rate",
          "columns": [
            {
              "expression": "entity_rate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "rate_change_history_changed_by_fkey": {
          "name": "rate_change_history_changed_by_fkey",
          "tableFrom": "rate_change_history",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "changed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rate_change_history_entity_rate_id_fkey": {
          "name": "rate_change_history_entity_rate_id_fkey",
          "tableFrom": "rate_change_history",
          "tableTo": "entity_rates",
          "schemaTo": "public",
          "columnsFrom": [
            "entity_rate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "rate_change_history_type_check": {
          "name": "rate_change_history_type_check",
          "value": "(change_type)::text = ANY ((ARRAY['created'::character varying, 'updated'::character varying, 'approved'::character varying, 'rejected'::character varying, 'expired'::character varying, 'negotiated'::character varying])::text[])"
        }
      },
      "policies": {
        "rate_change_history_org_isolation": {
          "name": "rate_change_history_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM entity_rates e\n  WHERE ((e.id = rate_change_history.entity_rate_id) AND (e.org_id = (current_setting('app.org_id'::text, true))::uuid))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.jobs": {
      "name": "jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "deal_id": {
          "name": "deal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "job_type": {
          "name": "job_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'contract'"
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_remote": {
          "name": "is_remote",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "hybrid_days": {
          "name": "hybrid_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "rate_min": {
          "name": "rate_min",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "rate_max": {
          "name": "rate_max",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "rate_type": {
          "name": "rate_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'hourly'"
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "urgency": {
          "name": "urgency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'medium'"
        },
        "positions_count": {
          "name": "positions_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "positions_filled": {
          "name": "positions_filled",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "required_skills": {
          "name": "required_skills",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "nice_to_have_skills": {
          "name": "nice_to_have_skills",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "min_experience_years": {
          "name": "min_experience_years",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_experience_years": {
          "name": "max_experience_years",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "visa_requirements": {
          "name": "visa_requirements",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "owner_id": {
          "name": "owner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "recruiter_ids": {
          "name": "recruiter_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "posted_date": {
          "name": "posted_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "target_fill_date": {
          "name": "target_fill_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "filled_date": {
          "name": "filled_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "client_submission_instructions": {
          "name": "client_submission_instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_interview_process": {
          "name": "client_interview_process",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "search_vector": {
          "name": "search_vector",
          "type": "tsvector",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'medium'"
        },
        "target_start_date": {
          "name": "target_start_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "closed_by": {
          "name": "closed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "closure_reason": {
          "name": "closure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "closure_note": {
          "name": "closure_note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "on_hold_reason": {
          "name": "on_hold_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expected_reactivation_date": {
          "name": "expected_reactivation_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "published_by": {
          "name": "published_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "days_to_fill": {
          "name": "days_to_fill",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_company_id": {
          "name": "client_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "end_client_company_id": {
          "name": "end_client_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_company_id": {
          "name": "vendor_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "hiring_manager_contact_id": {
          "name": "hiring_manager_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "hr_contact_id": {
          "name": "hr_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_job_id": {
          "name": "external_job_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "priority_rank": {
          "name": "priority_rank",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "sla_days": {
          "name": "sla_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 30
        },
        "intake_completed_at": {
          "name": "intake_completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "intake_completed_by": {
          "name": "intake_completed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "fee_type": {
          "name": "fee_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'percentage'"
        },
        "fee_percentage": {
          "name": "fee_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "fee_flat_amount": {
          "name": "fee_flat_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_jobs_client_company": {
          "name": "idx_jobs_client_company",
          "columns": [
            {
              "expression": "client_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_jobs_company_id": {
          "name": "idx_jobs_company_id",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_jobs_company_org": {
          "name": "idx_jobs_company_org",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_jobs_deal": {
          "name": "idx_jobs_deal",
          "columns": [
            {
              "expression": "deal_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_jobs_end_client": {
          "name": "idx_jobs_end_client",
          "columns": [
            {
              "expression": "end_client_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_jobs_external_id": {
          "name": "idx_jobs_external_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "external_job_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_jobs_hiring_manager": {
          "name": "idx_jobs_hiring_manager",
          "columns": [
            {
              "expression": "hiring_manager_contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_jobs_org": {
          "name": "idx_jobs_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_jobs_org_status": {
          "name": "idx_jobs_org_status",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_jobs_owner": {
          "name": "idx_jobs_owner",
          "columns": [
            {
              "expression": "owner_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_jobs_posted_date": {
          "name": "idx_jobs_posted_date",
          "columns": [
            {
              "expression": "posted_date",
              "asc": false,
              "nulls": "first",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_jobs_priority_rank": {
          "name": "idx_jobs_priority_rank",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "priority_rank",
              "asc": false,
              "nulls": "first",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status = ANY (ARRAY['open'::text, 'active'::text])) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_jobs_search": {
          "name": "idx_jobs_search",
          "columns": [
            {
              "expression": "search_vector",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_jobs_sla": {
          "name": "idx_jobs_sla",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "sla_days",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status = ANY (ARRAY['open'::text, 'active'::text])) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_jobs_status": {
          "name": "idx_jobs_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_jobs_vendor": {
          "name": "idx_jobs_vendor",
          "columns": [
            {
              "expression": "vendor_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "jobs_client_company_id_fkey": {
          "name": "jobs_client_company_id_fkey",
          "tableFrom": "jobs",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "client_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "jobs_closed_by_fkey": {
          "name": "jobs_closed_by_fkey",
          "tableFrom": "jobs",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "closed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "jobs_company_id_fkey": {
          "name": "jobs_company_id_fkey",
          "tableFrom": "jobs",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "jobs_created_by_fkey": {
          "name": "jobs_created_by_fkey",
          "tableFrom": "jobs",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "jobs_deal_id_fkey": {
          "name": "jobs_deal_id_fkey",
          "tableFrom": "jobs",
          "tableTo": "deals",
          "schemaTo": "public",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "jobs_end_client_company_id_fkey": {
          "name": "jobs_end_client_company_id_fkey",
          "tableFrom": "jobs",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "end_client_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "jobs_hiring_manager_contact_id_fkey": {
          "name": "jobs_hiring_manager_contact_id_fkey",
          "tableFrom": "jobs",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "hiring_manager_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "jobs_hr_contact_id_fkey": {
          "name": "jobs_hr_contact_id_fkey",
          "tableFrom": "jobs",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "hr_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "jobs_intake_completed_by_fkey": {
          "name": "jobs_intake_completed_by_fkey",
          "tableFrom": "jobs",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "intake_completed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "jobs_org_id_fkey": {
          "name": "jobs_org_id_fkey",
          "tableFrom": "jobs",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "jobs_owner_id_fkey": {
          "name": "jobs_owner_id_fkey",
          "tableFrom": "jobs",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "jobs_published_by_fkey": {
          "name": "jobs_published_by_fkey",
          "tableFrom": "jobs",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "published_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "jobs_vendor_company_id_fkey": {
          "name": "jobs_vendor_company_id_fkey",
          "tableFrom": "jobs",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "vendor_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "jobs_fee_type_check": {
          "name": "jobs_fee_type_check",
          "value": "(fee_type IS NULL) OR ((fee_type)::text = ANY ((ARRAY['percentage'::character varying, 'flat'::character varying, 'hourly_spread'::character varying])::text[]))"
        }
      },
      "policies": {
        "jobs_employee_read": {
          "name": "jobs_employee_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "((auth_has_active_role('recruiter'::text) AND ((owner_id = auth.uid()) OR (auth.uid() = ANY (recruiter_ids)))) OR auth_has_active_role('bench_sales'::text) OR auth_has_active_role('ta_specialist'::text) OR auth_has_active_role('admin'::text))"
        },
        "jobs_org_isolation": {
          "name": "jobs_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        },
        "jobs_recruiter_write": {
          "name": "jobs_recruiter_write",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.submissions": {
      "name": "submissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'sourced'"
        },
        "ai_match_score": {
          "name": "ai_match_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "recruiter_match_score": {
          "name": "recruiter_match_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "match_explanation": {
          "name": "match_explanation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_rate": {
          "name": "submitted_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_rate_type": {
          "name": "submitted_rate_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'hourly'"
        },
        "submission_notes": {
          "name": "submission_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_to_client_at": {
          "name": "submitted_to_client_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_to_client_by": {
          "name": "submitted_to_client_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_resume_file_id": {
          "name": "client_resume_file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_profile_url": {
          "name": "client_profile_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "interview_count": {
          "name": "interview_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_interview_date": {
          "name": "last_interview_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "interview_feedback": {
          "name": "interview_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_extended_at": {
          "name": "offer_extended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "offer_accepted_at": {
          "name": "offer_accepted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "offer_declined_at": {
          "name": "offer_declined_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "offer_decline_reason": {
          "name": "offer_decline_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rejected_at": {
          "name": "rejected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_source": {
          "name": "rejection_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_id": {
          "name": "owner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_submitted_at": {
          "name": "vendor_submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_submitted_by": {
          "name": "vendor_submitted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_decision": {
          "name": "vendor_decision",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_decision_at": {
          "name": "vendor_decision_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_decision_by": {
          "name": "vendor_decision_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_notes": {
          "name": "vendor_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_screening_notes": {
          "name": "vendor_screening_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_screening_completed_at": {
          "name": "vendor_screening_completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "client_decision": {
          "name": "client_decision",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_decision_at": {
          "name": "client_decision_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "client_decision_notes": {
          "name": "client_decision_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_id": {
          "name": "offer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "placement_id": {
          "name": "placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by_company_id": {
          "name": "submitted_by_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by_contact_id": {
          "name": "submitted_by_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_vendor_submission": {
          "name": "is_vendor_submission",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "rtr_obtained": {
          "name": "rtr_obtained",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "rtr_obtained_at": {
          "name": "rtr_obtained_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rtr_expires_at": {
          "name": "rtr_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rtr_document_id": {
          "name": "rtr_document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_card_id": {
          "name": "rate_card_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_card_item_id": {
          "name": "rate_card_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "negotiated_bill_rate": {
          "name": "negotiated_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "negotiated_pay_rate": {
          "name": "negotiated_pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "rate_negotiation_notes": {
          "name": "rate_negotiation_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status_entered_at": {
          "name": "status_entered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expected_decision_date": {
          "name": "expected_decision_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "submission_score": {
          "name": "submission_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "score_breakdown": {
          "name": "score_breakdown",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "rank_among_submissions": {
          "name": "rank_among_submissions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_duplicate": {
          "name": "is_duplicate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "duplicate_of_submission_id": {
          "name": "duplicate_of_submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_submissions_account": {
          "name": "idx_submissions_account",
          "columns": [
            {
              "expression": "account_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_submissions_candidate": {
          "name": "idx_submissions_candidate",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_submissions_candidate_org": {
          "name": "idx_submissions_candidate_org",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_submissions_client_decision": {
          "name": "idx_submissions_client_decision",
          "columns": [
            {
              "expression": "client_decision",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(client_decision IS NOT NULL)",
          "with": {}
        },
        "idx_submissions_company_id": {
          "name": "idx_submissions_company_id",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_submissions_contact": {
          "name": "idx_submissions_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_submissions_contact_id": {
          "name": "idx_submissions_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_submissions_created": {
          "name": "idx_submissions_created",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_submissions_job": {
          "name": "idx_submissions_job",
          "columns": [
            {
              "expression": "job_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_submissions_job_org": {
          "name": "idx_submissions_job_org",
          "columns": [
            {
              "expression": "job_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_submissions_offer_id": {
          "name": "idx_submissions_offer_id",
          "columns": [
            {
              "expression": "offer_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_submissions_org": {
          "name": "idx_submissions_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_submissions_owner": {
          "name": "idx_submissions_owner",
          "columns": [
            {
              "expression": "owner_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_submissions_placement_id": {
          "name": "idx_submissions_placement_id",
          "columns": [
            {
              "expression": "placement_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_submissions_rtr": {
          "name": "idx_submissions_rtr",
          "columns": [
            {
              "expression": "rtr_expires_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((rtr_obtained = true) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_submissions_score": {
          "name": "idx_submissions_score",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "submission_score",
              "asc": false,
              "nulls": "first",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_submissions_status": {
          "name": "idx_submissions_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_submissions_status_entered": {
          "name": "idx_submissions_status_entered",
          "columns": [
            {
              "expression": "status_entered_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_submissions_unique": {
          "name": "idx_submissions_unique",
          "columns": [
            {
              "expression": "job_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_submissions_vendor": {
          "name": "idx_submissions_vendor",
          "columns": [
            {
              "expression": "submitted_by_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((is_vendor_submission = true) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_submissions_vendor_decision": {
          "name": "idx_submissions_vendor_decision",
          "columns": [
            {
              "expression": "vendor_decision",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(vendor_decision IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "submissions_candidate_id_fkey": {
          "name": "submissions_candidate_id_fkey",
          "tableFrom": "submissions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submissions_company_id_fkey": {
          "name": "submissions_company_id_fkey",
          "tableFrom": "submissions",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submissions_contact_id_fkey": {
          "name": "submissions_contact_id_fkey",
          "tableFrom": "submissions",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submissions_created_by_fkey": {
          "name": "submissions_created_by_fkey",
          "tableFrom": "submissions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submissions_duplicate_of_submission_id_fkey": {
          "name": "submissions_duplicate_of_submission_id_fkey",
          "tableFrom": "submissions",
          "tableTo": "submissions",
          "schemaTo": "public",
          "columnsFrom": [
            "duplicate_of_submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submissions_job_id_fkey": {
          "name": "submissions_job_id_fkey",
          "tableFrom": "submissions",
          "tableTo": "jobs",
          "schemaTo": "public",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submissions_offer_id_fkey": {
          "name": "submissions_offer_id_fkey",
          "tableFrom": "submissions",
          "tableTo": "offers",
          "schemaTo": "public",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submissions_org_id_fkey": {
          "name": "submissions_org_id_fkey",
          "tableFrom": "submissions",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "submissions_owner_id_fkey": {
          "name": "submissions_owner_id_fkey",
          "tableFrom": "submissions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submissions_placement_id_fkey": {
          "name": "submissions_placement_id_fkey",
          "tableFrom": "submissions",
          "tableTo": "placements",
          "schemaTo": "public",
          "columnsFrom": [
            "placement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submissions_rate_card_id_fkey": {
          "name": "submissions_rate_card_id_fkey",
          "tableFrom": "submissions",
          "tableTo": "rate_cards",
          "schemaTo": "public",
          "columnsFrom": [
            "rate_card_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submissions_rate_card_item_id_fkey": {
          "name": "submissions_rate_card_item_id_fkey",
          "tableFrom": "submissions",
          "tableTo": "rate_card_items",
          "schemaTo": "public",
          "columnsFrom": [
            "rate_card_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submissions_rtr_document_id_fkey": {
          "name": "submissions_rtr_document_id_fkey",
          "tableFrom": "submissions",
          "tableTo": "documents",
          "schemaTo": "public",
          "columnsFrom": [
            "rtr_document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submissions_submitted_by_company_id_fkey": {
          "name": "submissions_submitted_by_company_id_fkey",
          "tableFrom": "submissions",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "submitted_by_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submissions_submitted_by_contact_id_fkey": {
          "name": "submissions_submitted_by_contact_id_fkey",
          "tableFrom": "submissions",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "submitted_by_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submissions_submitted_to_client_by_fkey": {
          "name": "submissions_submitted_to_client_by_fkey",
          "tableFrom": "submissions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "submitted_to_client_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submissions_vendor_decision_by_fkey": {
          "name": "submissions_vendor_decision_by_fkey",
          "tableFrom": "submissions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "vendor_decision_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "submissions_vendor_submitted_by_fkey": {
          "name": "submissions_vendor_submitted_by_fkey",
          "tableFrom": "submissions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "vendor_submitted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "submissions_ai_match_score_check": {
          "name": "submissions_ai_match_score_check",
          "value": "(ai_match_score >= 0) AND (ai_match_score <= 100)"
        },
        "submissions_recruiter_match_score_check": {
          "name": "submissions_recruiter_match_score_check",
          "value": "(recruiter_match_score >= 0) AND (recruiter_match_score <= 100)"
        },
        "submissions_submission_score_check": {
          "name": "submissions_submission_score_check",
          "value": "(submission_score IS NULL) OR ((submission_score >= 0) AND (submission_score <= 100))"
        }
      },
      "policies": {
        "submissions_candidate_own_read": {
          "name": "submissions_candidate_own_read",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(auth_has_role('candidate'::text) AND (candidate_id = auth.uid()))"
        },
        "submissions_org_isolation": {
          "name": "submissions_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        },
        "submissions_recruiter_write": {
          "name": "submissions_recruiter_write",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.interviews": {
      "name": "interviews",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "submission_id": {
          "name": "submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "round_number": {
          "name": "round_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "interview_type": {
          "name": "interview_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'technical'"
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 60
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'America/New_York'"
        },
        "meeting_link": {
          "name": "meeting_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meeting_location": {
          "name": "meeting_location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "interviewer_names": {
          "name": "interviewer_names",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "interviewer_emails": {
          "name": "interviewer_emails",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_by": {
          "name": "scheduled_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "cancellation_reason": {
          "name": "cancellation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "feedback": {
          "name": "feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "recommendation": {
          "name": "recommendation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "feedback_submitted_at": {
          "name": "feedback_submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "proposed_times": {
          "name": "proposed_times",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "confirmed_at": {
          "name": "confirmed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "confirmed_by": {
          "name": "confirmed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rescheduled_at": {
          "name": "rescheduled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rescheduled_by": {
          "name": "rescheduled_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reschedule_reason": {
          "name": "reschedule_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reschedule_count": {
          "name": "reschedule_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cancellation_notes": {
          "name": "cancellation_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "prep_completed_at": {
          "name": "prep_completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "prep_completed_by": {
          "name": "prep_completed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "prep_notes": {
          "name": "prep_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "prep_checklist": {
          "name": "prep_checklist",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "prep_materials_sent_at": {
          "name": "prep_materials_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "technical_rating": {
          "name": "technical_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "communication_rating": {
          "name": "communication_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "problem_solving_rating": {
          "name": "problem_solving_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "culture_fit_rating": {
          "name": "culture_fit_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "strengths": {
          "name": "strengths",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "concerns": {
          "name": "concerns",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "internal_notes": {
          "name": "internal_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_experience": {
          "name": "candidate_experience",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_interest_level": {
          "name": "candidate_interest_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_feedback": {
          "name": "candidate_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_concerns": {
          "name": "candidate_concerns",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attendance_status": {
          "name": "attendance_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "next_steps": {
          "name": "next_steps",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ics_uid": {
          "name": "ics_uid",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ics_sequence": {
          "name": "ics_sequence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "primary_interviewer_contact_id": {
          "name": "primary_interviewer_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "coordinator_contact_id": {
          "name": "coordinator_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "scorecard_template_id": {
          "name": "scorecard_template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "scorecard_completed": {
          "name": "scorecard_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "scorecard_completed_at": {
          "name": "scorecard_completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "hiring_decision": {
          "name": "hiring_decision",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "decision_notes": {
          "name": "decision_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calendar_event_id": {
          "name": "calendar_event_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "is_panel": {
          "name": "is_panel",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {
        "idx_interviews_attendance": {
          "name": "idx_interviews_attendance",
          "columns": [
            {
              "expression": "attendance_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_interviews_candidate": {
          "name": "idx_interviews_candidate",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_interviews_confirmed_at": {
          "name": "idx_interviews_confirmed_at",
          "columns": [
            {
              "expression": "confirmed_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_interviews_contact_id": {
          "name": "idx_interviews_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_interviews_hiring_decision": {
          "name": "idx_interviews_hiring_decision",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "hiring_decision",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(hiring_decision IS NOT NULL)",
          "with": {}
        },
        "idx_interviews_job": {
          "name": "idx_interviews_job",
          "columns": [
            {
              "expression": "job_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_interviews_org_id": {
          "name": "idx_interviews_org_id",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_interviews_prep_completed": {
          "name": "idx_interviews_prep_completed",
          "columns": [
            {
              "expression": "prep_completed_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_interviews_primary_interviewer": {
          "name": "idx_interviews_primary_interviewer",
          "columns": [
            {
              "expression": "primary_interviewer_contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(primary_interviewer_contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_interviews_proposed_times": {
          "name": "idx_interviews_proposed_times",
          "columns": [
            {
              "expression": "proposed_times",
              "asc": true,
              "nulls": "last",
              "opclass": "jsonb_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_interviews_scheduled": {
          "name": "idx_interviews_scheduled",
          "columns": [
            {
              "expression": "scheduled_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_interviews_scorecard_template": {
          "name": "idx_interviews_scorecard_template",
          "columns": [
            {
              "expression": "scorecard_template_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(scorecard_template_id IS NOT NULL)",
          "with": {}
        },
        "idx_interviews_status": {
          "name": "idx_interviews_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_interviews_submission": {
          "name": "idx_interviews_submission",
          "columns": [
            {
              "expression": "submission_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "interviews_cancelled_by_fkey": {
          "name": "interviews_cancelled_by_fkey",
          "tableFrom": "interviews",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "cancelled_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interviews_candidate_id_fkey": {
          "name": "interviews_candidate_id_fkey",
          "tableFrom": "interviews",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interviews_confirmed_by_fkey": {
          "name": "interviews_confirmed_by_fkey",
          "tableFrom": "interviews",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "confirmed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interviews_contact_id_fkey": {
          "name": "interviews_contact_id_fkey",
          "tableFrom": "interviews",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interviews_coordinator_contact_id_fkey": {
          "name": "interviews_coordinator_contact_id_fkey",
          "tableFrom": "interviews",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "coordinator_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interviews_job_id_fkey": {
          "name": "interviews_job_id_fkey",
          "tableFrom": "interviews",
          "tableTo": "jobs",
          "schemaTo": "public",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interviews_org_id_fkey": {
          "name": "interviews_org_id_fkey",
          "tableFrom": "interviews",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "interviews_prep_completed_by_fkey": {
          "name": "interviews_prep_completed_by_fkey",
          "tableFrom": "interviews",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "prep_completed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interviews_primary_interviewer_contact_id_fkey": {
          "name": "interviews_primary_interviewer_contact_id_fkey",
          "tableFrom": "interviews",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "primary_interviewer_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interviews_rescheduled_by_fkey": {
          "name": "interviews_rescheduled_by_fkey",
          "tableFrom": "interviews",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "rescheduled_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interviews_scheduled_by_fkey": {
          "name": "interviews_scheduled_by_fkey",
          "tableFrom": "interviews",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "scheduled_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interviews_submission_id_fkey": {
          "name": "interviews_submission_id_fkey",
          "tableFrom": "interviews",
          "tableTo": "submissions",
          "schemaTo": "public",
          "columnsFrom": [
            "submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "interviews_submitted_by_fkey": {
          "name": "interviews_submitted_by_fkey",
          "tableFrom": "interviews",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "submitted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "interviews_attendance_status_check": {
          "name": "interviews_attendance_status_check",
          "value": "attendance_status = ANY (ARRAY['attended'::text, 'no_show'::text, 'cancelled'::text, 'rescheduled'::text])"
        },
        "interviews_candidate_experience_check": {
          "name": "interviews_candidate_experience_check",
          "value": "candidate_experience = ANY (ARRAY['great'::text, 'good'::text, 'okay'::text, 'poor'::text])"
        },
        "interviews_candidate_interest_level_check": {
          "name": "interviews_candidate_interest_level_check",
          "value": "candidate_interest_level = ANY (ARRAY['very_high'::text, 'high'::text, 'medium'::text, 'low'::text, 'withdrawn'::text])"
        },
        "interviews_communication_rating_check": {
          "name": "interviews_communication_rating_check",
          "value": "(communication_rating >= 1) AND (communication_rating <= 5)"
        },
        "interviews_culture_fit_rating_check": {
          "name": "interviews_culture_fit_rating_check",
          "value": "(culture_fit_rating >= 1) AND (culture_fit_rating <= 5)"
        },
        "interviews_hiring_decision_check": {
          "name": "interviews_hiring_decision_check",
          "value": "(hiring_decision IS NULL) OR ((hiring_decision)::text = ANY ((ARRAY['strong_hire'::character varying, 'hire'::character varying, 'neutral'::character varying, 'no_hire'::character varying, 'strong_no_hire'::character varying])::text[]))"
        },
        "interviews_next_steps_check": {
          "name": "interviews_next_steps_check",
          "value": "next_steps = ANY (ARRAY['schedule_next_round'::text, 'extend_offer'::text, 'reject'::text, 'on_hold'::text])"
        },
        "interviews_problem_solving_rating_check": {
          "name": "interviews_problem_solving_rating_check",
          "value": "(problem_solving_rating >= 1) AND (problem_solving_rating <= 5)"
        },
        "interviews_rating_check": {
          "name": "interviews_rating_check",
          "value": "(rating >= 1) AND (rating <= 5)"
        },
        "interviews_technical_rating_check": {
          "name": "interviews_technical_rating_check",
          "value": "(technical_rating >= 1) AND (technical_rating <= 5)"
        }
      },
      "policies": {
        "Users can manage interviews in their organization": {
          "name": "Users can manage interviews in their organization",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE (user_profiles.auth_id = auth.uid())))"
        },
        "Users can view interviews in their organization": {
          "name": "Users can view interviews in their organization",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "interviews_candidate_own": {
          "name": "interviews_candidate_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "interviews_employee_all": {
          "name": "interviews_employee_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.interview_participants": {
      "name": "interview_participants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "interview_id": {
          "name": "interview_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "participant_type": {
          "name": "participant_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_name": {
          "name": "external_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_email": {
          "name": "external_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'interviewer'"
        },
        "is_confirmed": {
          "name": "is_confirmed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "confirmed_at": {
          "name": "confirmed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "feedback_submitted": {
          "name": "feedback_submitted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "feedback_submitted_at": {
          "name": "feedback_submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "overall_rating": {
          "name": "overall_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "recommendation": {
          "name": "recommendation",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "feedback_notes": {
          "name": "feedback_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calendar_synced": {
          "name": "calendar_synced",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "calendar_event_id": {
          "name": "calendar_event_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_interview_participants_contact": {
          "name": "idx_interview_participants_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_interview_participants_interview": {
          "name": "idx_interview_participants_interview",
          "columns": [
            {
              "expression": "interview_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_interview_participants_interview_id": {
          "name": "idx_interview_participants_interview_id",
          "columns": [
            {
              "expression": "interview_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_interview_participants_org": {
          "name": "idx_interview_participants_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_interview_participants_unique_contact": {
          "name": "idx_interview_participants_unique_contact",
          "columns": [
            {
              "expression": "interview_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_interview_participants_unique_user": {
          "name": "idx_interview_participants_unique_user",
          "columns": [
            {
              "expression": "interview_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(user_id IS NOT NULL)",
          "with": {}
        },
        "idx_interview_participants_user": {
          "name": "idx_interview_participants_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(user_id IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "interview_participants_contact_id_fkey": {
          "name": "interview_participants_contact_id_fkey",
          "tableFrom": "interview_participants",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interview_participants_interview_id_fkey": {
          "name": "interview_participants_interview_id_fkey",
          "tableFrom": "interview_participants",
          "tableTo": "interviews",
          "schemaTo": "public",
          "columnsFrom": [
            "interview_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "interview_participants_org_id_fkey": {
          "name": "interview_participants_org_id_fkey",
          "tableFrom": "interview_participants",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "interview_participants_user_id_fkey": {
          "name": "interview_participants_user_id_fkey",
          "tableFrom": "interview_participants",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "interview_participants_overall_rating_check": {
          "name": "interview_participants_overall_rating_check",
          "value": "(overall_rating IS NULL) OR ((overall_rating >= 1) AND (overall_rating <= 5))"
        },
        "interview_participants_recommendation_check": {
          "name": "interview_participants_recommendation_check",
          "value": "(recommendation IS NULL) OR ((recommendation)::text = ANY ((ARRAY['strong_hire'::character varying, 'hire'::character varying, 'neutral'::character varying, 'no_hire'::character varying, 'strong_no_hire'::character varying])::text[]))"
        },
        "interview_participants_role_check": {
          "name": "interview_participants_role_check",
          "value": "(role IS NULL) OR ((role)::text = ANY ((ARRAY['lead_interviewer'::character varying, 'interviewer'::character varying, 'shadow'::character varying, 'observer'::character varying, 'note_taker'::character varying, 'hiring_manager'::character varying])::text[]))"
        }
      },
      "policies": {
        "interview_participants_org_isolation": {
          "name": "interview_participants_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.interview_scorecards": {
      "name": "interview_scorecards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "interview_id": {
          "name": "interview_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "participant_id": {
          "name": "participant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "overall_rating": {
          "name": "overall_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "recommendation": {
          "name": "recommendation",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "criteria_scores": {
          "name": "criteria_scores",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "strengths": {
          "name": "strengths",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "concerns": {
          "name": "concerns",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "additional_notes": {
          "name": "additional_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "questions_asked": {
          "name": "questions_asked",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "would_work_with": {
          "name": "would_work_with",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "would_recommend_for_different_role": {
          "name": "would_recommend_for_different_role",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "alternative_role_notes": {
          "name": "alternative_role_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_submitted": {
          "name": "is_submitted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_interview_scorecards_interview": {
          "name": "idx_interview_scorecards_interview",
          "columns": [
            {
              "expression": "interview_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_interview_scorecards_org": {
          "name": "idx_interview_scorecards_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_interview_scorecards_participant": {
          "name": "idx_interview_scorecards_participant",
          "columns": [
            {
              "expression": "participant_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((participant_id IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_interview_scorecards_submitted_by": {
          "name": "idx_interview_scorecards_submitted_by",
          "columns": [
            {
              "expression": "submitted_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "interview_scorecards_interview_id_fkey": {
          "name": "interview_scorecards_interview_id_fkey",
          "tableFrom": "interview_scorecards",
          "tableTo": "interviews",
          "schemaTo": "public",
          "columnsFrom": [
            "interview_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "interview_scorecards_org_id_fkey": {
          "name": "interview_scorecards_org_id_fkey",
          "tableFrom": "interview_scorecards",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "interview_scorecards_participant_id_fkey": {
          "name": "interview_scorecards_participant_id_fkey",
          "tableFrom": "interview_scorecards",
          "tableTo": "interview_participants",
          "schemaTo": "public",
          "columnsFrom": [
            "participant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "interview_scorecards_submitted_by_fkey": {
          "name": "interview_scorecards_submitted_by_fkey",
          "tableFrom": "interview_scorecards",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "submitted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "interview_scorecards_overall_rating_check": {
          "name": "interview_scorecards_overall_rating_check",
          "value": "(overall_rating >= 1) AND (overall_rating <= 5)"
        },
        "interview_scorecards_recommendation_check": {
          "name": "interview_scorecards_recommendation_check",
          "value": "(recommendation)::text = ANY ((ARRAY['strong_hire'::character varying, 'hire'::character varying, 'neutral'::character varying, 'no_hire'::character varying, 'strong_no_hire'::character varying])::text[])"
        }
      },
      "policies": {
        "interview_scorecards_org_isolation": {
          "name": "interview_scorecards_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.scorecard_templates": {
      "name": "scorecard_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "interview_type": {
          "name": "interview_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "job_category": {
          "name": "job_category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "criteria": {
          "name": "criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "rating_scale": {
          "name": "rating_scale",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "rating_labels": {
          "name": "rating_labels",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "required_questions": {
          "name": "required_questions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_scorecard_templates_org": {
          "name": "idx_scorecard_templates_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((deleted_at IS NULL) AND (is_active = true))",
          "with": {}
        },
        "idx_scorecard_templates_type": {
          "name": "idx_scorecard_templates_type",
          "columns": [
            {
              "expression": "interview_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((deleted_at IS NULL) AND (is_active = true))",
          "with": {}
        }
      },
      "foreignKeys": {
        "scorecard_templates_created_by_fkey": {
          "name": "scorecard_templates_created_by_fkey",
          "tableFrom": "scorecard_templates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "scorecard_templates_org_id_fkey": {
          "name": "scorecard_templates_org_id_fkey",
          "tableFrom": "scorecard_templates",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "scorecard_templates_rating_scale_check": {
          "name": "scorecard_templates_rating_scale_check",
          "value": "rating_scale = ANY (ARRAY[3, 4, 5, 10])"
        }
      },
      "policies": {
        "scorecard_templates_org_isolation": {
          "name": "scorecard_templates_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.placements": {
      "name": "placements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "submission_id": {
          "name": "submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "offer_id": {
          "name": "offer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "placement_type": {
          "name": "placement_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'contract'"
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "bill_rate": {
          "name": "bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "pay_rate": {
          "name": "pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "markup_percentage": {
          "name": "markup_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "round((((bill_rate - pay_rate) / pay_rate) * (100)::numeric), 2)",
            "type": "stored"
          }
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "end_reason": {
          "name": "end_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actual_end_date": {
          "name": "actual_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "total_revenue": {
          "name": "total_revenue",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_paid": {
          "name": "total_paid",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "onboarding_status": {
          "name": "onboarding_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "onboarding_completed_at": {
          "name": "onboarding_completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "performance_rating": {
          "name": "performance_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "extension_count": {
          "name": "extension_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "recruiter_id": {
          "name": "recruiter_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "account_manager_id": {
          "name": "account_manager_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "health_status": {
          "name": "health_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'healthy'"
        },
        "next_check_in_date": {
          "name": "next_check_in_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "last_check_in_date": {
          "name": "last_check_in_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "last_check_in_by": {
          "name": "last_check_in_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_type": {
          "name": "rate_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'hourly'"
        },
        "employment_type": {
          "name": "employment_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'w2'"
        },
        "work_location": {
          "name": "work_location",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'remote'"
        },
        "work_schedule": {
          "name": "work_schedule",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'America/New_York'"
        },
        "onboarding_format": {
          "name": "onboarding_format",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'virtual'"
        },
        "first_day_meeting_link": {
          "name": "first_day_meeting_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_day_location": {
          "name": "first_day_location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hiring_manager_name": {
          "name": "hiring_manager_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "hiring_manager_email": {
          "name": "hiring_manager_email",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "hiring_manager_phone": {
          "name": "hiring_manager_phone",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": false
        },
        "hr_contact_name": {
          "name": "hr_contact_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "hr_contact_email": {
          "name": "hr_contact_email",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "paperwork_complete": {
          "name": "paperwork_complete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "background_check_status": {
          "name": "background_check_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "i9_complete": {
          "name": "i9_complete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "nda_signed": {
          "name": "nda_signed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "equipment_ordered": {
          "name": "equipment_ordered",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "equipment_notes": {
          "name": "equipment_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "internal_notes": {
          "name": "internal_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "billing_company_id": {
          "name": "billing_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "end_client_company_id": {
          "name": "end_client_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_company_id": {
          "name": "client_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_company_id": {
          "name": "vendor_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_manager_contact_id": {
          "name": "client_manager_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "hr_contact_id": {
          "name": "hr_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reporting_manager_contact_id": {
          "name": "reporting_manager_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contract_id": {
          "name": "contract_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_card_id": {
          "name": "rate_card_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_card_item_id": {
          "name": "rate_card_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "has_change_orders": {
          "name": "has_change_orders",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "active_change_order_id": {
          "name": "active_change_order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "change_order_count": {
          "name": "change_order_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "original_end_date": {
          "name": "original_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "original_bill_rate": {
          "name": "original_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "approval_status": {
          "name": "approval_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expected_hours_per_week": {
          "name": "expected_hours_per_week",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'40'"
        },
        "overtime_eligible": {
          "name": "overtime_eligible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "expenses_allowed": {
          "name": "expenses_allowed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "expense_budget": {
          "name": "expense_budget",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_status": {
          "name": "compliance_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "compliance_cleared_at": {
          "name": "compliance_cleared_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_expires_at": {
          "name": "compliance_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "work_arrangement": {
          "name": "work_arrangement",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'onsite'"
        },
        "hybrid_days_per_week": {
          "name": "hybrid_days_per_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "work_address_id": {
          "name": "work_address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_placements_approval": {
          "name": "idx_placements_approval",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "approval_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(((approval_status)::text = 'pending'::text) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_placements_billing_company": {
          "name": "idx_placements_billing_company",
          "columns": [
            {
              "expression": "billing_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(billing_company_id IS NOT NULL)",
          "with": {}
        },
        "idx_placements_candidate": {
          "name": "idx_placements_candidate",
          "columns": [
            {
              "expression": "candidate_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placements_client_company": {
          "name": "idx_placements_client_company",
          "columns": [
            {
              "expression": "client_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_placements_company_id": {
          "name": "idx_placements_company_id",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placements_compliance": {
          "name": "idx_placements_compliance",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "compliance_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status = 'active'::text) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_placements_contact": {
          "name": "idx_placements_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_placements_contact_id": {
          "name": "idx_placements_contact_id",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_placements_contract": {
          "name": "idx_placements_contract",
          "columns": [
            {
              "expression": "contract_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_placements_end_client": {
          "name": "idx_placements_end_client",
          "columns": [
            {
              "expression": "end_client_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(end_client_company_id IS NOT NULL)",
          "with": {}
        },
        "idx_placements_health_status": {
          "name": "idx_placements_health_status",
          "columns": [
            {
              "expression": "health_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placements_job": {
          "name": "idx_placements_job",
          "columns": [
            {
              "expression": "job_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placements_next_check_in": {
          "name": "idx_placements_next_check_in",
          "columns": [
            {
              "expression": "next_check_in_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placements_org": {
          "name": "idx_placements_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placements_recruiter": {
          "name": "idx_placements_recruiter",
          "columns": [
            {
              "expression": "recruiter_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placements_start_date": {
          "name": "idx_placements_start_date",
          "columns": [
            {
              "expression": "start_date",
              "asc": false,
              "nulls": "first",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placements_status": {
          "name": "idx_placements_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placements_vendor": {
          "name": "idx_placements_vendor",
          "columns": [
            {
              "expression": "vendor_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "placements_account_manager_id_fkey": {
          "name": "placements_account_manager_id_fkey",
          "tableFrom": "placements",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "account_manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_approved_by_fkey": {
          "name": "placements_approved_by_fkey",
          "tableFrom": "placements",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_billing_company_id_fkey": {
          "name": "placements_billing_company_id_fkey",
          "tableFrom": "placements",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "billing_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_candidate_id_fkey": {
          "name": "placements_candidate_id_fkey",
          "tableFrom": "placements",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_client_company_id_fkey": {
          "name": "placements_client_company_id_fkey",
          "tableFrom": "placements",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "client_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_client_manager_contact_id_fkey": {
          "name": "placements_client_manager_contact_id_fkey",
          "tableFrom": "placements",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "client_manager_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_company_id_fkey": {
          "name": "placements_company_id_fkey",
          "tableFrom": "placements",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_contact_id_fkey": {
          "name": "placements_contact_id_fkey",
          "tableFrom": "placements",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_contract_id_fkey": {
          "name": "placements_contract_id_fkey",
          "tableFrom": "placements",
          "tableTo": "contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_created_by_fkey": {
          "name": "placements_created_by_fkey",
          "tableFrom": "placements",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_end_client_company_id_fkey": {
          "name": "placements_end_client_company_id_fkey",
          "tableFrom": "placements",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "end_client_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_hr_contact_id_fkey": {
          "name": "placements_hr_contact_id_fkey",
          "tableFrom": "placements",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "hr_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_job_id_fkey": {
          "name": "placements_job_id_fkey",
          "tableFrom": "placements",
          "tableTo": "jobs",
          "schemaTo": "public",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_last_check_in_by_fkey": {
          "name": "placements_last_check_in_by_fkey",
          "tableFrom": "placements",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "last_check_in_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_offer_id_fkey": {
          "name": "placements_offer_id_fkey",
          "tableFrom": "placements",
          "tableTo": "offers",
          "schemaTo": "public",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_org_id_fkey": {
          "name": "placements_org_id_fkey",
          "tableFrom": "placements",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "placements_rate_card_id_fkey": {
          "name": "placements_rate_card_id_fkey",
          "tableFrom": "placements",
          "tableTo": "rate_cards",
          "schemaTo": "public",
          "columnsFrom": [
            "rate_card_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_rate_card_item_id_fkey": {
          "name": "placements_rate_card_item_id_fkey",
          "tableFrom": "placements",
          "tableTo": "rate_card_items",
          "schemaTo": "public",
          "columnsFrom": [
            "rate_card_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_recruiter_id_fkey": {
          "name": "placements_recruiter_id_fkey",
          "tableFrom": "placements",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "recruiter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_reporting_manager_contact_id_fkey": {
          "name": "placements_reporting_manager_contact_id_fkey",
          "tableFrom": "placements",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "reporting_manager_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_submission_id_fkey": {
          "name": "placements_submission_id_fkey",
          "tableFrom": "placements",
          "tableTo": "submissions",
          "schemaTo": "public",
          "columnsFrom": [
            "submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_vendor_company_id_fkey": {
          "name": "placements_vendor_company_id_fkey",
          "tableFrom": "placements",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "vendor_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placements_work_address_id_fkey": {
          "name": "placements_work_address_id_fkey",
          "tableFrom": "placements",
          "tableTo": "addresses",
          "schemaTo": "public",
          "columnsFrom": [
            "work_address_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "placements_approval_status_check": {
          "name": "placements_approval_status_check",
          "value": "(approval_status IS NULL) OR ((approval_status)::text = ANY ((ARRAY['pending'::character varying, 'approved'::character varying, 'rejected'::character varying, 'expired'::character varying])::text[]))"
        },
        "placements_background_check_status_check": {
          "name": "placements_background_check_status_check",
          "value": "(background_check_status)::text = ANY ((ARRAY['pending'::character varying, 'passed'::character varying, 'failed'::character varying, 'waived'::character varying])::text[])"
        },
        "placements_compliance_status_check": {
          "name": "placements_compliance_status_check",
          "value": "(compliance_status IS NULL) OR ((compliance_status)::text = ANY ((ARRAY['pending'::character varying, 'in_progress'::character varying, 'complete'::character varying, 'expired'::character varying, 'blocked'::character varying])::text[]))"
        },
        "placements_health_status_check": {
          "name": "placements_health_status_check",
          "value": "(health_status)::text = ANY ((ARRAY['healthy'::character varying, 'at_risk'::character varying, 'critical'::character varying])::text[])"
        },
        "placements_onboarding_format_check": {
          "name": "placements_onboarding_format_check",
          "value": "(onboarding_format)::text = ANY ((ARRAY['virtual'::character varying, 'in_person'::character varying, 'hybrid'::character varying])::text[])"
        },
        "placements_performance_rating_check": {
          "name": "placements_performance_rating_check",
          "value": "(performance_rating >= 1) AND (performance_rating <= 5)"
        },
        "placements_work_arrangement_check": {
          "name": "placements_work_arrangement_check",
          "value": "(work_arrangement IS NULL) OR ((work_arrangement)::text = ANY ((ARRAY['onsite'::character varying, 'remote'::character varying, 'hybrid'::character varying])::text[]))"
        }
      },
      "policies": {
        "placements_candidate_own": {
          "name": "placements_candidate_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(candidate_id = auth.uid())"
        },
        "placements_employee_all": {
          "name": "placements_employee_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        },
        "placements_org_isolation": {
          "name": "placements_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.placement_vendors": {
      "name": "placement_vendors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "placement_id": {
          "name": "placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "vendor_company_id": {
          "name": "vendor_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "vendor_type": {
          "name": "vendor_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "position_in_chain": {
          "name": "position_in_chain",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "bill_rate": {
          "name": "bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "pay_rate": {
          "name": "pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "markup_percentage": {
          "name": "markup_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "margin_amount": {
          "name": "margin_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_contact_id": {
          "name": "vendor_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_contract_id": {
          "name": "vendor_contract_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_placement_vendors_company": {
          "name": "idx_placement_vendors_company",
          "columns": [
            {
              "expression": "vendor_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placement_vendors_org": {
          "name": "idx_placement_vendors_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placement_vendors_placement": {
          "name": "idx_placement_vendors_placement",
          "columns": [
            {
              "expression": "placement_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placement_vendors_unique": {
          "name": "idx_placement_vendors_unique",
          "columns": [
            {
              "expression": "placement_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "vendor_company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "position_in_chain",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "placement_vendors_org_id_fkey": {
          "name": "placement_vendors_org_id_fkey",
          "tableFrom": "placement_vendors",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "placement_vendors_placement_id_fkey": {
          "name": "placement_vendors_placement_id_fkey",
          "tableFrom": "placement_vendors",
          "tableTo": "placements",
          "schemaTo": "public",
          "columnsFrom": [
            "placement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "placement_vendors_vendor_company_id_fkey": {
          "name": "placement_vendors_vendor_company_id_fkey",
          "tableFrom": "placement_vendors",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "vendor_company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_vendors_vendor_contact_id_fkey": {
          "name": "placement_vendors_vendor_contact_id_fkey",
          "tableFrom": "placement_vendors",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "vendor_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_vendors_vendor_contract_id_fkey": {
          "name": "placement_vendors_vendor_contract_id_fkey",
          "tableFrom": "placement_vendors",
          "tableTo": "contracts",
          "schemaTo": "public",
          "columnsFrom": [
            "vendor_contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "placement_vendors_vendor_type_check": {
          "name": "placement_vendors_vendor_type_check",
          "value": "(vendor_type)::text = ANY ((ARRAY['primary'::character varying, 'sub_vendor'::character varying, 'end_client'::character varying, 'implementation_partner'::character varying])::text[])"
        }
      },
      "policies": {
        "placement_vendors_org_isolation": {
          "name": "placement_vendors_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.placement_change_orders": {
      "name": "placement_change_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "placement_id": {
          "name": "placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "change_type": {
          "name": "change_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "original_end_date": {
          "name": "original_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "original_bill_rate": {
          "name": "original_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "original_pay_rate": {
          "name": "original_pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "original_hours_per_week": {
          "name": "original_hours_per_week",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "new_end_date": {
          "name": "new_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "new_bill_rate": {
          "name": "new_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "new_pay_rate": {
          "name": "new_pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "new_hours_per_week": {
          "name": "new_hours_per_week",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "requested_by": {
          "name": "requested_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "applied_at": {
          "name": "applied_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_placement_change_orders_org": {
          "name": "idx_placement_change_orders_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placement_change_orders_placement": {
          "name": "idx_placement_change_orders_placement",
          "columns": [
            {
              "expression": "placement_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placement_change_orders_status": {
          "name": "idx_placement_change_orders_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status)::text = 'pending'::text)",
          "with": {}
        }
      },
      "foreignKeys": {
        "placement_change_orders_approved_by_fkey": {
          "name": "placement_change_orders_approved_by_fkey",
          "tableFrom": "placement_change_orders",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_change_orders_document_id_fkey": {
          "name": "placement_change_orders_document_id_fkey",
          "tableFrom": "placement_change_orders",
          "tableTo": "documents",
          "schemaTo": "public",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_change_orders_org_id_fkey": {
          "name": "placement_change_orders_org_id_fkey",
          "tableFrom": "placement_change_orders",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "placement_change_orders_placement_id_fkey": {
          "name": "placement_change_orders_placement_id_fkey",
          "tableFrom": "placement_change_orders",
          "tableTo": "placements",
          "schemaTo": "public",
          "columnsFrom": [
            "placement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "placement_change_orders_requested_by_fkey": {
          "name": "placement_change_orders_requested_by_fkey",
          "tableFrom": "placement_change_orders",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "requested_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "placement_change_orders_change_type_check": {
          "name": "placement_change_orders_change_type_check",
          "value": "(change_type)::text = ANY ((ARRAY['extension'::character varying, 'rate_change'::character varying, 'hours_change'::character varying, 'role_change'::character varying, 'location_change'::character varying, 'other'::character varying])::text[])"
        },
        "placement_change_orders_status_check": {
          "name": "placement_change_orders_status_check",
          "value": "(status)::text = ANY ((ARRAY['pending'::character varying, 'approved'::character varying, 'rejected'::character varying, 'applied'::character varying])::text[])"
        }
      },
      "policies": {
        "placement_change_orders_org_isolation": {
          "name": "placement_change_orders_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.placement_checkins": {
      "name": "placement_checkins",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "placement_id": {
          "name": "placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "checkin_type": {
          "name": "checkin_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "checkin_date": {
          "name": "checkin_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_contact_method": {
          "name": "candidate_contact_method",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_response_status": {
          "name": "candidate_response_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_overall_satisfaction": {
          "name": "candidate_overall_satisfaction",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_role_satisfaction": {
          "name": "candidate_role_satisfaction",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_team_relationship": {
          "name": "candidate_team_relationship",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_workload": {
          "name": "candidate_workload",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_payment_status": {
          "name": "candidate_payment_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_extension_interest": {
          "name": "candidate_extension_interest",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_sentiment": {
          "name": "candidate_sentiment",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_concerns": {
          "name": "candidate_concerns",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_notes": {
          "name": "candidate_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_contact_method": {
          "name": "client_contact_method",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "client_contact_id": {
          "name": "client_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_performance_rating": {
          "name": "client_performance_rating",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "client_team_integration": {
          "name": "client_team_integration",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "client_work_quality": {
          "name": "client_work_quality",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "client_communication": {
          "name": "client_communication",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "client_extension_interest": {
          "name": "client_extension_interest",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "client_satisfaction": {
          "name": "client_satisfaction",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "client_concerns": {
          "name": "client_concerns",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_notes": {
          "name": "client_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "overall_health": {
          "name": "overall_health",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "risk_factors": {
          "name": "risk_factors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "action_items": {
          "name": "action_items",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "next_checkin_date": {
          "name": "next_checkin_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "follow_up_required": {
          "name": "follow_up_required",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "escalated_to": {
          "name": "escalated_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "conducted_by": {
          "name": "conducted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_by": {
          "name": "completed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "follow_up_date": {
          "name": "follow_up_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "health_score": {
          "name": "health_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "health_assessment": {
          "name": "health_assessment",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_placement_checkins_date": {
          "name": "idx_placement_checkins_date",
          "columns": [
            {
              "expression": "checkin_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placement_checkins_health": {
          "name": "idx_placement_checkins_health",
          "columns": [
            {
              "expression": "overall_health",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placement_checkins_org": {
          "name": "idx_placement_checkins_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placement_checkins_pending": {
          "name": "idx_placement_checkins_pending",
          "columns": [
            {
              "expression": "checkin_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(completed_at IS NULL)",
          "with": {}
        },
        "idx_placement_checkins_placement": {
          "name": "idx_placement_checkins_placement",
          "columns": [
            {
              "expression": "placement_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_placement_checkins_type": {
          "name": "idx_placement_checkins_type",
          "columns": [
            {
              "expression": "checkin_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "placement_checkins_client_contact_id_fkey": {
          "name": "placement_checkins_client_contact_id_fkey",
          "tableFrom": "placement_checkins",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "client_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_checkins_completed_by_fkey": {
          "name": "placement_checkins_completed_by_fkey",
          "tableFrom": "placement_checkins",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "completed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_checkins_conducted_by_fkey": {
          "name": "placement_checkins_conducted_by_fkey",
          "tableFrom": "placement_checkins",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "conducted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_checkins_escalated_to_fkey": {
          "name": "placement_checkins_escalated_to_fkey",
          "tableFrom": "placement_checkins",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "escalated_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "placement_checkins_org_id_fkey": {
          "name": "placement_checkins_org_id_fkey",
          "tableFrom": "placement_checkins",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "placement_checkins_placement_id_fkey": {
          "name": "placement_checkins_placement_id_fkey",
          "tableFrom": "placement_checkins",
          "tableTo": "placements",
          "schemaTo": "public",
          "columnsFrom": [
            "placement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "placement_checkins_candidate_contact_method_check": {
          "name": "placement_checkins_candidate_contact_method_check",
          "value": "(candidate_contact_method)::text = ANY ((ARRAY['phone'::character varying, 'video'::character varying, 'in_person'::character varying, 'email'::character varying])::text[])"
        },
        "placement_checkins_candidate_extension_interest_check": {
          "name": "placement_checkins_candidate_extension_interest_check",
          "value": "(candidate_extension_interest)::text = ANY ((ARRAY['definitely_interested'::character varying, 'probably_interested'::character varying, 'unsure'::character varying, 'not_interested'::character varying, 'too_early'::character varying])::text[])"
        },
        "placement_checkins_candidate_overall_satisfaction_check": {
          "name": "placement_checkins_candidate_overall_satisfaction_check",
          "value": "(candidate_overall_satisfaction)::text = ANY ((ARRAY['excellent'::character varying, 'good'::character varying, 'fair'::character varying, 'poor'::character varying])::text[])"
        },
        "placement_checkins_candidate_payment_status_check": {
          "name": "placement_checkins_candidate_payment_status_check",
          "value": "(candidate_payment_status)::text = ANY ((ARRAY['no_issues'::character varying, 'minor_delay'::character varying, 'major_issue'::character varying])::text[])"
        },
        "placement_checkins_candidate_response_status_check": {
          "name": "placement_checkins_candidate_response_status_check",
          "value": "(candidate_response_status)::text = ANY ((ARRAY['completed'::character varying, 'scheduled'::character varying, 'left_message'::character varying, 'no_response'::character varying])::text[])"
        },
        "placement_checkins_candidate_role_satisfaction_check": {
          "name": "placement_checkins_candidate_role_satisfaction_check",
          "value": "(candidate_role_satisfaction)::text = ANY ((ARRAY['very_satisfied'::character varying, 'satisfied'::character varying, 'neutral'::character varying, 'unsatisfied'::character varying])::text[])"
        },
        "placement_checkins_candidate_sentiment_check": {
          "name": "placement_checkins_candidate_sentiment_check",
          "value": "(candidate_sentiment)::text = ANY ((ARRAY['very_positive'::character varying, 'positive'::character varying, 'neutral'::character varying, 'negative'::character varying])::text[])"
        },
        "placement_checkins_candidate_team_relationship_check": {
          "name": "placement_checkins_candidate_team_relationship_check",
          "value": "(candidate_team_relationship)::text = ANY ((ARRAY['excellent'::character varying, 'good'::character varying, 'fair'::character varying, 'poor'::character varying])::text[])"
        },
        "placement_checkins_candidate_workload_check": {
          "name": "placement_checkins_candidate_workload_check",
          "value": "(candidate_workload)::text = ANY ((ARRAY['just_right'::character varying, 'a_bit_much'::character varying, 'too_much'::character varying, 'too_little'::character varying])::text[])"
        },
        "placement_checkins_checkin_type_check": {
          "name": "placement_checkins_checkin_type_check",
          "value": "(checkin_type)::text = ANY ((ARRAY['7_day'::character varying, '30_day'::character varying, '60_day'::character varying, '90_day'::character varying, 'ad_hoc'::character varying])::text[])"
        },
        "placement_checkins_client_communication_check": {
          "name": "placement_checkins_client_communication_check",
          "value": "(client_communication)::text = ANY ((ARRAY['excellent'::character varying, 'good'::character varying, 'fair'::character varying, 'poor'::character varying])::text[])"
        },
        "placement_checkins_client_contact_method_check": {
          "name": "placement_checkins_client_contact_method_check",
          "value": "(client_contact_method)::text = ANY ((ARRAY['phone'::character varying, 'video'::character varying, 'in_person'::character varying, 'email'::character varying])::text[])"
        },
        "placement_checkins_client_extension_interest_check": {
          "name": "placement_checkins_client_extension_interest_check",
          "value": "(client_extension_interest)::text = ANY ((ARRAY['definitely'::character varying, 'probably'::character varying, 'unsure'::character varying, 'probably_not'::character varying])::text[])"
        },
        "placement_checkins_client_performance_rating_check": {
          "name": "placement_checkins_client_performance_rating_check",
          "value": "(client_performance_rating)::text = ANY ((ARRAY['exceeds'::character varying, 'meets'::character varying, 'below'::character varying, 'not_meeting'::character varying])::text[])"
        },
        "placement_checkins_client_satisfaction_check": {
          "name": "placement_checkins_client_satisfaction_check",
          "value": "(client_satisfaction)::text = ANY ((ARRAY['very_satisfied'::character varying, 'satisfied'::character varying, 'neutral'::character varying, 'unsatisfied'::character varying])::text[])"
        },
        "placement_checkins_client_team_integration_check": {
          "name": "placement_checkins_client_team_integration_check",
          "value": "(client_team_integration)::text = ANY ((ARRAY['excellent'::character varying, 'good'::character varying, 'fair'::character varying, 'poor'::character varying])::text[])"
        },
        "placement_checkins_client_work_quality_check": {
          "name": "placement_checkins_client_work_quality_check",
          "value": "(client_work_quality)::text = ANY ((ARRAY['excellent'::character varying, 'good'::character varying, 'fair'::character varying, 'poor'::character varying])::text[])"
        },
        "placement_checkins_follow_up_required_check": {
          "name": "placement_checkins_follow_up_required_check",
          "value": "(follow_up_required)::text = ANY ((ARRAY['none'::character varying, 'scheduled'::character varying, 'escalate'::character varying])::text[])"
        },
        "placement_checkins_health_assessment_check": {
          "name": "placement_checkins_health_assessment_check",
          "value": "(health_assessment IS NULL) OR ((health_assessment)::text = ANY ((ARRAY['healthy'::character varying, 'minor_concerns'::character varying, 'at_risk'::character varying, 'critical'::character varying])::text[]))"
        },
        "placement_checkins_health_score_check": {
          "name": "placement_checkins_health_score_check",
          "value": "(health_score IS NULL) OR ((health_score >= 0) AND (health_score <= 100))"
        },
        "placement_checkins_overall_health_check": {
          "name": "placement_checkins_overall_health_check",
          "value": "(overall_health)::text = ANY ((ARRAY['excellent'::character varying, 'good'::character varying, 'at_risk'::character varying, 'critical'::character varying])::text[])"
        }
      },
      "policies": {
        "Users can insert placement checkins for their org": {
          "name": "Users can insert placement checkins for their org",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "(org_id IN ( SELECT user_profiles.org_id\n   FROM user_profiles\n  WHERE ((user_profiles.id = auth.uid()) OR (user_profiles.auth_id = auth.uid()))))"
        },
        "Users can update their org's placement checkins": {
          "name": "Users can update their org's placement checkins",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "Users can view their org's placement checkins": {
          "name": "Users can view their org's placement checkins",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "placement_checkins_org_isolation": {
          "name": "placement_checkins_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.onboarding_tasks": {
      "name": "onboarding_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "onboarding_id": {
          "name": "onboarding_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "task_name": {
          "name": "task_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "task_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'other'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "due_days_from_start": {
          "name": "due_days_from_start",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "task_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_by": {
          "name": "completed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_item_id": {
          "name": "compliance_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "skip_reason": {
          "name": "skip_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_onboarding_tasks_assigned": {
          "name": "idx_onboarding_tasks_assigned",
          "columns": [
            {
              "expression": "assigned_to",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(assigned_to IS NOT NULL)",
          "with": {}
        },
        "idx_onboarding_tasks_due": {
          "name": "idx_onboarding_tasks_due",
          "columns": [
            {
              "expression": "due_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status = 'pending'::task_status) AND (due_date IS NOT NULL))",
          "with": {}
        },
        "idx_onboarding_tasks_onboarding_id": {
          "name": "idx_onboarding_tasks_onboarding_id",
          "columns": [
            {
              "expression": "onboarding_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_onboarding_tasks_org": {
          "name": "idx_onboarding_tasks_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(org_id IS NOT NULL)",
          "with": {}
        },
        "idx_onboarding_tasks_status": {
          "name": "idx_onboarding_tasks_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "onboarding_tasks_assigned_to_fkey": {
          "name": "onboarding_tasks_assigned_to_fkey",
          "tableFrom": "onboarding_tasks",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "onboarding_tasks_completed_by_fkey": {
          "name": "onboarding_tasks_completed_by_fkey",
          "tableFrom": "onboarding_tasks",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "completed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "onboarding_tasks_document_id_fkey": {
          "name": "onboarding_tasks_document_id_fkey",
          "tableFrom": "onboarding_tasks",
          "tableTo": "documents",
          "schemaTo": "public",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "onboarding_tasks_onboarding_id_fkey": {
          "name": "onboarding_tasks_onboarding_id_fkey",
          "tableFrom": "onboarding_tasks",
          "tableTo": "employee_onboarding",
          "schemaTo": "public",
          "columnsFrom": [
            "onboarding_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "onboarding_tasks_org_id_fkey": {
          "name": "onboarding_tasks_org_id_fkey",
          "tableFrom": "onboarding_tasks",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.employee_onboarding": {
      "name": "employee_onboarding",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "employee_id": {
          "name": "employee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "checklist_template_id": {
          "name": "checklist_template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "onboarding_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'not_started'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_employee_onboarding_contact": {
          "name": "idx_employee_onboarding_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_employee_onboarding_employee_id": {
          "name": "idx_employee_onboarding_employee_id",
          "columns": [
            {
              "expression": "employee_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_employee_onboarding_org": {
          "name": "idx_employee_onboarding_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_employee_onboarding_status": {
          "name": "idx_employee_onboarding_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_employee_onboarding_status_active": {
          "name": "idx_employee_onboarding_status_active",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = ANY (ARRAY['not_started'::onboarding_status, 'in_progress'::onboarding_status]))",
          "with": {}
        }
      },
      "foreignKeys": {
        "employee_onboarding_assigned_to_fkey": {
          "name": "employee_onboarding_assigned_to_fkey",
          "tableFrom": "employee_onboarding",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "employee_onboarding_contact_id_fkey": {
          "name": "employee_onboarding_contact_id_fkey",
          "tableFrom": "employee_onboarding",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "employee_onboarding_created_by_fkey": {
          "name": "employee_onboarding_created_by_fkey",
          "tableFrom": "employee_onboarding",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "employee_onboarding_employee_id_fkey": {
          "name": "employee_onboarding_employee_id_fkey",
          "tableFrom": "employee_onboarding",
          "tableTo": "employees",
          "schemaTo": "public",
          "columnsFrom": [
            "employee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "employee_onboarding_org_id_fkey": {
          "name": "employee_onboarding_org_id_fkey",
          "tableFrom": "employee_onboarding",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "employee_onboarding_template_fkey": {
          "name": "employee_onboarding_template_fkey",
          "tableFrom": "employee_onboarding",
          "tableTo": "onboarding_templates",
          "schemaTo": "public",
          "columnsFrom": [
            "checklist_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.onboarding_templates": {
      "name": "onboarding_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_type": {
          "name": "employee_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "department": {
          "name": "department",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_onboarding_templates_active": {
          "name": "idx_onboarding_templates_active",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((deleted_at IS NULL) AND (is_active = true))",
          "with": {}
        },
        "idx_onboarding_templates_default": {
          "name": "idx_onboarding_templates_default",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_default",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((deleted_at IS NULL) AND (is_default = true))",
          "with": {}
        },
        "idx_onboarding_templates_org": {
          "name": "idx_onboarding_templates_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "onboarding_templates_created_by_fkey": {
          "name": "onboarding_templates_created_by_fkey",
          "tableFrom": "onboarding_templates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "onboarding_templates_org_id_fkey": {
          "name": "onboarding_templates_org_id_fkey",
          "tableFrom": "onboarding_templates",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "onboarding_templates_updated_by_fkey": {
          "name": "onboarding_templates_updated_by_fkey",
          "tableFrom": "onboarding_templates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "onboarding_templates_org_isolation": {
          "name": "onboarding_templates_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.onboarding_template_tasks": {
      "name": "onboarding_template_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "task_name": {
          "name": "task_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "task_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'other'"
        },
        "due_offset_days": {
          "name": "due_offset_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "assignee_role": {
          "name": "assignee_role",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_requirement_id": {
          "name": "compliance_requirement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "document_template_id": {
          "name": "document_template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_onboarding_template_tasks_org": {
          "name": "idx_onboarding_template_tasks_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_onboarding_template_tasks_template": {
          "name": "idx_onboarding_template_tasks_template",
          "columns": [
            {
              "expression": "template_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "onboarding_template_tasks_document_template_id_fkey": {
          "name": "onboarding_template_tasks_document_template_id_fkey",
          "tableFrom": "onboarding_template_tasks",
          "tableTo": "documents",
          "schemaTo": "public",
          "columnsFrom": [
            "document_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "onboarding_template_tasks_org_id_fkey": {
          "name": "onboarding_template_tasks_org_id_fkey",
          "tableFrom": "onboarding_template_tasks",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "onboarding_template_tasks_template_id_fkey": {
          "name": "onboarding_template_tasks_template_id_fkey",
          "tableFrom": "onboarding_template_tasks",
          "tableTo": "onboarding_templates",
          "schemaTo": "public",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "onboarding_template_tasks_org_isolation": {
          "name": "onboarding_template_tasks_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.timesheet_entries": {
      "name": "timesheet_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "timesheet_id": {
          "name": "timesheet_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "work_date": {
          "name": "work_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "regular_hours": {
          "name": "regular_hours",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "overtime_hours": {
          "name": "overtime_hours",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "double_time_hours": {
          "name": "double_time_hours",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "pto_hours": {
          "name": "pto_hours",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "holiday_hours": {
          "name": "holiday_hours",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "start_time": {
          "name": "start_time",
          "type": "time",
          "primaryKey": false,
          "notNull": false
        },
        "end_time": {
          "name": "end_time",
          "type": "time",
          "primaryKey": false,
          "notNull": false
        },
        "break_minutes": {
          "name": "break_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "project_id": {
          "name": "project_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "task_code": {
          "name": "task_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cost_center": {
          "name": "cost_center",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_billable": {
          "name": "is_billable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "bill_rate": {
          "name": "bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "pay_rate": {
          "name": "pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "billable_amount": {
          "name": "billable_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "payable_amount": {
          "name": "payable_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "internal_notes": {
          "name": "internal_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_timesheet_entries_timesheet": {
          "name": "idx_timesheet_entries_timesheet",
          "columns": [
            {
              "expression": "timesheet_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "work_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "timesheet_entries_timesheet_id_fkey": {
          "name": "timesheet_entries_timesheet_id_fkey",
          "tableFrom": "timesheet_entries",
          "tableTo": "timesheets",
          "schemaTo": "public",
          "columnsFrom": [
            "timesheet_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "timesheet_entries_date_unique": {
          "columns": [
            "timesheet_id",
            "work_date"
          ],
          "nullsNotDistinct": false,
          "name": "timesheet_entries_date_unique"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.timesheet_approvals": {
      "name": "timesheet_approvals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "timesheet_id": {
          "name": "timesheet_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "approval_level": {
          "name": "approval_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "approver_type": {
          "name": "approver_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "approver_id": {
          "name": "approver_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "approval_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "decision_at": {
          "name": "decision_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "comments": {
          "name": "comments",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "delegated_from": {
          "name": "delegated_from",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "delegated_reason": {
          "name": "delegated_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_timesheet_approvals_timesheet": {
          "name": "idx_timesheet_approvals_timesheet",
          "columns": [
            {
              "expression": "timesheet_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "timesheet_approvals_approver_id_fkey": {
          "name": "timesheet_approvals_approver_id_fkey",
          "tableFrom": "timesheet_approvals",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "timesheet_approvals_delegated_from_fkey": {
          "name": "timesheet_approvals_delegated_from_fkey",
          "tableFrom": "timesheet_approvals",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "delegated_from"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "timesheet_approvals_timesheet_id_fkey": {
          "name": "timesheet_approvals_timesheet_id_fkey",
          "tableFrom": "timesheet_approvals",
          "tableTo": "timesheets",
          "schemaTo": "public",
          "columnsFrom": [
            "timesheet_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "timesheet_approvals_level_unique": {
          "columns": [
            "timesheet_id",
            "approval_level"
          ],
          "nullsNotDistinct": false,
          "name": "timesheet_approvals_level_unique"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.timesheet_expenses": {
      "name": "timesheet_expenses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "timesheet_id": {
          "name": "timesheet_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "expense_date": {
          "name": "expense_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "is_billable": {
          "name": "is_billable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_reimbursable": {
          "name": "is_reimbursable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "receipt_url": {
          "name": "receipt_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "receipt_verified": {
          "name": "receipt_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_timesheet_expenses_timesheet": {
          "name": "idx_timesheet_expenses_timesheet",
          "columns": [
            {
              "expression": "timesheet_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "timesheet_expenses_timesheet_id_fkey": {
          "name": "timesheet_expenses_timesheet_id_fkey",
          "tableFrom": "timesheet_expenses",
          "tableTo": "timesheets",
          "schemaTo": "public",
          "columnsFrom": [
            "timesheet_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "timesheet_expenses_verified_by_fkey": {
          "name": "timesheet_expenses_verified_by_fkey",
          "tableFrom": "timesheet_expenses",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "verified_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "timesheet_expenses_category_check": {
          "name": "timesheet_expenses_category_check",
          "value": "category = ANY (ARRAY['travel'::text, 'lodging'::text, 'meals'::text, 'mileage'::text, 'parking'::text, 'equipment'::text, 'supplies'::text, 'communication'::text, 'other'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.invoice_line_items": {
      "name": "invoice_line_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "invoice_id": {
          "name": "invoice_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "timesheet_id": {
          "name": "timesheet_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "timesheet_entry_id": {
          "name": "timesheet_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "placement_id": {
          "name": "placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "line_number": {
          "name": "line_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "service_start_date": {
          "name": "service_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "service_end_date": {
          "name": "service_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "unit_type": {
          "name": "unit_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'hours'"
        },
        "unit_rate": {
          "name": "unit_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "subtotal": {
          "name": "subtotal",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "discount_amount": {
          "name": "discount_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "tax_rate": {
          "name": "tax_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "tax_amount": {
          "name": "tax_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_amount": {
          "name": "total_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "gl_code": {
          "name": "gl_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cost_center": {
          "name": "cost_center",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_code": {
          "name": "project_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_invoice_line_items_invoice": {
          "name": "idx_invoice_line_items_invoice",
          "columns": [
            {
              "expression": "invoice_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_invoice_line_items_timesheet": {
          "name": "idx_invoice_line_items_timesheet",
          "columns": [
            {
              "expression": "timesheet_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(timesheet_id IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "invoice_line_items_invoice_id_fkey": {
          "name": "invoice_line_items_invoice_id_fkey",
          "tableFrom": "invoice_line_items",
          "tableTo": "invoices",
          "schemaTo": "public",
          "columnsFrom": [
            "invoice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "invoice_line_items_placement_id_fkey": {
          "name": "invoice_line_items_placement_id_fkey",
          "tableFrom": "invoice_line_items",
          "tableTo": "placements",
          "schemaTo": "public",
          "columnsFrom": [
            "placement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoice_line_items_timesheet_entry_id_fkey": {
          "name": "invoice_line_items_timesheet_entry_id_fkey",
          "tableFrom": "invoice_line_items",
          "tableTo": "timesheet_entries",
          "schemaTo": "public",
          "columnsFrom": [
            "timesheet_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoice_line_items_timesheet_id_fkey": {
          "name": "invoice_line_items_timesheet_id_fkey",
          "tableFrom": "invoice_line_items",
          "tableTo": "timesheets",
          "schemaTo": "public",
          "columnsFrom": [
            "timesheet_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.pay_items": {
      "name": "pay_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "pay_run_id": {
          "name": "pay_run_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "worker_type": {
          "name": "worker_type",
          "type": "worker_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "worker_id": {
          "name": "worker_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "pay_type": {
          "name": "pay_type",
          "type": "pay_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "timesheet_ids": {
          "name": "timesheet_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "regular_hours": {
          "name": "regular_hours",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "overtime_hours": {
          "name": "overtime_hours",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "double_time_hours": {
          "name": "double_time_hours",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "pto_hours": {
          "name": "pto_hours",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "holiday_hours": {
          "name": "holiday_hours",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_hours": {
          "name": "total_hours",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "regular_rate": {
          "name": "regular_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "overtime_rate": {
          "name": "overtime_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "double_time_rate": {
          "name": "double_time_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "regular_earnings": {
          "name": "regular_earnings",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "overtime_earnings": {
          "name": "overtime_earnings",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "double_time_earnings": {
          "name": "double_time_earnings",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "pto_earnings": {
          "name": "pto_earnings",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "holiday_earnings": {
          "name": "holiday_earnings",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "bonus_earnings": {
          "name": "bonus_earnings",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "other_earnings": {
          "name": "other_earnings",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "gross_pay": {
          "name": "gross_pay",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "federal_income_tax": {
          "name": "federal_income_tax",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "state_income_tax": {
          "name": "state_income_tax",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "local_income_tax": {
          "name": "local_income_tax",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "social_security_tax": {
          "name": "social_security_tax",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "medicare_tax": {
          "name": "medicare_tax",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_employee_taxes": {
          "name": "total_employee_taxes",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "employer_social_security": {
          "name": "employer_social_security",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "employer_medicare": {
          "name": "employer_medicare",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "employer_futa": {
          "name": "employer_futa",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "employer_suta": {
          "name": "employer_suta",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_employer_taxes": {
          "name": "total_employer_taxes",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "pre_tax_deductions": {
          "name": "pre_tax_deductions",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "post_tax_deductions": {
          "name": "post_tax_deductions",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "garnishments": {
          "name": "garnishments",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_deductions": {
          "name": "total_deductions",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "net_pay": {
          "name": "net_pay",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "payment_method": {
          "name": "payment_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'direct_deposit'"
        },
        "bank_account_last4": {
          "name": "bank_account_last4",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "check_number": {
          "name": "check_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "ytd_gross": {
          "name": "ytd_gross",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "ytd_federal_tax": {
          "name": "ytd_federal_tax",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "ytd_state_tax": {
          "name": "ytd_state_tax",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "ytd_social_security": {
          "name": "ytd_social_security",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "ytd_medicare": {
          "name": "ytd_medicare",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_pay_items_contact": {
          "name": "idx_pay_items_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_pay_items_run": {
          "name": "idx_pay_items_run",
          "columns": [
            {
              "expression": "pay_run_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pay_items_worker": {
          "name": "idx_pay_items_worker",
          "columns": [
            {
              "expression": "worker_id",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "worker_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pay_items_contact_id_fkey": {
          "name": "pay_items_contact_id_fkey",
          "tableFrom": "pay_items",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "pay_items_pay_run_id_fkey": {
          "name": "pay_items_pay_run_id_fkey",
          "tableFrom": "pay_items",
          "tableTo": "pay_runs",
          "schemaTo": "public",
          "columnsFrom": [
            "pay_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.pay_item_earnings": {
      "name": "pay_item_earnings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "pay_item_id": {
          "name": "pay_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "earning_type": {
          "name": "earning_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "earning_code": {
          "name": "earning_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hours": {
          "name": "hours",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "rate": {
          "name": "rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "is_taxable": {
          "name": "is_taxable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_subject_to_fica": {
          "name": "is_subject_to_fica",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_pay_item_earnings_item": {
          "name": "idx_pay_item_earnings_item",
          "columns": [
            {
              "expression": "pay_item_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pay_item_earnings_pay_item_id_fkey": {
          "name": "pay_item_earnings_pay_item_id_fkey",
          "tableFrom": "pay_item_earnings",
          "tableTo": "pay_items",
          "schemaTo": "public",
          "columnsFrom": [
            "pay_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.pay_item_deductions": {
      "name": "pay_item_deductions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "pay_item_id": {
          "name": "pay_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "deduction_type": {
          "name": "deduction_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "deduction_code": {
          "name": "deduction_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calculation_method": {
          "name": "calculation_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calculation_base": {
          "name": "calculation_base",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "percentage": {
          "name": "percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "flat_amount": {
          "name": "flat_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "employee_amount": {
          "name": "employee_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "employer_amount": {
          "name": "employer_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "is_pre_tax": {
          "name": "is_pre_tax",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "reduces_federal_tax": {
          "name": "reduces_federal_tax",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "reduces_state_tax": {
          "name": "reduces_state_tax",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "reduces_fica": {
          "name": "reduces_fica",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "annual_limit": {
          "name": "annual_limit",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "ytd_amount": {
          "name": "ytd_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_pay_item_deductions_item": {
          "name": "idx_pay_item_deductions_item",
          "columns": [
            {
              "expression": "pay_item_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pay_item_deductions_pay_item_id_fkey": {
          "name": "pay_item_deductions_pay_item_id_fkey",
          "tableFrom": "pay_item_deductions",
          "tableTo": "pay_items",
          "schemaTo": "public",
          "columnsFrom": [
            "pay_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.pay_stubs": {
      "name": "pay_stubs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "pay_item_id": {
          "name": "pay_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "pdf_url": {
          "name": "pdf_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "emailed_to": {
          "name": "emailed_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emailed_at": {
          "name": "emailed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "viewed_at": {
          "name": "viewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_expires_at": {
          "name": "access_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_pay_stubs_item": {
          "name": "idx_pay_stubs_item",
          "columns": [
            {
              "expression": "pay_item_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pay_stubs_token": {
          "name": "idx_pay_stubs_token",
          "columns": [
            {
              "expression": "access_token",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(access_token IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "pay_stubs_pay_item_id_fkey": {
          "name": "pay_stubs_pay_item_id_fkey",
          "tableFrom": "pay_stubs",
          "tableTo": "pay_items",
          "schemaTo": "public",
          "columnsFrom": [
            "pay_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "pay_stubs_access_token_key": {
          "columns": [
            "access_token"
          ],
          "nullsNotDistinct": false,
          "name": "pay_stubs_access_token_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.timesheets": {
      "name": "timesheets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "placement_id": {
          "name": "placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "period_type": {
          "name": "period_type",
          "type": "timesheet_period_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'weekly'"
        },
        "total_regular_hours": {
          "name": "total_regular_hours",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_overtime_hours": {
          "name": "total_overtime_hours",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_double_time_hours": {
          "name": "total_double_time_hours",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_pto_hours": {
          "name": "total_pto_hours",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_holiday_hours": {
          "name": "total_holiday_hours",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_billable_amount": {
          "name": "total_billable_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_payable_amount": {
          "name": "total_payable_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "rate_snapshot": {
          "name": "rate_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "timesheet_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_approval_status": {
          "name": "client_approval_status",
          "type": "approval_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "client_approved_at": {
          "name": "client_approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "client_approved_by": {
          "name": "client_approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_approval_notes": {
          "name": "client_approval_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "internal_approval_status": {
          "name": "internal_approval_status",
          "type": "approval_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "internal_approved_at": {
          "name": "internal_approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "internal_approved_by": {
          "name": "internal_approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "internal_approval_notes": {
          "name": "internal_approval_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "processed_by": {
          "name": "processed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "invoice_id": {
          "name": "invoice_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "payroll_run_id": {
          "name": "payroll_run_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_timesheets_invoice": {
          "name": "idx_timesheets_invoice",
          "columns": [
            {
              "expression": "invoice_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((invoice_id IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_timesheets_org": {
          "name": "idx_timesheets_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_timesheets_payroll": {
          "name": "idx_timesheets_payroll",
          "columns": [
            {
              "expression": "payroll_run_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((payroll_run_id IS NOT NULL) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_timesheets_placement": {
          "name": "idx_timesheets_placement",
          "columns": [
            {
              "expression": "placement_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "period_start",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_timesheets_status": {
          "name": "idx_timesheets_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_timesheets_submitted": {
          "name": "idx_timesheets_submitted",
          "columns": [
            {
              "expression": "submitted_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status = 'submitted'::timesheet_status) AND (deleted_at IS NULL))",
          "with": {}
        }
      },
      "foreignKeys": {
        "timesheets_created_by_fkey": {
          "name": "timesheets_created_by_fkey",
          "tableFrom": "timesheets",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "timesheets_org_id_fkey": {
          "name": "timesheets_org_id_fkey",
          "tableFrom": "timesheets",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "timesheets_placement_id_fkey": {
          "name": "timesheets_placement_id_fkey",
          "tableFrom": "timesheets",
          "tableTo": "placements",
          "schemaTo": "public",
          "columnsFrom": [
            "placement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "timesheets_submitted_by_fkey": {
          "name": "timesheets_submitted_by_fkey",
          "tableFrom": "timesheets",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "submitted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "timesheets_updated_by_fkey": {
          "name": "timesheets_updated_by_fkey",
          "tableFrom": "timesheets",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "timesheets_period_unique": {
          "columns": [
            "placement_id",
            "period_start",
            "period_end"
          ],
          "nullsNotDistinct": false,
          "name": "timesheets_period_unique"
        }
      },
      "checkConstraints": {},
      "policies": {
        "timesheets_org_isolation": {
          "name": "timesheets_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.timesheet_approval_workflows": {
      "name": "timesheet_approval_workflows",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approval_levels": {
          "name": "approval_levels",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "auto_approve_under_hours": {
          "name": "auto_approve_under_hours",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "auto_approve_if_matches_schedule": {
          "name": "auto_approve_if_matches_schedule",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "escalation_hours": {
          "name": "escalation_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 48
        },
        "escalation_to": {
          "name": "escalation_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_timesheet_approval_workflows_org": {
          "name": "idx_timesheet_approval_workflows_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        }
      },
      "foreignKeys": {
        "timesheet_approval_workflows_escalation_to_fkey": {
          "name": "timesheet_approval_workflows_escalation_to_fkey",
          "tableFrom": "timesheet_approval_workflows",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "escalation_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "timesheet_approval_workflows_org_id_fkey": {
          "name": "timesheet_approval_workflows_org_id_fkey",
          "tableFrom": "timesheet_approval_workflows",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "timesheet_approval_workflows_org_isolation": {
          "name": "timesheet_approval_workflows_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.timesheet_adjustments": {
      "name": "timesheet_adjustments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "original_timesheet_id": {
          "name": "original_timesheet_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "adjustment_timesheet_id": {
          "name": "adjustment_timesheet_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "adjustment_type": {
          "name": "adjustment_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "hours_delta": {
          "name": "hours_delta",
          "type": "numeric(6, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "amount_delta": {
          "name": "amount_delta",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "requested_by": {
          "name": "requested_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_timesheet_adjustments_org": {
          "name": "idx_timesheet_adjustments_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "timesheet_adjustments_adjustment_timesheet_id_fkey": {
          "name": "timesheet_adjustments_adjustment_timesheet_id_fkey",
          "tableFrom": "timesheet_adjustments",
          "tableTo": "timesheets",
          "schemaTo": "public",
          "columnsFrom": [
            "adjustment_timesheet_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "timesheet_adjustments_approved_by_fkey": {
          "name": "timesheet_adjustments_approved_by_fkey",
          "tableFrom": "timesheet_adjustments",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "timesheet_adjustments_org_id_fkey": {
          "name": "timesheet_adjustments_org_id_fkey",
          "tableFrom": "timesheet_adjustments",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "timesheet_adjustments_original_timesheet_id_fkey": {
          "name": "timesheet_adjustments_original_timesheet_id_fkey",
          "tableFrom": "timesheet_adjustments",
          "tableTo": "timesheets",
          "schemaTo": "public",
          "columnsFrom": [
            "original_timesheet_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "timesheet_adjustments_requested_by_fkey": {
          "name": "timesheet_adjustments_requested_by_fkey",
          "tableFrom": "timesheet_adjustments",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "requested_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "timesheet_adjustments_adjustment_type_check": {
          "name": "timesheet_adjustments_adjustment_type_check",
          "value": "adjustment_type = ANY (ARRAY['correction'::text, 'addition'::text, 'void'::text])"
        },
        "timesheet_adjustments_status_check": {
          "name": "timesheet_adjustments_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'approved'::text, 'rejected'::text])"
        }
      },
      "policies": {
        "timesheet_adjustments_org_isolation": {
          "name": "timesheet_adjustments_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.timesheet_templates": {
      "name": "timesheet_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "period_type": {
          "name": "period_type",
          "type": "timesheet_period_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'weekly'"
        },
        "default_hours_per_day": {
          "name": "default_hours_per_day",
          "type": "numeric(4, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'8'"
        },
        "default_days_per_week": {
          "name": "default_days_per_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "default_entries": {
          "name": "default_entries",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_timesheet_templates_org": {
          "name": "idx_timesheet_templates_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        }
      },
      "foreignKeys": {
        "timesheet_templates_org_id_fkey": {
          "name": "timesheet_templates_org_id_fkey",
          "tableFrom": "timesheet_templates",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "timesheet_templates_org_isolation": {
          "name": "timesheet_templates_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.invoices": {
      "name": "invoices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "invoice_number": {
          "name": "invoice_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reference_number": {
          "name": "reference_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "billing_contact_id": {
          "name": "billing_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "invoice_type": {
          "name": "invoice_type",
          "type": "invoice_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'standard'"
        },
        "invoice_date": {
          "name": "invoice_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1'"
        },
        "subtotal": {
          "name": "subtotal",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "discount_amount": {
          "name": "discount_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "discount_percentage": {
          "name": "discount_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "tax_amount": {
          "name": "tax_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_amount": {
          "name": "total_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "amount_paid": {
          "name": "amount_paid",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "balance_due": {
          "name": "balance_due",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "status": {
          "name": "status",
          "type": "invoice_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "sent_to": {
          "name": "sent_to",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "viewed_at": {
          "name": "viewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "payment_terms_id": {
          "name": "payment_terms_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "payment_instructions": {
          "name": "payment_instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aging_bucket": {
          "name": "aging_bucket",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_reminder_sent": {
          "name": "last_reminder_sent",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reminder_count": {
          "name": "reminder_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_disputed": {
          "name": "is_disputed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "dispute_reason": {
          "name": "dispute_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "dispute_opened_at": {
          "name": "dispute_opened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "dispute_resolved_at": {
          "name": "dispute_resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "written_off_amount": {
          "name": "written_off_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "written_off_at": {
          "name": "written_off_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "written_off_reason": {
          "name": "written_off_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "internal_notes": {
          "name": "internal_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_notes": {
          "name": "client_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "terms_and_conditions": {
          "name": "terms_and_conditions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_invoices_company": {
          "name": "idx_invoices_company",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_invoices_due_date": {
          "name": "idx_invoices_due_date",
          "columns": [
            {
              "expression": "due_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status <> ALL (ARRAY['paid'::invoice_status, 'void'::invoice_status])) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_invoices_org": {
          "name": "idx_invoices_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_invoices_overdue": {
          "name": "idx_invoices_overdue",
          "columns": [
            {
              "expression": "due_date",
              "asc": true,
              "nulls": "last",
              "opclass": "numeric_ops",
              "isExpression": false
            },
            {
              "expression": "balance_due",
              "asc": true,
              "nulls": "last",
              "opclass": "numeric_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status = 'overdue'::invoice_status) AND (deleted_at IS NULL))",
          "with": {}
        },
        "idx_invoices_status": {
          "name": "idx_invoices_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "invoices_billing_contact_id_fkey": {
          "name": "invoices_billing_contact_id_fkey",
          "tableFrom": "invoices",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "billing_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoices_company_id_fkey": {
          "name": "invoices_company_id_fkey",
          "tableFrom": "invoices",
          "tableTo": "companies",
          "schemaTo": "public",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoices_created_by_fkey": {
          "name": "invoices_created_by_fkey",
          "tableFrom": "invoices",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoices_org_id_fkey": {
          "name": "invoices_org_id_fkey",
          "tableFrom": "invoices",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoices_updated_by_fkey": {
          "name": "invoices_updated_by_fkey",
          "tableFrom": "invoices",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "invoices_number_unique": {
          "columns": [
            "org_id",
            "invoice_number"
          ],
          "nullsNotDistinct": false,
          "name": "invoices_number_unique"
        }
      },
      "checkConstraints": {},
      "policies": {
        "invoices_org_isolation": {
          "name": "invoices_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.invoice_payments": {
      "name": "invoice_payments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "invoice_id": {
          "name": "invoice_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "payment_date": {
          "name": "payment_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "payment_method": {
          "name": "payment_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reference_number": {
          "name": "reference_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bank_reference": {
          "name": "bank_reference",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "matched_to_line_items": {
          "name": "matched_to_line_items",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "deposit_date": {
          "name": "deposit_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "deposit_account": {
          "name": "deposit_account",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_invoice_payments_invoice": {
          "name": "idx_invoice_payments_invoice",
          "columns": [
            {
              "expression": "invoice_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_invoice_payments_org": {
          "name": "idx_invoice_payments_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "invoice_payments_created_by_fkey": {
          "name": "invoice_payments_created_by_fkey",
          "tableFrom": "invoice_payments",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoice_payments_invoice_id_fkey": {
          "name": "invoice_payments_invoice_id_fkey",
          "tableFrom": "invoice_payments",
          "tableTo": "invoices",
          "schemaTo": "public",
          "columnsFrom": [
            "invoice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoice_payments_org_id_fkey": {
          "name": "invoice_payments_org_id_fkey",
          "tableFrom": "invoice_payments",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "invoice_payments_payment_method_check": {
          "name": "invoice_payments_payment_method_check",
          "value": "payment_method = ANY (ARRAY['check'::text, 'ach'::text, 'wire'::text, 'credit_card'::text, 'other'::text])"
        }
      },
      "policies": {
        "invoice_payments_org_isolation": {
          "name": "invoice_payments_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.payment_terms": {
      "name": "payment_terms",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "days_until_due": {
          "name": "days_until_due",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "early_payment_discount_percent": {
          "name": "early_payment_discount_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "early_payment_discount_days": {
          "name": "early_payment_discount_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "late_fee_percent": {
          "name": "late_fee_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "late_fee_flat": {
          "name": "late_fee_flat",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "late_fee_grace_days": {
          "name": "late_fee_grace_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_payment_terms_org": {
          "name": "idx_payment_terms_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        }
      },
      "foreignKeys": {
        "payment_terms_org_id_fkey": {
          "name": "payment_terms_org_id_fkey",
          "tableFrom": "payment_terms",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "payment_terms_org_isolation": {
          "name": "payment_terms_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.invoice_batches": {
      "name": "invoice_batches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "batch_number": {
          "name": "batch_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "batch_date": {
          "name": "batch_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "invoice_count": {
          "name": "invoice_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_amount": {
          "name": "total_amount",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "include_accounts": {
          "name": "include_accounts",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "exclude_accounts": {
          "name": "exclude_accounts",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "cutoff_date": {
          "name": "cutoff_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_invoice_batches_org": {
          "name": "idx_invoice_batches_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "invoice_batches_created_by_fkey": {
          "name": "invoice_batches_created_by_fkey",
          "tableFrom": "invoice_batches",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoice_batches_org_id_fkey": {
          "name": "invoice_batches_org_id_fkey",
          "tableFrom": "invoice_batches",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "invoice_batches_status_check": {
          "name": "invoice_batches_status_check",
          "value": "status = ANY (ARRAY['draft'::text, 'processing'::text, 'sent'::text, 'completed'::text])"
        }
      },
      "policies": {
        "invoice_batches_org_isolation": {
          "name": "invoice_batches_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.invoice_templates": {
      "name": "invoice_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "header_html": {
          "name": "header_html",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "footer_html": {
          "name": "footer_html",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "line_item_format": {
          "name": "line_item_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_color": {
          "name": "primary_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "font_family": {
          "name": "font_family",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_payment_terms_id": {
          "name": "default_payment_terms_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "default_notes": {
          "name": "default_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_terms_and_conditions": {
          "name": "default_terms_and_conditions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_invoice_templates_org": {
          "name": "idx_invoice_templates_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        }
      },
      "foreignKeys": {
        "invoice_templates_default_payment_terms_id_fkey": {
          "name": "invoice_templates_default_payment_terms_id_fkey",
          "tableFrom": "invoice_templates",
          "tableTo": "payment_terms",
          "schemaTo": "public",
          "columnsFrom": [
            "default_payment_terms_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoice_templates_org_id_fkey": {
          "name": "invoice_templates_org_id_fkey",
          "tableFrom": "invoice_templates",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "invoice_templates_org_isolation": {
          "name": "invoice_templates_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.pay_periods": {
      "name": "pay_periods",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "period_number": {
          "name": "period_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "year": {
          "name": "year",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "pay_date": {
          "name": "pay_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "period_type": {
          "name": "period_type",
          "type": "timesheet_period_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "pay_period_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'upcoming'"
        },
        "timesheet_cutoff": {
          "name": "timesheet_cutoff",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_pay_periods_dates": {
          "name": "idx_pay_periods_dates",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            },
            {
              "expression": "period_start",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "period_end",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pay_periods_org": {
          "name": "idx_pay_periods_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "year",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "period_number",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pay_periods_org_id_fkey": {
          "name": "pay_periods_org_id_fkey",
          "tableFrom": "pay_periods",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "pay_periods_unique": {
          "columns": [
            "org_id",
            "period_number",
            "year"
          ],
          "nullsNotDistinct": false,
          "name": "pay_periods_unique"
        }
      },
      "checkConstraints": {},
      "policies": {
        "pay_periods_org_isolation": {
          "name": "pay_periods_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.pay_runs": {
      "name": "pay_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "pay_period_id": {
          "name": "pay_period_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "run_number": {
          "name": "run_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "run_type": {
          "name": "run_type",
          "type": "pay_run_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'regular'"
        },
        "check_date": {
          "name": "check_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "direct_deposit_date": {
          "name": "direct_deposit_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "total_gross": {
          "name": "total_gross",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_employer_taxes": {
          "name": "total_employer_taxes",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_employee_taxes": {
          "name": "total_employee_taxes",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_deductions": {
          "name": "total_deductions",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_net": {
          "name": "total_net",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_employer_cost": {
          "name": "total_employer_cost",
          "type": "numeric(14, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "employee_count": {
          "name": "employee_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "consultant_count": {
          "name": "consultant_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "contractor_count": {
          "name": "contractor_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "pay_run_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "payroll_provider": {
          "name": "payroll_provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_run_id": {
          "name": "external_run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_pay_runs_org": {
          "name": "idx_pay_runs_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_pay_runs_period": {
          "name": "idx_pay_runs_period",
          "columns": [
            {
              "expression": "pay_period_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pay_runs_status": {
          "name": "idx_pay_runs_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pay_runs_approved_by_fkey": {
          "name": "pay_runs_approved_by_fkey",
          "tableFrom": "pay_runs",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "pay_runs_created_by_fkey": {
          "name": "pay_runs_created_by_fkey",
          "tableFrom": "pay_runs",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "pay_runs_org_id_fkey": {
          "name": "pay_runs_org_id_fkey",
          "tableFrom": "pay_runs",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "pay_runs_pay_period_id_fkey": {
          "name": "pay_runs_pay_period_id_fkey",
          "tableFrom": "pay_runs",
          "tableTo": "pay_periods",
          "schemaTo": "public",
          "columnsFrom": [
            "pay_period_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "pay_runs_number_unique": {
          "columns": [
            "org_id",
            "run_number"
          ],
          "nullsNotDistinct": false,
          "name": "pay_runs_number_unique"
        }
      },
      "checkConstraints": {},
      "policies": {
        "pay_runs_org_isolation": {
          "name": "pay_runs_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.worker_tax_setup": {
      "name": "worker_tax_setup",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "federal_filing_status": {
          "name": "federal_filing_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "federal_allowances": {
          "name": "federal_allowances",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "additional_federal_withholding": {
          "name": "additional_federal_withholding",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "federal_exempt": {
          "name": "federal_exempt",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "work_state": {
          "name": "work_state",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "state_filing_status": {
          "name": "state_filing_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state_allowances": {
          "name": "state_allowances",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "additional_state_withholding": {
          "name": "additional_state_withholding",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "state_exempt": {
          "name": "state_exempt",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "resident_state": {
          "name": "resident_state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resident_state_filing_status": {
          "name": "resident_state_filing_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "local_tax_jurisdiction": {
          "name": "local_tax_jurisdiction",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "local_tax_rate": {
          "name": "local_tax_rate",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "fica_exempt": {
          "name": "fica_exempt",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "w4_form_date": {
          "name": "w4_form_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "w4_multiple_jobs": {
          "name": "w4_multiple_jobs",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "w4_dependents_credit": {
          "name": "w4_dependents_credit",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "w4_other_income": {
          "name": "w4_other_income",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "w4_deductions": {
          "name": "w4_deductions",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_worker_tax_setup_contact": {
          "name": "idx_worker_tax_setup_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_worker_tax_setup_org": {
          "name": "idx_worker_tax_setup_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "worker_tax_setup_contact_id_fkey": {
          "name": "worker_tax_setup_contact_id_fkey",
          "tableFrom": "worker_tax_setup",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "worker_tax_setup_org_id_fkey": {
          "name": "worker_tax_setup_org_id_fkey",
          "tableFrom": "worker_tax_setup",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "worker_tax_setup_org_isolation": {
          "name": "worker_tax_setup_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.worker_benefits": {
      "name": "worker_benefits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "benefit_plan_id": {
          "name": "benefit_plan_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_date": {
          "name": "enrollment_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "termination_date": {
          "name": "termination_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "coverage_level": {
          "name": "coverage_level",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_contribution": {
          "name": "employee_contribution",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "employer_contribution": {
          "name": "employer_contribution",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "contribution_frequency": {
          "name": "contribution_frequency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'per_pay_period'"
        },
        "annual_election": {
          "name": "annual_election",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "ytd_contribution": {
          "name": "ytd_contribution",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_worker_benefits_contact": {
          "name": "idx_worker_benefits_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_worker_benefits_org": {
          "name": "idx_worker_benefits_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "worker_benefits_contact_id_fkey": {
          "name": "worker_benefits_contact_id_fkey",
          "tableFrom": "worker_benefits",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "worker_benefits_org_id_fkey": {
          "name": "worker_benefits_org_id_fkey",
          "tableFrom": "worker_benefits",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "worker_benefits_org_isolation": {
          "name": "worker_benefits_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.worker_garnishments": {
      "name": "worker_garnishments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "garnishment_type": {
          "name": "garnishment_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "case_number": {
          "name": "case_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "issuing_agency": {
          "name": "issuing_agency",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calculation_type": {
          "name": "calculation_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "percentage": {
          "name": "percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "maximum_percentage": {
          "name": "maximum_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_amount_owed": {
          "name": "total_amount_owed",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "amount_paid": {
          "name": "amount_paid",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_worker_garnishments_contact": {
          "name": "idx_worker_garnishments_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_worker_garnishments_org": {
          "name": "idx_worker_garnishments_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "worker_garnishments_contact_id_fkey": {
          "name": "worker_garnishments_contact_id_fkey",
          "tableFrom": "worker_garnishments",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "worker_garnishments_org_id_fkey": {
          "name": "worker_garnishments_org_id_fkey",
          "tableFrom": "worker_garnishments",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "worker_garnishments_calculation_type_check": {
          "name": "worker_garnishments_calculation_type_check",
          "value": "calculation_type = ANY (ARRAY['flat'::text, 'percentage'::text, 'percentage_after_taxes'::text])"
        },
        "worker_garnishments_garnishment_type_check": {
          "name": "worker_garnishments_garnishment_type_check",
          "value": "garnishment_type = ANY (ARRAY['child_support'::text, 'tax_levy'::text, 'creditor'::text, 'student_loan'::text, 'bankruptcy'::text, 'other'::text])"
        }
      },
      "policies": {
        "worker_garnishments_org_isolation": {
          "name": "worker_garnishments_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.tax_documents": {
      "name": "tax_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "document_type": {
          "name": "document_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tax_year": {
          "name": "tax_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "worker_type": {
          "name": "worker_type",
          "type": "worker_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "worker_id": {
          "name": "worker_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "document_data": {
          "name": "document_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "pdf_url": {
          "name": "pdf_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "filed_with_irs": {
          "name": "filed_with_irs",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "filed_at": {
          "name": "filed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "irs_confirmation": {
          "name": "irs_confirmation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_corrected": {
          "name": "is_corrected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "corrects_document_id": {
          "name": "corrects_document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "correction_reason": {
          "name": "correction_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mailed_at": {
          "name": "mailed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "mailing_address": {
          "name": "mailing_address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "emailed_at": {
          "name": "emailed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "viewed_at": {
          "name": "viewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_tax_documents_org": {
          "name": "idx_tax_documents_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tax_documents_worker": {
          "name": "idx_tax_documents_worker",
          "columns": [
            {
              "expression": "worker_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "tax_year",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tax_documents_year": {
          "name": "idx_tax_documents_year",
          "columns": [
            {
              "expression": "tax_year",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "document_type",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(filed_with_irs = false)",
          "with": {}
        }
      },
      "foreignKeys": {
        "tax_documents_contact_id_fkey": {
          "name": "tax_documents_contact_id_fkey",
          "tableFrom": "tax_documents",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_documents_corrects_document_id_fkey": {
          "name": "tax_documents_corrects_document_id_fkey",
          "tableFrom": "tax_documents",
          "tableTo": "tax_documents",
          "schemaTo": "public",
          "columnsFrom": [
            "corrects_document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_documents_org_id_fkey": {
          "name": "tax_documents_org_id_fkey",
          "tableFrom": "tax_documents",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tax_documents_unique": {
          "columns": [
            "org_id",
            "document_type",
            "tax_year",
            "worker_id"
          ],
          "nullsNotDistinct": false,
          "name": "tax_documents_unique"
        }
      },
      "checkConstraints": {
        "tax_documents_document_type_check": {
          "name": "tax_documents_document_type_check",
          "value": "document_type = ANY (ARRAY['w2'::text, '1099_nec'::text, '1099_misc'::text])"
        }
      },
      "policies": {
        "tax_documents_org_isolation": {
          "name": "tax_documents_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.workflow_executions": {
      "name": "workflow_executions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "instance_id": {
          "name": "instance_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "paused_at": {
          "name": "paused_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_event": {
          "name": "trigger_event",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "current_step_index": {
          "name": "current_step_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_steps": {
          "name": "total_steps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_stack": {
          "name": "error_stack",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "execution_context": {
          "name": "execution_context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_workflow_executions_instance": {
          "name": "idx_workflow_executions_instance",
          "columns": [
            {
              "expression": "instance_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workflow_executions_org": {
          "name": "idx_workflow_executions_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workflow_executions_retry": {
          "name": "idx_workflow_executions_retry",
          "columns": [
            {
              "expression": "next_retry_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(((status)::text = 'failed'::text) AND (retry_count < max_retries))",
          "with": {}
        },
        "idx_workflow_executions_running": {
          "name": "idx_workflow_executions_running",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status)::text = 'running'::text)",
          "with": {}
        }
      },
      "foreignKeys": {
        "workflow_executions_instance_id_fkey": {
          "name": "workflow_executions_instance_id_fkey",
          "tableFrom": "workflow_executions",
          "tableTo": "workflow_instances",
          "schemaTo": "public",
          "columnsFrom": [
            "instance_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workflow_executions_org_id_fkey": {
          "name": "workflow_executions_org_id_fkey",
          "tableFrom": "workflow_executions",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workflow_executions_triggered_by_fkey": {
          "name": "workflow_executions_triggered_by_fkey",
          "tableFrom": "workflow_executions",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "triggered_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "workflow_executions_status_check": {
          "name": "workflow_executions_status_check",
          "value": "(status)::text = ANY ((ARRAY['pending'::character varying, 'running'::character varying, 'completed'::character varying, 'failed'::character varying, 'cancelled'::character varying, 'paused'::character varying])::text[])"
        },
        "workflow_executions_trigger_type_check": {
          "name": "workflow_executions_trigger_type_check",
          "value": "(trigger_type)::text = ANY ((ARRAY['manual'::character varying, 'automatic'::character varying, 'scheduled'::character varying, 'event'::character varying, 'api'::character varying])::text[])"
        }
      },
      "policies": {
        "org_isolation_workflow_executions": {
          "name": "org_isolation_workflow_executions",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.workflow_steps": {
      "name": "workflow_steps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "execution_id": {
          "name": "execution_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "state_id": {
          "name": "state_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "transition_id": {
          "name": "transition_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "step_type": {
          "name": "step_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "step_name": {
          "name": "step_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "step_config": {
          "name": "step_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "wait_until": {
          "name": "wait_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "wait_condition": {
          "name": "wait_condition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_workflow_steps_execution": {
          "name": "idx_workflow_steps_execution",
          "columns": [
            {
              "expression": "execution_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "position",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workflow_steps_status": {
          "name": "idx_workflow_steps_status",
          "columns": [
            {
              "expression": "execution_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workflow_steps_waiting": {
          "name": "idx_workflow_steps_waiting",
          "columns": [
            {
              "expression": "wait_until",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status)::text = 'waiting'::text)",
          "with": {}
        }
      },
      "foreignKeys": {
        "workflow_steps_execution_id_fkey": {
          "name": "workflow_steps_execution_id_fkey",
          "tableFrom": "workflow_steps",
          "tableTo": "workflow_executions",
          "schemaTo": "public",
          "columnsFrom": [
            "execution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workflow_steps_state_id_fkey": {
          "name": "workflow_steps_state_id_fkey",
          "tableFrom": "workflow_steps",
          "tableTo": "workflow_states",
          "schemaTo": "public",
          "columnsFrom": [
            "state_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_steps_transition_id_fkey": {
          "name": "workflow_steps_transition_id_fkey",
          "tableFrom": "workflow_steps",
          "tableTo": "workflow_transitions",
          "schemaTo": "public",
          "columnsFrom": [
            "transition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "workflow_steps_status_check": {
          "name": "workflow_steps_status_check",
          "value": "(status)::text = ANY ((ARRAY['pending'::character varying, 'running'::character varying, 'completed'::character varying, 'failed'::character varying, 'skipped'::character varying, 'waiting'::character varying])::text[])"
        },
        "workflow_steps_step_type_check": {
          "name": "workflow_steps_step_type_check",
          "value": "(step_type)::text = ANY ((ARRAY['state'::character varying, 'transition'::character varying, 'action'::character varying, 'condition'::character varying, 'wait'::character varying, 'approval'::character varying])::text[])"
        }
      },
      "policies": {
        "execution_access_workflow_steps": {
          "name": "execution_access_workflow_steps",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM workflow_executions we\n  WHERE ((we.id = workflow_steps.execution_id) AND (we.org_id = (current_setting('app.org_id'::text, true))::uuid))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.workflow_actions": {
      "name": "workflow_actions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "execution_id": {
          "name": "execution_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "step_id": {
          "name": "step_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "action_type": {
          "name": "action_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "action_config": {
          "name": "action_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_workflow_actions_execution": {
          "name": "idx_workflow_actions_execution",
          "columns": [
            {
              "expression": "execution_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workflow_actions_scheduled": {
          "name": "idx_workflow_actions_scheduled",
          "columns": [
            {
              "expression": "scheduled_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(((status)::text = 'pending'::text) AND (scheduled_at IS NOT NULL))",
          "with": {}
        },
        "idx_workflow_actions_status": {
          "name": "idx_workflow_actions_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status)::text = ANY ((ARRAY['pending'::character varying, 'running'::character varying, 'failed'::character varying])::text[]))",
          "with": {}
        },
        "idx_workflow_actions_step": {
          "name": "idx_workflow_actions_step",
          "columns": [
            {
              "expression": "step_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workflow_actions_execution_id_fkey": {
          "name": "workflow_actions_execution_id_fkey",
          "tableFrom": "workflow_actions",
          "tableTo": "workflow_executions",
          "schemaTo": "public",
          "columnsFrom": [
            "execution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workflow_actions_step_id_fkey": {
          "name": "workflow_actions_step_id_fkey",
          "tableFrom": "workflow_actions",
          "tableTo": "workflow_steps",
          "schemaTo": "public",
          "columnsFrom": [
            "step_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "workflow_actions_action_type_check": {
          "name": "workflow_actions_action_type_check",
          "value": "(action_type)::text = ANY ((ARRAY['send_email'::character varying, 'send_notification'::character varying, 'create_task'::character varying, 'create_activity'::character varying, 'update_field'::character varying, 'webhook'::character varying, 'wait'::character varying, 'condition'::character varying, 'assign'::character varying, 'escalate'::character varying, 'create_document'::character varying, 'update_status'::character varying, 'add_note'::character varying, 'trigger_workflow'::character varying])::text[])"
        },
        "workflow_actions_status_check": {
          "name": "workflow_actions_status_check",
          "value": "(status)::text = ANY ((ARRAY['pending'::character varying, 'running'::character varying, 'completed'::character varying, 'failed'::character varying, 'skipped'::character varying, 'cancelled'::character varying])::text[])"
        }
      },
      "policies": {
        "execution_access_workflow_actions": {
          "name": "execution_access_workflow_actions",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM workflow_executions we\n  WHERE ((we.id = workflow_actions.execution_id) AND (we.org_id = (current_setting('app.org_id'::text, true))::uuid))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.workflow_approvals": {
      "name": "workflow_approvals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "execution_id": {
          "name": "execution_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "step_id": {
          "name": "step_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approver_id": {
          "name": "approver_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "approver_type": {
          "name": "approver_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "approver_role": {
          "name": "approver_role",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "responded_at": {
          "name": "responded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "response_notes": {
          "name": "response_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "delegated_to": {
          "name": "delegated_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "delegated_at": {
          "name": "delegated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "delegation_reason": {
          "name": "delegation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "escalated_to": {
          "name": "escalated_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "escalated_at": {
          "name": "escalated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "escalation_reason": {
          "name": "escalation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "escalation_level": {
          "name": "escalation_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "sequence_order": {
          "name": "sequence_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "is_parallel": {
          "name": "is_parallel",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "approval_context": {
          "name": "approval_context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_workflow_approvals_approver": {
          "name": "idx_workflow_approvals_approver",
          "columns": [
            {
              "expression": "approver_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workflow_approvals_due": {
          "name": "idx_workflow_approvals_due",
          "columns": [
            {
              "expression": "due_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status)::text = 'pending'::text)",
          "with": {}
        },
        "idx_workflow_approvals_execution": {
          "name": "idx_workflow_approvals_execution",
          "columns": [
            {
              "expression": "execution_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workflow_approvals_org_pending": {
          "name": "idx_workflow_approvals_org_pending",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status)::text = 'pending'::text)",
          "with": {}
        }
      },
      "foreignKeys": {
        "workflow_approvals_approver_id_fkey": {
          "name": "workflow_approvals_approver_id_fkey",
          "tableFrom": "workflow_approvals",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_approvals_delegated_to_fkey": {
          "name": "workflow_approvals_delegated_to_fkey",
          "tableFrom": "workflow_approvals",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "delegated_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_approvals_escalated_to_fkey": {
          "name": "workflow_approvals_escalated_to_fkey",
          "tableFrom": "workflow_approvals",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "escalated_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_approvals_execution_id_fkey": {
          "name": "workflow_approvals_execution_id_fkey",
          "tableFrom": "workflow_approvals",
          "tableTo": "workflow_executions",
          "schemaTo": "public",
          "columnsFrom": [
            "execution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workflow_approvals_org_id_fkey": {
          "name": "workflow_approvals_org_id_fkey",
          "tableFrom": "workflow_approvals",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workflow_approvals_step_id_fkey": {
          "name": "workflow_approvals_step_id_fkey",
          "tableFrom": "workflow_approvals",
          "tableTo": "workflow_steps",
          "schemaTo": "public",
          "columnsFrom": [
            "step_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "workflow_approvals_approver_type_check": {
          "name": "workflow_approvals_approver_type_check",
          "value": "(approver_type)::text = ANY ((ARRAY['user'::character varying, 'role'::character varying, 'manager'::character varying, 'owner'::character varying, 'pod_lead'::character varying])::text[])"
        },
        "workflow_approvals_status_check": {
          "name": "workflow_approvals_status_check",
          "value": "(status)::text = ANY ((ARRAY['pending'::character varying, 'approved'::character varying, 'rejected'::character varying, 'delegated'::character varying, 'escalated'::character varying, 'expired'::character varying, 'cancelled'::character varying])::text[])"
        }
      },
      "policies": {
        "org_isolation_workflow_approvals": {
          "name": "org_isolation_workflow_approvals",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.workflow_execution_logs": {
      "name": "workflow_execution_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "execution_id": {
          "name": "execution_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "step_id": {
          "name": "step_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "action_id": {
          "name": "action_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "level": {
          "name": "level",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'info'"
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_workflow_execution_logs_execution": {
          "name": "idx_workflow_execution_logs_execution",
          "columns": [
            {
              "expression": "execution_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workflow_execution_logs_level": {
          "name": "idx_workflow_execution_logs_level",
          "columns": [
            {
              "expression": "level",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((level)::text = ANY ((ARRAY['warning'::character varying, 'error'::character varying])::text[]))",
          "with": {}
        },
        "idx_workflow_execution_logs_step": {
          "name": "idx_workflow_execution_logs_step",
          "columns": [
            {
              "expression": "step_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(step_id IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "workflow_execution_logs_action_id_fkey": {
          "name": "workflow_execution_logs_action_id_fkey",
          "tableFrom": "workflow_execution_logs",
          "tableTo": "workflow_actions",
          "schemaTo": "public",
          "columnsFrom": [
            "action_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workflow_execution_logs_execution_id_fkey": {
          "name": "workflow_execution_logs_execution_id_fkey",
          "tableFrom": "workflow_execution_logs",
          "tableTo": "workflow_executions",
          "schemaTo": "public",
          "columnsFrom": [
            "execution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workflow_execution_logs_step_id_fkey": {
          "name": "workflow_execution_logs_step_id_fkey",
          "tableFrom": "workflow_execution_logs",
          "tableTo": "workflow_steps",
          "schemaTo": "public",
          "columnsFrom": [
            "step_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "workflow_execution_logs_level_check": {
          "name": "workflow_execution_logs_level_check",
          "value": "(level)::text = ANY ((ARRAY['debug'::character varying, 'info'::character varying, 'warning'::character varying, 'error'::character varying])::text[])"
        }
      },
      "policies": {
        "execution_access_workflow_logs": {
          "name": "execution_access_workflow_logs",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM workflow_executions we\n  WHERE ((we.id = workflow_execution_logs.execution_id) AND (we.org_id = (current_setting('app.org_id'::text, true))::uuid))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.notification_preferences": {
      "name": "notification_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "channels": {
          "name": "channels",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[\"in_app\"]'::jsonb"
        },
        "frequency": {
          "name": "frequency",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'immediate'"
        },
        "digest_time": {
          "name": "digest_time",
          "type": "time",
          "primaryKey": false,
          "notNull": false,
          "default": "'09:00:00'"
        },
        "digest_day": {
          "name": "digest_day",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'monday'"
        },
        "quiet_hours_enabled": {
          "name": "quiet_hours_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "quiet_hours_start": {
          "name": "quiet_hours_start",
          "type": "time",
          "primaryKey": false,
          "notNull": false,
          "default": "'22:00:00'"
        },
        "quiet_hours_end": {
          "name": "quiet_hours_end",
          "type": "time",
          "primaryKey": false,
          "notNull": false,
          "default": "'08:00:00'"
        },
        "quiet_hours_timezone": {
          "name": "quiet_hours_timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'America/New_York'"
        },
        "dnd_enabled": {
          "name": "dnd_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "dnd_until": {
          "name": "dnd_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "sound_enabled": {
          "name": "sound_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "email_unsubscribed": {
          "name": "email_unsubscribed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "email_unsubscribed_at": {
          "name": "email_unsubscribed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_notification_preferences_dnd": {
          "name": "idx_notification_preferences_dnd",
          "columns": [
            {
              "expression": "dnd_until",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(dnd_enabled = true)",
          "with": {}
        },
        "idx_notification_preferences_org_user": {
          "name": "idx_notification_preferences_org_user",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notification_preferences_user": {
          "name": "idx_notification_preferences_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "notification_preferences_org_id_fkey": {
          "name": "notification_preferences_org_id_fkey",
          "tableFrom": "notification_preferences",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "notification_preferences_user_id_fkey": {
          "name": "notification_preferences_user_id_fkey",
          "tableFrom": "notification_preferences",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_user_category": {
          "columns": [
            "user_id",
            "category"
          ],
          "nullsNotDistinct": false,
          "name": "unique_user_category"
        }
      },
      "checkConstraints": {
        "notification_preferences_frequency_check": {
          "name": "notification_preferences_frequency_check",
          "value": "(frequency)::text = ANY ((ARRAY['immediate'::character varying, 'hourly_digest'::character varying, 'daily_digest'::character varying, 'weekly_digest'::character varying, 'never'::character varying])::text[])"
        }
      },
      "policies": {
        "user_isolation_notification_preferences": {
          "name": "user_isolation_notification_preferences",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(user_id = (current_setting('app.user_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.notification_templates": {
      "name": "notification_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "title_template": {
          "name": "title_template",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "message_template": {
          "name": "message_template",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "default_type": {
          "name": "default_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'info'"
        },
        "default_priority": {
          "name": "default_priority",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'normal'"
        },
        "action_url_template": {
          "name": "action_url_template",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action_label": {
          "name": "action_label",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "email_subject_template": {
          "name": "email_subject_template",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "email_body_template": {
          "name": "email_body_template",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_body_text_template": {
          "name": "email_body_text_template",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sms_template": {
          "name": "sms_template",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "push_title_template": {
          "name": "push_title_template",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "push_body_template": {
          "name": "push_body_template",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "push_image_url": {
          "name": "push_image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_channels": {
          "name": "default_channels",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[\"in_app\"]'::jsonb"
        },
        "variables": {
          "name": "variables",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "conditions": {
          "name": "conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_notification_templates_category": {
          "name": "idx_notification_templates_category",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "category",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_notification_templates_org": {
          "name": "idx_notification_templates_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_notification_templates_slug": {
          "name": "idx_notification_templates_slug",
          "columns": [
            {
              "expression": "slug",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_notification_templates_unique_slug": {
          "name": "idx_notification_templates_unique_slug",
          "columns": [
            {
              "expression": "COALESCE(org_id, '00000000-0000-0000-0000-000000000000'::uuid)",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": true
            },
            {
              "expression": "slug",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": true
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        }
      },
      "foreignKeys": {
        "notification_templates_created_by_fkey": {
          "name": "notification_templates_created_by_fkey",
          "tableFrom": "notification_templates",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notification_templates_org_id_fkey": {
          "name": "notification_templates_org_id_fkey",
          "tableFrom": "notification_templates",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "notification_templates_default_priority_check": {
          "name": "notification_templates_default_priority_check",
          "value": "(default_priority)::text = ANY ((ARRAY['low'::character varying, 'normal'::character varying, 'high'::character varying, 'urgent'::character varying])::text[])"
        },
        "notification_templates_default_type_check": {
          "name": "notification_templates_default_type_check",
          "value": "(default_type)::text = ANY ((ARRAY['info'::character varying, 'success'::character varying, 'warning'::character varying, 'error'::character varying, 'action_required'::character varying])::text[])"
        }
      },
      "policies": {
        "org_isolation_notification_templates": {
          "name": "org_isolation_notification_templates",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "((org_id IS NULL) OR (org_id = (current_setting('app.org_id'::text, true))::uuid))"
        }
      },
      "isRLSEnabled": true
    },
    "public.campaigns": {
      "name": "campaigns",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_type": {
          "name": "campaign_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'talent_sourcing'"
        },
        "channel": {
          "name": "channel",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'email'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "target_audience": {
          "name": "target_audience",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_locations": {
          "name": "target_locations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "target_skills": {
          "name": "target_skills",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "target_company_sizes": {
          "name": "target_company_sizes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_ab_test": {
          "name": "is_ab_test",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "variant_a_template_id": {
          "name": "variant_a_template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "variant_b_template_id": {
          "name": "variant_b_template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "ab_split_percentage": {
          "name": "ab_split_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 50
        },
        "target_contacts_count": {
          "name": "target_contacts_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_response_rate": {
          "name": "target_response_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "target_conversion_count": {
          "name": "target_conversion_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "contacts_reached": {
          "name": "contacts_reached",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "emails_sent": {
          "name": "emails_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "linkedin_messages_sent": {
          "name": "linkedin_messages_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "responses_received": {
          "name": "responses_received",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "conversions": {
          "name": "conversions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "response_rate": {
          "name": "response_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "\nCASE\n    WHEN (emails_sent > 0) THEN round((((responses_received)::numeric / (emails_sent)::numeric) * (100)::numeric), 2)\n    ELSE (0)::numeric\nEND",
            "type": "stored"
          }
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "owner_id": {
          "name": "owner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "goal": {
          "name": "goal",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_criteria": {
          "name": "target_criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "channels": {
          "name": "channels",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "sequences": {
          "name": "sequences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "budget_total": {
          "name": "budget_total",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "budget_currency": {
          "name": "budget_currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "target_leads": {
          "name": "target_leads",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "target_meetings": {
          "name": "target_meetings",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "target_revenue": {
          "name": "target_revenue",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "compliance_settings": {
          "name": "compliance_settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"casl\":true,\"gdpr\":true,\"canSpam\":true,\"includeUnsubscribe\":true}'::jsonb"
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approval_status": {
          "name": "approval_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'not_required'"
        },
        "ab_test_config": {
          "name": "ab_test_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "budget_spent": {
          "name": "budget_spent",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "leads_generated": {
          "name": "leads_generated",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "meetings_booked": {
          "name": "meetings_booked",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "revenue_generated": {
          "name": "revenue_generated",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "audience_size": {
          "name": "audience_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "prospects_contacted": {
          "name": "prospects_contacted",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "prospects_opened": {
          "name": "prospects_opened",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "prospects_clicked": {
          "name": "prospects_clicked",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "prospects_responded": {
          "name": "prospects_responded",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "search_vector": {
          "name": "search_vector",
          "type": "tsvector",
          "primaryKey": false,
          "notNull": false
        },
        "sequence_template_ids": {
          "name": "sequence_template_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "send_window_start": {
          "name": "send_window_start",
          "type": "time",
          "primaryKey": false,
          "notNull": false,
          "default": "'09:00:00'"
        },
        "send_window_end": {
          "name": "send_window_end",
          "type": "time",
          "primaryKey": false,
          "notNull": false,
          "default": "'17:00:00'"
        },
        "send_days": {
          "name": "send_days",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"RAY['mon'::text\",\"'tue'::text\",\"'wed'::text\",\"'thu'::text\",\"'fri'::tex\"}'"
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'America/New_York'"
        },
        "total_sent": {
          "name": "total_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_completed": {
          "name": "total_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_active": {
          "name": "total_active",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_bounced": {
          "name": "total_bounced",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_unsubscribed": {
          "name": "total_unsubscribed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {
        "idx_campaigns_approval_status": {
          "name": "idx_campaigns_approval_status",
          "columns": [
            {
              "expression": "approval_status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_campaigns_channels": {
          "name": "idx_campaigns_channels",
          "columns": [
            {
              "expression": "channels",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_campaigns_dates": {
          "name": "idx_campaigns_dates",
          "columns": [
            {
              "expression": "start_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            },
            {
              "expression": "end_date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_campaigns_deleted_at": {
          "name": "idx_campaigns_deleted_at",
          "columns": [
            {
              "expression": "deleted_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_campaigns_goal": {
          "name": "idx_campaigns_goal",
          "columns": [
            {
              "expression": "goal",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_campaigns_org": {
          "name": "idx_campaigns_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_campaigns_org_created": {
          "name": "idx_campaigns_org_created",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_campaigns_org_status": {
          "name": "idx_campaigns_org_status",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_campaigns_owner": {
          "name": "idx_campaigns_owner",
          "columns": [
            {
              "expression": "owner_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_campaigns_search": {
          "name": "idx_campaigns_search",
          "columns": [
            {
              "expression": "search_vector",
              "asc": true,
              "nulls": "last",
              "opclass": "tsvector_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_campaigns_sequence_template_ids": {
          "name": "idx_campaigns_sequence_template_ids",
          "columns": [
            {
              "expression": "sequence_template_ids",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_campaigns_status": {
          "name": "idx_campaigns_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_campaigns_type": {
          "name": "idx_campaigns_type",
          "columns": [
            {
              "expression": "campaign_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "campaigns_approved_by_fkey": {
          "name": "campaigns_approved_by_fkey",
          "tableFrom": "campaigns",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "campaigns_created_by_fkey": {
          "name": "campaigns_created_by_fkey",
          "tableFrom": "campaigns",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "campaigns_org_id_fkey": {
          "name": "campaigns_org_id_fkey",
          "tableFrom": "campaigns",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "campaigns_owner_id_fkey": {
          "name": "campaigns_owner_id_fkey",
          "tableFrom": "campaigns",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "campaigns_updated_by_fkey": {
          "name": "campaigns_updated_by_fkey",
          "tableFrom": "campaigns",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "campaigns_create": {
          "name": "campaigns_create",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "public"
          ],
          "withCheck": "(auth_has_role('admin'::text) OR auth_has_role('recruiter'::text))"
        },
        "campaigns_employee_all": {
          "name": "campaigns_employee_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        },
        "campaigns_employee_select": {
          "name": "campaigns_employee_select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "campaigns_org_isolation": {
          "name": "campaigns_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        },
        "campaigns_owner_update": {
          "name": "campaigns_owner_update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.campaign_enrollments": {
      "name": "campaign_enrollments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "primary_channel": {
          "name": "primary_channel",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sequence_step": {
          "name": "sequence_step",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "sequence_status": {
          "name": "sequence_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "stop_reason": {
          "name": "stop_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_contacted_at": {
          "name": "first_contacted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_contacted_at": {
          "name": "last_contacted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "opened_at": {
          "name": "opened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "clicked_at": {
          "name": "clicked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "responded_at": {
          "name": "responded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "response_type": {
          "name": "response_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "response_text": {
          "name": "response_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "converted_to_lead_at": {
          "name": "converted_to_lead_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "converted_lead_id": {
          "name": "converted_lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "meeting_booked_at": {
          "name": "meeting_booked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "meeting_scheduled_for": {
          "name": "meeting_scheduled_for",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "engagement_score": {
          "name": "engagement_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'enrolled'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "current_step": {
          "name": "current_step",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "next_step_at": {
          "name": "next_step_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "steps_completed": {
          "name": "steps_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_step_at": {
          "name": "last_step_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ab_variant": {
          "name": "ab_variant",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "emails_sent": {
          "name": "emails_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "linkedin_sent": {
          "name": "linkedin_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "calls_made": {
          "name": "calls_made",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "sms_sent": {
          "name": "sms_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "error_count": {
          "name": "error_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_error_at": {
          "name": "last_error_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_campaign_enrollments_active": {
          "name": "idx_campaign_enrollments_active",
          "columns": [
            {
              "expression": "campaign_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "next_step_at",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = ANY (ARRAY['enrolled'::text, 'contacted'::text, 'engaged'::text]))",
          "with": {}
        },
        "idx_campaign_enrollments_campaign": {
          "name": "idx_campaign_enrollments_campaign",
          "columns": [
            {
              "expression": "campaign_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_campaign_enrollments_campaign_org": {
          "name": "idx_campaign_enrollments_campaign_org",
          "columns": [
            {
              "expression": "campaign_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_campaign_enrollments_contact": {
          "name": "idx_campaign_enrollments_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_campaign_enrollments_funnel": {
          "name": "idx_campaign_enrollments_funnel",
          "columns": [
            {
              "expression": "campaign_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "first_contacted_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "opened_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "clicked_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "responded_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "converted_to_lead_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "meeting_booked_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_campaign_enrollments_next_step": {
          "name": "idx_campaign_enrollments_next_step",
          "columns": [
            {
              "expression": "next_step_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "((status = 'enrolled'::text) AND (next_step_at IS NOT NULL))",
          "with": {}
        },
        "idx_campaign_enrollments_org": {
          "name": "idx_campaign_enrollments_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_campaign_enrollments_sequence": {
          "name": "idx_campaign_enrollments_sequence",
          "columns": [
            {
              "expression": "campaign_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "sequence_status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_campaign_enrollments_status": {
          "name": "idx_campaign_enrollments_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "campaign_enrollments_campaign_id_fkey": {
          "name": "campaign_enrollments_campaign_id_fkey",
          "tableFrom": "campaign_enrollments",
          "tableTo": "campaigns",
          "schemaTo": "public",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "campaign_enrollments_contact_id_fkey": {
          "name": "campaign_enrollments_contact_id_fkey",
          "tableFrom": "campaign_enrollments",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "campaign_enrollments_converted_lead_id_fkey": {
          "name": "campaign_enrollments_converted_lead_id_fkey",
          "tableFrom": "campaign_enrollments",
          "tableTo": "leads",
          "schemaTo": "public",
          "columnsFrom": [
            "converted_lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "campaign_enrollments_org_id_fkey": {
          "name": "campaign_enrollments_org_id_fkey",
          "tableFrom": "campaign_enrollments",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "campaign_enrollments_campaign_id_contact_id_key": {
          "columns": [
            "campaign_id",
            "contact_id"
          ],
          "nullsNotDistinct": false,
          "name": "campaign_enrollments_campaign_id_contact_id_key"
        }
      },
      "checkConstraints": {
        "campaign_enrollments_engagement_score_check": {
          "name": "campaign_enrollments_engagement_score_check",
          "value": "(engagement_score >= 0) AND (engagement_score <= 100)"
        },
        "campaign_enrollments_primary_channel_check": {
          "name": "campaign_enrollments_primary_channel_check",
          "value": "primary_channel = ANY (ARRAY['email'::text, 'linkedin'::text, 'phone'::text, 'sms'::text])"
        },
        "campaign_enrollments_response_type_check": {
          "name": "campaign_enrollments_response_type_check",
          "value": "(response_type IS NULL) OR (response_type = ANY (ARRAY['positive'::text, 'neutral'::text, 'negative'::text, 'auto_reply'::text, 'out_of_office'::text]))"
        },
        "campaign_enrollments_sequence_status_check": {
          "name": "campaign_enrollments_sequence_status_check",
          "value": "sequence_status = ANY (ARRAY['pending'::text, 'in_progress'::text, 'stopped'::text, 'completed'::text, 'paused'::text])"
        },
        "campaign_enrollments_status_check": {
          "name": "campaign_enrollments_status_check",
          "value": "status = ANY (ARRAY['enrolled'::text, 'contacted'::text, 'engaged'::text, 'responded'::text, 'converted'::text, 'unsubscribed'::text, 'bounced'::text, 'stopped'::text])"
        }
      },
      "policies": {
        "campaign_enrollments_org_isolation": {
          "name": "campaign_enrollments_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = ((auth.jwt() ->> 'org_id'::text))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.campaign_sequence_logs": {
      "name": "campaign_sequence_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "step_number": {
          "name": "step_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "action_type": {
          "name": "action_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action_at": {
          "name": "action_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_preview": {
          "name": "content_preview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "link_clicked": {
          "name": "link_clicked",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "call_duration_seconds": {
          "name": "call_duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "call_outcome": {
          "name": "call_outcome",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "response_text": {
          "name": "response_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sentiment": {
          "name": "sentiment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "sequence_id": {
          "name": "sequence_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "ab_variant": {
          "name": "ab_variant",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "variables_used": {
          "name": "variables_used",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        }
      },
      "indexes": {
        "idx_campaign_sequence_logs_action_at": {
          "name": "idx_campaign_sequence_logs_action_at",
          "columns": [
            {
              "expression": "action_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_campaign_sequence_logs_action_type": {
          "name": "idx_campaign_sequence_logs_action_type",
          "columns": [
            {
              "expression": "action_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_campaign_sequence_logs_campaign": {
          "name": "idx_campaign_sequence_logs_campaign",
          "columns": [
            {
              "expression": "campaign_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_campaign_sequence_logs_enrollment": {
          "name": "idx_campaign_sequence_logs_enrollment",
          "columns": [
            {
              "expression": "enrollment_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "step_number",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "campaign_sequence_logs_campaign_id_fkey": {
          "name": "campaign_sequence_logs_campaign_id_fkey",
          "tableFrom": "campaign_sequence_logs",
          "tableTo": "campaigns",
          "schemaTo": "public",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "campaign_sequence_logs_enrollment_id_fkey": {
          "name": "campaign_sequence_logs_enrollment_id_fkey",
          "tableFrom": "campaign_sequence_logs",
          "tableTo": "campaign_enrollments",
          "schemaTo": "public",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "campaign_sequence_logs_org_id_fkey": {
          "name": "campaign_sequence_logs_org_id_fkey",
          "tableFrom": "campaign_sequence_logs",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "campaign_sequence_logs_status_check": {
          "name": "campaign_sequence_logs_status_check",
          "value": "(status IS NULL) OR (status = ANY (ARRAY['pending'::text, 'sent'::text, 'skipped'::text, 'failed'::text, 'bounced'::text, 'opened'::text, 'clicked'::text, 'replied'::text]))"
        }
      },
      "policies": {
        "campaign_sequence_logs_org_isolation": {
          "name": "campaign_sequence_logs_org_isolation",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = auth_org_id())"
        },
        "campaign_sequence_logs_select": {
          "name": "campaign_sequence_logs_select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.communications": {
      "name": "communications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "direction": {
          "name": "direction",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "thread_id": {
          "name": "thread_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "parent_id": {
          "name": "parent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "thread_position": {
          "name": "thread_position",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "from_address": {
          "name": "from_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "from_name": {
          "name": "from_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "to_address": {
          "name": "to_address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "to_name": {
          "name": "to_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cc_addresses": {
          "name": "cc_addresses",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "bcc_addresses": {
          "name": "bcc_addresses",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "body_text": {
          "name": "body_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "body_html": {
          "name": "body_html",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "preview": {
          "name": "preview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_entity_type": {
          "name": "secondary_entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_entity_id": {
          "name": "secondary_entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "provider_message_id": {
          "name": "provider_message_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider_thread_id": {
          "name": "provider_thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "opened_at": {
          "name": "opened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "clicked_at": {
          "name": "clicked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "replied_at": {
          "name": "replied_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "open_count": {
          "name": "open_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "click_count": {
          "name": "click_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "reply_count": {
          "name": "reply_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "clicked_links": {
          "name": "clicked_links",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "sequence_step_id": {
          "name": "sequence_step_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "ab_variant": {
          "name": "ab_variant",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "template_name": {
          "name": "template_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "template_variables": {
          "name": "template_variables",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_communications_campaign": {
          "name": "idx_communications_campaign",
          "columns": [
            {
              "expression": "campaign_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(campaign_id IS NOT NULL)",
          "with": {}
        },
        "idx_communications_channel": {
          "name": "idx_communications_channel",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "channel",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_communications_contact": {
          "name": "idx_communications_contact",
          "columns": [
            {
              "expression": "contact_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contact_id IS NOT NULL)",
          "with": {}
        },
        "idx_communications_entity": {
          "name": "idx_communications_entity",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_communications_org": {
          "name": "idx_communications_org",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_communications_provider": {
          "name": "idx_communications_provider",
          "columns": [
            {
              "expression": "provider_message_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(provider_message_id IS NOT NULL)",
          "with": {}
        },
        "idx_communications_queue": {
          "name": "idx_communications_queue",
          "columns": [
            {
              "expression": "scheduled_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(((status)::text = ANY ((ARRAY['pending'::character varying, 'queued'::character varying])::text[])) AND (scheduled_at IS NOT NULL))",
          "with": {}
        },
        "idx_communications_status": {
          "name": "idx_communications_status",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_communications_thread": {
          "name": "idx_communications_thread",
          "columns": [
            {
              "expression": "thread_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(thread_id IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "communications_campaign_id_fkey": {
          "name": "communications_campaign_id_fkey",
          "tableFrom": "communications",
          "tableTo": "campaigns",
          "schemaTo": "public",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "communications_contact_id_fkey": {
          "name": "communications_contact_id_fkey",
          "tableFrom": "communications",
          "tableTo": "contacts",
          "schemaTo": "public",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "communications_created_by_fkey": {
          "name": "communications_created_by_fkey",
          "tableFrom": "communications",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "communications_org_id_fkey": {
          "name": "communications_org_id_fkey",
          "tableFrom": "communications",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "communications_parent_id_fkey": {
          "name": "communications_parent_id_fkey",
          "tableFrom": "communications",
          "tableTo": "communications",
          "schemaTo": "public",
          "columnsFrom": [
            "parent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "communications_thread_id_fkey": {
          "name": "communications_thread_id_fkey",
          "tableFrom": "communications",
          "tableTo": "communications",
          "schemaTo": "public",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "communications_channel_check": {
          "name": "communications_channel_check",
          "value": "(channel)::text = ANY ((ARRAY['email'::character varying, 'sms'::character varying, 'linkedin'::character varying, 'phone'::character varying, 'whatsapp'::character varying, 'in_app'::character varying])::text[])"
        },
        "communications_direction_check": {
          "name": "communications_direction_check",
          "value": "(direction)::text = ANY ((ARRAY['outbound'::character varying, 'inbound'::character varying])::text[])"
        },
        "communications_status_check": {
          "name": "communications_status_check",
          "value": "(status)::text = ANY ((ARRAY['pending'::character varying, 'queued'::character varying, 'sending'::character varying, 'sent'::character varying, 'delivered'::character varying, 'opened'::character varying, 'clicked'::character varying, 'replied'::character varying, 'bounced'::character varying, 'failed'::character varying, 'spam'::character varying, 'unsubscribed'::character varying, 'received'::character varying])::text[])"
        }
      },
      "policies": {
        "org_isolation_communications": {
          "name": "org_isolation_communications",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(org_id = (current_setting('app.org_id'::text, true))::uuid)"
        }
      },
      "isRLSEnabled": true
    },
    "public.communication_events": {
      "name": "communication_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "communication_id": {
          "name": "communication_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "event_data": {
          "name": "event_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "provider_event_id": {
          "name": "provider_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "raw_payload": {
          "name": "raw_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_communication_events_comm": {
          "name": "idx_communication_events_comm",
          "columns": [
            {
              "expression": "communication_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_communication_events_type": {
          "name": "idx_communication_events_type",
          "columns": [
            {
              "expression": "event_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "communication_events_communication_id_fkey": {
          "name": "communication_events_communication_id_fkey",
          "tableFrom": "communication_events",
          "tableTo": "communications",
          "schemaTo": "public",
          "columnsFrom": [
            "communication_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "communication_events_event_type_check": {
          "name": "communication_events_event_type_check",
          "value": "(event_type)::text = ANY ((ARRAY['created'::character varying, 'queued'::character varying, 'sending'::character varying, 'sent'::character varying, 'delivered'::character varying, 'opened'::character varying, 'clicked'::character varying, 'replied'::character varying, 'bounced'::character varying, 'failed'::character varying, 'spam'::character varying, 'unsubscribed'::character varying, 'retried'::character varying])::text[])"
        }
      },
      "policies": {
        "comm_access_communication_events": {
          "name": "comm_access_communication_events",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "using": "(EXISTS ( SELECT 1\n   FROM communications c\n  WHERE ((c.id = communication_events.communication_id) AND (c.org_id = (current_setting('app.org_id'::text, true))::uuid))))"
        }
      },
      "isRLSEnabled": true
    },
    "public.pto_balances": {
      "name": "pto_balances",
      "schema": "",
      "columns": {
        "employee_id": {
          "name": "employee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "year": {
          "name": "year",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "annual_accrual_days": {
          "name": "annual_accrual_days",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'15.0'"
        },
        "accrual_rate_per_pay_period": {
          "name": "accrual_rate_per_pay_period",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_accrued": {
          "name": "total_accrued",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_used": {
          "name": "total_used",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_pending": {
          "name": "total_pending",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "current_balance": {
          "name": "current_balance",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "((total_accrued - total_used) - total_pending)",
            "type": "stored"
          }
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_pto_balances_employee": {
          "name": "idx_pto_balances_employee",
          "columns": [
            {
              "expression": "employee_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_pto_balances_year": {
          "name": "idx_pto_balances_year",
          "columns": [
            {
              "expression": "year",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pto_balances_employee_id_fkey": {
          "name": "pto_balances_employee_id_fkey",
          "tableFrom": "pto_balances",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "employee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pto_balances_pkey": {
          "name": "pto_balances_pkey",
          "columns": [
            "employee_id",
            "year"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "pto_balances_employee_own": {
          "name": "pto_balances_employee_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "(employee_id = auth.uid())"
        },
        "pto_balances_hr_all": {
          "name": "pto_balances_hr_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.user_roles": {
      "name": "user_roles",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "assigned_by": {
          "name": "assigned_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_user_roles_expires": {
          "name": "idx_user_roles_expires",
          "columns": [
            {
              "expression": "expires_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(expires_at IS NOT NULL)",
          "with": {}
        },
        "idx_user_roles_primary": {
          "name": "idx_user_roles_primary",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_primary",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_primary = true)",
          "with": {}
        },
        "idx_user_roles_role": {
          "name": "idx_user_roles_role",
          "columns": [
            {
              "expression": "role_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        },
        "idx_user_roles_user": {
          "name": "idx_user_roles_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(deleted_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_roles_assigned_by_fkey": {
          "name": "user_roles_assigned_by_fkey",
          "tableFrom": "user_roles",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "assigned_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_roles_role_id_fkey": {
          "name": "user_roles_role_id_fkey",
          "tableFrom": "user_roles",
          "tableTo": "roles",
          "schemaTo": "public",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_roles_user_id_fkey": {
          "name": "user_roles_user_id_fkey",
          "tableFrom": "user_roles",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "user_roles_pkey": {
          "name": "user_roles_pkey",
          "columns": [
            "user_id",
            "role_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Admins can manage user roles": {
          "name": "Admins can manage user roles",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "public"
          ],
          "withCheck": "user_is_admin()",
          "using": "user_is_admin()"
        },
        "Admins can view all user roles": {
          "name": "Admins can view all user roles",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        },
        "Users can view own roles": {
          "name": "Users can view own roles",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "isRLSEnabled": true
    },
    "public.system_events_2025_12": {
      "name": "system_events_2025_12",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "event_category": {
          "name": "event_category",
          "type": "event_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "severity": {
          "name": "severity",
          "type": "event_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'info'"
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_id": {
          "name": "request_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "api_endpoint": {
          "name": "api_endpoint",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "http_method": {
          "name": "http_method",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "system_events_2025_12_entity_type_entity_id_occurred_at_idx": {
          "name": "system_events_2025_12_entity_type_entity_id_occurred_at_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(entity_type IS NOT NULL)",
          "with": {}
        },
        "system_events_2025_12_event_category_occurred_at_idx": {
          "name": "system_events_2025_12_event_category_occurred_at_idx",
          "columns": [
            {
              "expression": "event_category",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "system_events_2025_12_event_type_occurred_at_idx": {
          "name": "system_events_2025_12_event_type_occurred_at_idx",
          "columns": [
            {
              "expression": "event_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "system_events_2025_12_severity_occurred_at_idx": {
          "name": "system_events_2025_12_severity_occurred_at_idx",
          "columns": [
            {
              "expression": "severity",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(severity = ANY (ARRAY['warning'::event_severity, 'error'::event_severity, 'critical'::event_severity]))",
          "with": {}
        },
        "system_events_2025_12_user_id_occurred_at_idx": {
          "name": "system_events_2025_12_user_id_occurred_at_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "system_events_org_id_fkey": {
          "name": "system_events_org_id_fkey",
          "tableFrom": "system_events_2025_12",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "system_events_user_id_fkey": {
          "name": "system_events_user_id_fkey",
          "tableFrom": "system_events_2025_12",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "system_events_2025_12_pkey": {
          "name": "system_events_2025_12_pkey",
          "columns": [
            "id",
            "occurred_at"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.system_events_2026_01": {
      "name": "system_events_2026_01",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "event_category": {
          "name": "event_category",
          "type": "event_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "severity": {
          "name": "severity",
          "type": "event_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'info'"
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_id": {
          "name": "request_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "api_endpoint": {
          "name": "api_endpoint",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "http_method": {
          "name": "http_method",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "system_events_2026_01_entity_type_entity_id_occurred_at_idx": {
          "name": "system_events_2026_01_entity_type_entity_id_occurred_at_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(entity_type IS NOT NULL)",
          "with": {}
        },
        "system_events_2026_01_event_category_occurred_at_idx": {
          "name": "system_events_2026_01_event_category_occurred_at_idx",
          "columns": [
            {
              "expression": "event_category",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "system_events_2026_01_event_type_occurred_at_idx": {
          "name": "system_events_2026_01_event_type_occurred_at_idx",
          "columns": [
            {
              "expression": "event_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "system_events_2026_01_severity_occurred_at_idx": {
          "name": "system_events_2026_01_severity_occurred_at_idx",
          "columns": [
            {
              "expression": "severity",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(severity = ANY (ARRAY['warning'::event_severity, 'error'::event_severity, 'critical'::event_severity]))",
          "with": {}
        },
        "system_events_2026_01_user_id_occurred_at_idx": {
          "name": "system_events_2026_01_user_id_occurred_at_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "system_events_org_id_fkey": {
          "name": "system_events_org_id_fkey",
          "tableFrom": "system_events_2026_01",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "system_events_user_id_fkey": {
          "name": "system_events_user_id_fkey",
          "tableFrom": "system_events_2026_01",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "system_events_2026_01_pkey": {
          "name": "system_events_2026_01_pkey",
          "columns": [
            "id",
            "occurred_at"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.system_events_2026_02": {
      "name": "system_events_2026_02",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "event_category": {
          "name": "event_category",
          "type": "event_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "severity": {
          "name": "severity",
          "type": "event_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'info'"
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_id": {
          "name": "request_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "api_endpoint": {
          "name": "api_endpoint",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "http_method": {
          "name": "http_method",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "system_events_2026_02_entity_type_entity_id_occurred_at_idx": {
          "name": "system_events_2026_02_entity_type_entity_id_occurred_at_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(entity_type IS NOT NULL)",
          "with": {}
        },
        "system_events_2026_02_event_category_occurred_at_idx": {
          "name": "system_events_2026_02_event_category_occurred_at_idx",
          "columns": [
            {
              "expression": "event_category",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "system_events_2026_02_event_type_occurred_at_idx": {
          "name": "system_events_2026_02_event_type_occurred_at_idx",
          "columns": [
            {
              "expression": "event_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "system_events_2026_02_severity_occurred_at_idx": {
          "name": "system_events_2026_02_severity_occurred_at_idx",
          "columns": [
            {
              "expression": "severity",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(severity = ANY (ARRAY['warning'::event_severity, 'error'::event_severity, 'critical'::event_severity]))",
          "with": {}
        },
        "system_events_2026_02_user_id_occurred_at_idx": {
          "name": "system_events_2026_02_user_id_occurred_at_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "system_events_org_id_fkey": {
          "name": "system_events_org_id_fkey",
          "tableFrom": "system_events_2026_02",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "system_events_user_id_fkey": {
          "name": "system_events_user_id_fkey",
          "tableFrom": "system_events_2026_02",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "system_events_2026_02_pkey": {
          "name": "system_events_2026_02_pkey",
          "columns": [
            "id",
            "occurred_at"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.system_events_2026_03": {
      "name": "system_events_2026_03",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "event_category": {
          "name": "event_category",
          "type": "event_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "severity": {
          "name": "severity",
          "type": "event_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'info'"
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_id": {
          "name": "request_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "api_endpoint": {
          "name": "api_endpoint",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "http_method": {
          "name": "http_method",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "system_events_2026_03_entity_type_entity_id_occurred_at_idx": {
          "name": "system_events_2026_03_entity_type_entity_id_occurred_at_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(entity_type IS NOT NULL)",
          "with": {}
        },
        "system_events_2026_03_event_category_occurred_at_idx": {
          "name": "system_events_2026_03_event_category_occurred_at_idx",
          "columns": [
            {
              "expression": "event_category",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "system_events_2026_03_event_type_occurred_at_idx": {
          "name": "system_events_2026_03_event_type_occurred_at_idx",
          "columns": [
            {
              "expression": "event_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "system_events_2026_03_severity_occurred_at_idx": {
          "name": "system_events_2026_03_severity_occurred_at_idx",
          "columns": [
            {
              "expression": "severity",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(severity = ANY (ARRAY['warning'::event_severity, 'error'::event_severity, 'critical'::event_severity]))",
          "with": {}
        },
        "system_events_2026_03_user_id_occurred_at_idx": {
          "name": "system_events_2026_03_user_id_occurred_at_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "occurred_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "system_events_org_id_fkey": {
          "name": "system_events_org_id_fkey",
          "tableFrom": "system_events_2026_03",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "system_events_user_id_fkey": {
          "name": "system_events_user_id_fkey",
          "tableFrom": "system_events_2026_03",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "system_events_2026_03_pkey": {
          "name": "system_events_2026_03_pkey",
          "columns": [
            "id",
            "occurred_at"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.audit_log_2026_02": {
      "name": "audit_log_2026_02",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "operation": {
          "name": "operation",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "changes": {
          "name": "changes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "change_count": {
          "name": "change_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "contains_pii": {
          "name": "contains_pii",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "pii_fields": {
          "name": "pii_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_masked": {
          "name": "is_masked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "request_id": {
          "name": "request_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "performed_by": {
          "name": "performed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "performed_at": {
          "name": "performed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "impersonated_by": {
          "name": "impersonated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "retention_until": {
          "name": "retention_until",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "audit_log_2026_02_contains_pii_is_masked_idx": {
          "name": "audit_log_2026_02_contains_pii_is_masked_idx",
          "columns": [
            {
              "expression": "contains_pii",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_masked",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contains_pii = true)",
          "with": {}
        },
        "audit_log_2026_02_entity_type_entity_id_performed_at_idx": {
          "name": "audit_log_2026_02_entity_type_entity_id_performed_at_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "performed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_log_2026_02_org_id_performed_at_idx": {
          "name": "audit_log_2026_02_org_id_performed_at_idx",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "performed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_log_2026_02_performed_by_performed_at_idx": {
          "name": "audit_log_2026_02_performed_by_performed_at_idx",
          "columns": [
            {
              "expression": "performed_by",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "performed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_log_2026_02_retention_until_idx": {
          "name": "audit_log_2026_02_retention_until_idx",
          "columns": [
            {
              "expression": "retention_until",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(retention_until IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "audit_log_impersonated_by_fkey": {
          "name": "audit_log_impersonated_by_fkey",
          "tableFrom": "audit_log_2026_02",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "impersonated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_log_org_id_fkey": {
          "name": "audit_log_org_id_fkey",
          "tableFrom": "audit_log_2026_02",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_log_performed_by_fkey": {
          "name": "audit_log_performed_by_fkey",
          "tableFrom": "audit_log_2026_02",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "performed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "audit_log_2026_02_pkey": {
          "name": "audit_log_2026_02_pkey",
          "columns": [
            "id",
            "performed_at"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {
        "audit_log_operation_check": {
          "name": "audit_log_operation_check",
          "value": "(operation)::text = ANY ((ARRAY['create'::character varying, 'update'::character varying, 'delete'::character varying, 'restore'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.audit_log_2026_03": {
      "name": "audit_log_2026_03",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "operation": {
          "name": "operation",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "changes": {
          "name": "changes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "change_count": {
          "name": "change_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "contains_pii": {
          "name": "contains_pii",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "pii_fields": {
          "name": "pii_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_masked": {
          "name": "is_masked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "request_id": {
          "name": "request_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "performed_by": {
          "name": "performed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "performed_at": {
          "name": "performed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "impersonated_by": {
          "name": "impersonated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "retention_until": {
          "name": "retention_until",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "audit_log_2026_03_contains_pii_is_masked_idx": {
          "name": "audit_log_2026_03_contains_pii_is_masked_idx",
          "columns": [
            {
              "expression": "contains_pii",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_masked",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contains_pii = true)",
          "with": {}
        },
        "audit_log_2026_03_entity_type_entity_id_performed_at_idx": {
          "name": "audit_log_2026_03_entity_type_entity_id_performed_at_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "performed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_log_2026_03_org_id_performed_at_idx": {
          "name": "audit_log_2026_03_org_id_performed_at_idx",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "performed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_log_2026_03_performed_by_performed_at_idx": {
          "name": "audit_log_2026_03_performed_by_performed_at_idx",
          "columns": [
            {
              "expression": "performed_by",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "performed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_log_2026_03_retention_until_idx": {
          "name": "audit_log_2026_03_retention_until_idx",
          "columns": [
            {
              "expression": "retention_until",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(retention_until IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "audit_log_impersonated_by_fkey": {
          "name": "audit_log_impersonated_by_fkey",
          "tableFrom": "audit_log_2026_03",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "impersonated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_log_org_id_fkey": {
          "name": "audit_log_org_id_fkey",
          "tableFrom": "audit_log_2026_03",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_log_performed_by_fkey": {
          "name": "audit_log_performed_by_fkey",
          "tableFrom": "audit_log_2026_03",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "performed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "audit_log_2026_03_pkey": {
          "name": "audit_log_2026_03_pkey",
          "columns": [
            "id",
            "performed_at"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {
        "audit_log_operation_check": {
          "name": "audit_log_operation_check",
          "value": "(operation)::text = ANY ((ARRAY['create'::character varying, 'update'::character varying, 'delete'::character varying, 'restore'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.audit_log_2025_12": {
      "name": "audit_log_2025_12",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "operation": {
          "name": "operation",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "changes": {
          "name": "changes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "change_count": {
          "name": "change_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "contains_pii": {
          "name": "contains_pii",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "pii_fields": {
          "name": "pii_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_masked": {
          "name": "is_masked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "request_id": {
          "name": "request_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "performed_by": {
          "name": "performed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "performed_at": {
          "name": "performed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "impersonated_by": {
          "name": "impersonated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "retention_until": {
          "name": "retention_until",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "audit_log_2025_12_contains_pii_is_masked_idx": {
          "name": "audit_log_2025_12_contains_pii_is_masked_idx",
          "columns": [
            {
              "expression": "contains_pii",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_masked",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contains_pii = true)",
          "with": {}
        },
        "audit_log_2025_12_entity_type_entity_id_performed_at_idx": {
          "name": "audit_log_2025_12_entity_type_entity_id_performed_at_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "performed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_log_2025_12_org_id_performed_at_idx": {
          "name": "audit_log_2025_12_org_id_performed_at_idx",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "performed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_log_2025_12_performed_by_performed_at_idx": {
          "name": "audit_log_2025_12_performed_by_performed_at_idx",
          "columns": [
            {
              "expression": "performed_by",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "performed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_log_2025_12_retention_until_idx": {
          "name": "audit_log_2025_12_retention_until_idx",
          "columns": [
            {
              "expression": "retention_until",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(retention_until IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "audit_log_impersonated_by_fkey": {
          "name": "audit_log_impersonated_by_fkey",
          "tableFrom": "audit_log_2025_12",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "impersonated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_log_org_id_fkey": {
          "name": "audit_log_org_id_fkey",
          "tableFrom": "audit_log_2025_12",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_log_performed_by_fkey": {
          "name": "audit_log_performed_by_fkey",
          "tableFrom": "audit_log_2025_12",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "performed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "audit_log_2025_12_pkey": {
          "name": "audit_log_2025_12_pkey",
          "columns": [
            "id",
            "performed_at"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {
        "audit_log_operation_check": {
          "name": "audit_log_operation_check",
          "value": "(operation)::text = ANY ((ARRAY['create'::character varying, 'update'::character varying, 'delete'::character varying, 'restore'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.audit_log_2026_01": {
      "name": "audit_log_2026_01",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "operation": {
          "name": "operation",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "changes": {
          "name": "changes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "change_count": {
          "name": "change_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "contains_pii": {
          "name": "contains_pii",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "pii_fields": {
          "name": "pii_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_masked": {
          "name": "is_masked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "request_id": {
          "name": "request_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "performed_by": {
          "name": "performed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "performed_at": {
          "name": "performed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "impersonated_by": {
          "name": "impersonated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "retention_until": {
          "name": "retention_until",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "audit_log_2026_01_contains_pii_is_masked_idx": {
          "name": "audit_log_2026_01_contains_pii_is_masked_idx",
          "columns": [
            {
              "expression": "contains_pii",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "is_masked",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(contains_pii = true)",
          "with": {}
        },
        "audit_log_2026_01_entity_type_entity_id_performed_at_idx": {
          "name": "audit_log_2026_01_entity_type_entity_id_performed_at_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "performed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_log_2026_01_org_id_performed_at_idx": {
          "name": "audit_log_2026_01_org_id_performed_at_idx",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "performed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_log_2026_01_performed_by_performed_at_idx": {
          "name": "audit_log_2026_01_performed_by_performed_at_idx",
          "columns": [
            {
              "expression": "performed_by",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "performed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_log_2026_01_retention_until_idx": {
          "name": "audit_log_2026_01_retention_until_idx",
          "columns": [
            {
              "expression": "retention_until",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(retention_until IS NOT NULL)",
          "with": {}
        }
      },
      "foreignKeys": {
        "audit_log_impersonated_by_fkey": {
          "name": "audit_log_impersonated_by_fkey",
          "tableFrom": "audit_log_2026_01",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "impersonated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_log_org_id_fkey": {
          "name": "audit_log_org_id_fkey",
          "tableFrom": "audit_log_2026_01",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_log_performed_by_fkey": {
          "name": "audit_log_performed_by_fkey",
          "tableFrom": "audit_log_2026_01",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "performed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "audit_log_2026_01_pkey": {
          "name": "audit_log_2026_01_pkey",
          "columns": [
            "id",
            "performed_at"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {
        "audit_log_operation_check": {
          "name": "audit_log_operation_check",
          "value": "(operation)::text = ANY ((ARRAY['create'::character varying, 'update'::character varying, 'delete'::character varying, 'restore'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.entity_history_2026_01": {
      "name": "entity_history_2026_01",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "change_type": {
          "name": "change_type",
          "type": "history_change_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "field_name": {
          "name": "field_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "old_value": {
          "name": "old_value",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "new_value": {
          "name": "new_value",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "old_value_label": {
          "name": "old_value_label",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "new_value_label": {
          "name": "new_value_label",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "related_entity_type": {
          "name": "related_entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "related_entity_id": {
          "name": "related_entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_id": {
          "name": "workflow_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_step_id": {
          "name": "workflow_step_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_automated": {
          "name": "is_automated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "time_in_previous_state": {
          "name": "time_in_previous_state",
          "type": "interval",
          "primaryKey": false,
          "notNull": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "changed_at": {
          "name": "changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "entity_history_2026_01_changed_by_changed_at_idx": {
          "name": "entity_history_2026_01_changed_by_changed_at_idx",
          "columns": [
            {
              "expression": "changed_by",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_history_2026_01_correlation_id_idx": {
          "name": "entity_history_2026_01_correlation_id_idx",
          "columns": [
            {
              "expression": "correlation_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(correlation_id IS NOT NULL)",
          "with": {}
        },
        "entity_history_2026_01_entity_type_entity_id_changed_at_idx": {
          "name": "entity_history_2026_01_entity_type_entity_id_changed_at_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_history_2026_01_entity_type_field_name_changed_at_idx": {
          "name": "entity_history_2026_01_entity_type_field_name_changed_at_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "field_name",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_history_2026_01_org_id_changed_at_idx": {
          "name": "entity_history_2026_01_org_id_changed_at_idx",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "entity_history_changed_by_fkey": {
          "name": "entity_history_changed_by_fkey",
          "tableFrom": "entity_history_2026_01",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "changed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entity_history_org_id_fkey": {
          "name": "entity_history_org_id_fkey",
          "tableFrom": "entity_history_2026_01",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "entity_history_2026_01_pkey": {
          "name": "entity_history_2026_01_pkey",
          "columns": [
            "id",
            "changed_at"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.entity_history_2026_02": {
      "name": "entity_history_2026_02",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "change_type": {
          "name": "change_type",
          "type": "history_change_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "field_name": {
          "name": "field_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "old_value": {
          "name": "old_value",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "new_value": {
          "name": "new_value",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "old_value_label": {
          "name": "old_value_label",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "new_value_label": {
          "name": "new_value_label",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "related_entity_type": {
          "name": "related_entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "related_entity_id": {
          "name": "related_entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_id": {
          "name": "workflow_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_step_id": {
          "name": "workflow_step_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_automated": {
          "name": "is_automated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "time_in_previous_state": {
          "name": "time_in_previous_state",
          "type": "interval",
          "primaryKey": false,
          "notNull": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "changed_at": {
          "name": "changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "entity_history_2026_02_changed_by_changed_at_idx": {
          "name": "entity_history_2026_02_changed_by_changed_at_idx",
          "columns": [
            {
              "expression": "changed_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_history_2026_02_correlation_id_idx": {
          "name": "entity_history_2026_02_correlation_id_idx",
          "columns": [
            {
              "expression": "correlation_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(correlation_id IS NOT NULL)",
          "with": {}
        },
        "entity_history_2026_02_entity_type_entity_id_changed_at_idx": {
          "name": "entity_history_2026_02_entity_type_entity_id_changed_at_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_history_2026_02_entity_type_field_name_changed_at_idx": {
          "name": "entity_history_2026_02_entity_type_field_name_changed_at_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "field_name",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_history_2026_02_org_id_changed_at_idx": {
          "name": "entity_history_2026_02_org_id_changed_at_idx",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "entity_history_changed_by_fkey": {
          "name": "entity_history_changed_by_fkey",
          "tableFrom": "entity_history_2026_02",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "changed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entity_history_org_id_fkey": {
          "name": "entity_history_org_id_fkey",
          "tableFrom": "entity_history_2026_02",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "entity_history_2026_02_pkey": {
          "name": "entity_history_2026_02_pkey",
          "columns": [
            "id",
            "changed_at"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.entity_history_2026_03": {
      "name": "entity_history_2026_03",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "change_type": {
          "name": "change_type",
          "type": "history_change_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "field_name": {
          "name": "field_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "old_value": {
          "name": "old_value",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "new_value": {
          "name": "new_value",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "old_value_label": {
          "name": "old_value_label",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "new_value_label": {
          "name": "new_value_label",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "related_entity_type": {
          "name": "related_entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "related_entity_id": {
          "name": "related_entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_id": {
          "name": "workflow_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_step_id": {
          "name": "workflow_step_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_automated": {
          "name": "is_automated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "time_in_previous_state": {
          "name": "time_in_previous_state",
          "type": "interval",
          "primaryKey": false,
          "notNull": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "changed_at": {
          "name": "changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "entity_history_2026_03_changed_by_changed_at_idx": {
          "name": "entity_history_2026_03_changed_by_changed_at_idx",
          "columns": [
            {
              "expression": "changed_by",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_history_2026_03_correlation_id_idx": {
          "name": "entity_history_2026_03_correlation_id_idx",
          "columns": [
            {
              "expression": "correlation_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(correlation_id IS NOT NULL)",
          "with": {}
        },
        "entity_history_2026_03_entity_type_entity_id_changed_at_idx": {
          "name": "entity_history_2026_03_entity_type_entity_id_changed_at_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_history_2026_03_entity_type_field_name_changed_at_idx": {
          "name": "entity_history_2026_03_entity_type_field_name_changed_at_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "field_name",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_history_2026_03_org_id_changed_at_idx": {
          "name": "entity_history_2026_03_org_id_changed_at_idx",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "entity_history_changed_by_fkey": {
          "name": "entity_history_changed_by_fkey",
          "tableFrom": "entity_history_2026_03",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "changed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entity_history_org_id_fkey": {
          "name": "entity_history_org_id_fkey",
          "tableFrom": "entity_history_2026_03",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "entity_history_2026_03_pkey": {
          "name": "entity_history_2026_03_pkey",
          "columns": [
            "id",
            "changed_at"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.entity_history_2025_12": {
      "name": "entity_history_2025_12",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "change_type": {
          "name": "change_type",
          "type": "history_change_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "field_name": {
          "name": "field_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "old_value": {
          "name": "old_value",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "new_value": {
          "name": "new_value",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "old_value_label": {
          "name": "old_value_label",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "new_value_label": {
          "name": "new_value_label",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "related_entity_type": {
          "name": "related_entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "related_entity_id": {
          "name": "related_entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_id": {
          "name": "workflow_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_step_id": {
          "name": "workflow_step_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_automated": {
          "name": "is_automated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "time_in_previous_state": {
          "name": "time_in_previous_state",
          "type": "interval",
          "primaryKey": false,
          "notNull": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "changed_at": {
          "name": "changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "entity_history_2025_12_changed_by_changed_at_idx": {
          "name": "entity_history_2025_12_changed_by_changed_at_idx",
          "columns": [
            {
              "expression": "changed_by",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_history_2025_12_correlation_id_idx": {
          "name": "entity_history_2025_12_correlation_id_idx",
          "columns": [
            {
              "expression": "correlation_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(correlation_id IS NOT NULL)",
          "with": {}
        },
        "entity_history_2025_12_entity_type_entity_id_changed_at_idx": {
          "name": "entity_history_2025_12_entity_type_entity_id_changed_at_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_history_2025_12_entity_type_field_name_changed_at_idx": {
          "name": "entity_history_2025_12_entity_type_field_name_changed_at_idx",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "field_name",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_history_2025_12_org_id_changed_at_idx": {
          "name": "entity_history_2025_12_org_id_changed_at_idx",
          "columns": [
            {
              "expression": "org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "changed_at",
              "asc": false,
              "nulls": "first",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "entity_history_changed_by_fkey": {
          "name": "entity_history_changed_by_fkey",
          "tableFrom": "entity_history_2025_12",
          "tableTo": "user_profiles",
          "schemaTo": "public",
          "columnsFrom": [
            "changed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entity_history_org_id_fkey": {
          "name": "entity_history_org_id_fkey",
          "tableFrom": "entity_history_2025_12",
          "tableTo": "organizations",
          "schemaTo": "public",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "entity_history_2025_12_pkey": {
          "name": "entity_history_2025_12_pkey",
          "columns": [
            "id",
            "changed_at"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.activity_direction": {
      "name": "activity_direction",
      "values": [
        "inbound",
        "outbound"
      ],
      "schema": "public"
    },
    "public.activity_outcome": {
      "name": "activity_outcome",
      "values": [
        "positive",
        "neutral",
        "negative"
      ],
      "schema": "public"
    },
    "public.activity_priority": {
      "name": "activity_priority",
      "values": [
        "low",
        "medium",
        "high",
        "urgent"
      ],
      "schema": "public"
    },
    "public.activity_status": {
      "name": "activity_status",
      "values": [
        "scheduled",
        "open",
        "in_progress",
        "completed",
        "skipped",
        "cancelled"
      ],
      "schema": "public"
    },
    "public.activity_type_enum": {
      "name": "activity_type_enum",
      "values": [
        "email",
        "call",
        "meeting",
        "note",
        "linkedin_message",
        "task",
        "follow_up",
        "reminder"
      ],
      "schema": "public"
    },
    "public.approval_status": {
      "name": "approval_status",
      "values": [
        "pending",
        "approved",
        "rejected",
        "delegated",
        "escalated"
      ],
      "schema": "public"
    },
    "public.bench_marketing_status": {
      "name": "bench_marketing_status",
      "values": [
        "draft",
        "active",
        "paused",
        "archived"
      ],
      "schema": "public"
    },
    "public.bench_status": {
      "name": "bench_status",
      "values": [
        "onboarding",
        "available",
        "marketing",
        "interviewing",
        "placed",
        "inactive"
      ],
      "schema": "public"
    },
    "public.bench_type": {
      "name": "bench_type",
      "values": [
        "w2_internal",
        "w2_vendor",
        "1099",
        "c2c"
      ],
      "schema": "public"
    },
    "public.benefit_status": {
      "name": "benefit_status",
      "values": [
        "pending",
        "active",
        "terminated"
      ],
      "schema": "public"
    },
    "public.benefit_type": {
      "name": "benefit_type",
      "values": [
        "health",
        "dental",
        "vision",
        "401k",
        "life",
        "disability",
        "hsa",
        "fsa"
      ],
      "schema": "public"
    },
    "public.company_category": {
      "name": "company_category",
      "values": [
        "client",
        "vendor",
        "partner",
        "prospect"
      ],
      "schema": "public"
    },
    "public.company_note_type": {
      "name": "company_note_type",
      "values": [
        "general",
        "meeting",
        "call",
        "strategy",
        "warning",
        "opportunity",
        "competitive_intel"
      ],
      "schema": "public"
    },
    "public.company_relationship_category": {
      "name": "company_relationship_category",
      "values": [
        "parent_child",
        "msp_client",
        "prime_sub",
        "referral_partner",
        "competitor",
        "affiliate",
        "merger_acquisition"
      ],
      "schema": "public"
    },
    "public.company_relationship_type": {
      "name": "company_relationship_type",
      "values": [
        "direct_client",
        "msp_client",
        "prime_vendor",
        "sub_vendor",
        "implementation_partner",
        "referral_partner",
        "competitor"
      ],
      "schema": "public"
    },
    "public.company_segment": {
      "name": "company_segment",
      "values": [
        "enterprise",
        "mid_market",
        "smb",
        "startup"
      ],
      "schema": "public"
    },
    "public.company_status": {
      "name": "company_status",
      "values": [
        "active",
        "inactive",
        "on_hold",
        "churned",
        "do_not_use",
        "pending_approval"
      ],
      "schema": "public"
    },
    "public.company_team_role": {
      "name": "company_team_role",
      "values": [
        "owner",
        "account_manager",
        "recruiter",
        "sales",
        "coordinator",
        "executive_sponsor",
        "viewer"
      ],
      "schema": "public"
    },
    "public.company_tier": {
      "name": "company_tier",
      "values": [
        "strategic",
        "preferred",
        "standard",
        "transactional"
      ],
      "schema": "public"
    },
    "public.company_vendor_type": {
      "name": "company_vendor_type",
      "values": [
        "direct_client",
        "prime_vendor",
        "sub_vendor",
        "msp",
        "vms_provider",
        "talent_supplier",
        "referral_source"
      ],
      "schema": "public"
    },
    "public.compliance_applies_to": {
      "name": "compliance_applies_to",
      "values": [
        "all",
        "fte",
        "contractor"
      ],
      "schema": "public"
    },
    "public.compliance_frequency": {
      "name": "compliance_frequency",
      "values": [
        "once",
        "annual",
        "quarterly",
        "monthly"
      ],
      "schema": "public"
    },
    "public.compliance_item_status": {
      "name": "compliance_item_status",
      "values": [
        "pending",
        "received",
        "under_review",
        "verified",
        "expiring",
        "expired",
        "rejected",
        "waived"
      ],
      "schema": "public"
    },
    "public.compliance_priority": {
      "name": "compliance_priority",
      "values": [
        "critical",
        "high",
        "medium",
        "low"
      ],
      "schema": "public"
    },
    "public.compliance_status": {
      "name": "compliance_status",
      "values": [
        "pending",
        "completed",
        "overdue",
        "exempt"
      ],
      "schema": "public"
    },
    "public.compliance_type": {
      "name": "compliance_type",
      "values": [
        "federal",
        "state",
        "local"
      ],
      "schema": "public"
    },
    "public.contact_decision_authority": {
      "name": "contact_decision_authority",
      "values": [
        "decision_maker",
        "influencer",
        "champion",
        "gatekeeper",
        "end_user",
        "budget_holder",
        "technical_evaluator",
        "procurement"
      ],
      "schema": "public"
    },
    "public.contract_status": {
      "name": "contract_status",
      "values": [
        "draft",
        "in_review",
        "pending_signature",
        "active",
        "expired",
        "terminated",
        "superseded"
      ],
      "schema": "public"
    },
    "public.contract_type": {
      "name": "contract_type",
      "values": [
        "msa",
        "sow",
        "nda",
        "amendment",
        "addendum",
        "rate_agreement",
        "referral_agreement",
        "subcontract",
        "other"
      ],
      "schema": "public"
    },
    "public.coverage_level": {
      "name": "coverage_level",
      "values": [
        "employee",
        "employee_spouse",
        "employee_children",
        "family"
      ],
      "schema": "public"
    },
    "public.document_status": {
      "name": "document_status",
      "values": [
        "pending",
        "approved",
        "expired",
        "rejected"
      ],
      "schema": "public"
    },
    "public.document_type": {
      "name": "document_type",
      "values": [
        "offer_letter",
        "contract",
        "i9",
        "w4",
        "tax_form",
        "nda",
        "handbook_ack",
        "performance_review",
        "termination",
        "other"
      ],
      "schema": "public"
    },
    "public.employment_status": {
      "name": "employment_status",
      "values": [
        "onboarding",
        "active",
        "on_leave",
        "terminated"
      ],
      "schema": "public"
    },
    "public.employment_type": {
      "name": "employment_type",
      "values": [
        "fte",
        "contractor",
        "intern",
        "part_time"
      ],
      "schema": "public"
    },
    "public.enrollment_status": {
      "name": "enrollment_status",
      "values": [
        "pending",
        "active",
        "completed",
        "dropped",
        "expired"
      ],
      "schema": "public"
    },
    "public.event_category": {
      "name": "event_category",
      "values": [
        "security",
        "data",
        "system",
        "integration",
        "workflow"
      ],
      "schema": "public"
    },
    "public.event_severity": {
      "name": "event_severity",
      "values": [
        "debug",
        "info",
        "warning",
        "error",
        "critical"
      ],
      "schema": "public"
    },
    "public.feedback_type": {
      "name": "feedback_type",
      "values": [
        "strength",
        "improvement",
        "comment"
      ],
      "schema": "public"
    },
    "public.goal_status": {
      "name": "goal_status",
      "values": [
        "not_started",
        "in_progress",
        "completed",
        "cancelled"
      ],
      "schema": "public"
    },
    "public.graduate_candidate_status": {
      "name": "graduate_candidate_status",
      "values": [
        "pending_review",
        "bench_candidate",
        "placed",
        "opted_out",
        "not_qualified"
      ],
      "schema": "public"
    },
    "public.history_change_type": {
      "name": "history_change_type",
      "values": [
        "status_change",
        "stage_change",
        "owner_change",
        "assignment_change",
        "score_change",
        "priority_change",
        "category_change",
        "workflow_step",
        "custom"
      ],
      "schema": "public"
    },
    "public.i9_status": {
      "name": "i9_status",
      "values": [
        "pending",
        "section1_complete",
        "completed",
        "expired"
      ],
      "schema": "public"
    },
    "public.immigration_case_status": {
      "name": "immigration_case_status",
      "values": [
        "not_started",
        "in_progress",
        "rfe",
        "approved",
        "denied",
        "withdrawn"
      ],
      "schema": "public"
    },
    "public.immigration_case_type": {
      "name": "immigration_case_type",
      "values": [
        "h1b_transfer",
        "h1b_extension",
        "h1b_amendment",
        "gc_perm",
        "gc_i140",
        "gc_i485",
        "opt_extension",
        "tn_renewal",
        "l1_extension"
      ],
      "schema": "public"
    },
    "public.invoice_status": {
      "name": "invoice_status",
      "values": [
        "draft",
        "pending_approval",
        "approved",
        "sent",
        "viewed",
        "partially_paid",
        "paid",
        "overdue",
        "disputed",
        "void",
        "written_off"
      ],
      "schema": "public"
    },
    "public.invoice_type": {
      "name": "invoice_type",
      "values": [
        "standard",
        "fixed_fee",
        "retainer",
        "milestone",
        "credit_note",
        "final"
      ],
      "schema": "public"
    },
    "public.job_order_priority": {
      "name": "job_order_priority",
      "values": [
        "low",
        "medium",
        "high",
        "urgent"
      ],
      "schema": "public"
    },
    "public.job_order_source": {
      "name": "job_order_source",
      "values": [
        "email",
        "portal",
        "call",
        "referral"
      ],
      "schema": "public"
    },
    "public.job_order_status": {
      "name": "job_order_status",
      "values": [
        "new",
        "working",
        "filled",
        "closed",
        "on_hold"
      ],
      "schema": "public"
    },
    "public.leaderboard_scope": {
      "name": "leaderboard_scope",
      "values": [
        "org",
        "department",
        "course"
      ],
      "schema": "public"
    },
    "public.leaderboard_type": {
      "name": "leaderboard_type",
      "values": [
        "weekly",
        "monthly",
        "all_time"
      ],
      "schema": "public"
    },
    "public.marketing_status": {
      "name": "marketing_status",
      "values": [
        "draft",
        "active",
        "paused",
        "archived"
      ],
      "schema": "public"
    },
    "public.metric_period_type": {
      "name": "metric_period_type",
      "values": [
        "daily",
        "weekly",
        "monthly",
        "quarterly",
        "yearly"
      ],
      "schema": "public"
    },
    "public.note_type": {
      "name": "note_type",
      "values": [
        "general",
        "meeting",
        "call",
        "strategy",
        "warning",
        "opportunity",
        "competitive_intel",
        "internal"
      ],
      "schema": "public"
    },
    "public.note_visibility": {
      "name": "note_visibility",
      "values": [
        "private",
        "team",
        "organization"
      ],
      "schema": "public"
    },
    "public.onboarding_status": {
      "name": "onboarding_status",
      "values": [
        "not_started",
        "in_progress",
        "completed",
        "cancelled"
      ],
      "schema": "public"
    },
    "public.organization_tier": {
      "name": "organization_tier",
      "values": [
        "starter",
        "growth",
        "enterprise"
      ],
      "schema": "public"
    },
    "public.path_status": {
      "name": "path_status",
      "values": [
        "draft",
        "published",
        "archived"
      ],
      "schema": "public"
    },
    "public.pay_period_status": {
      "name": "pay_period_status",
      "values": [
        "upcoming",
        "active",
        "processing",
        "completed",
        "void"
      ],
      "schema": "public"
    },
    "public.pay_run_status": {
      "name": "pay_run_status",
      "values": [
        "draft",
        "calculating",
        "pending_approval",
        "approved",
        "submitted",
        "processing",
        "completed",
        "void"
      ],
      "schema": "public"
    },
    "public.pay_run_type": {
      "name": "pay_run_type",
      "values": [
        "regular",
        "off_cycle",
        "bonus",
        "final",
        "correction"
      ],
      "schema": "public"
    },
    "public.pay_type": {
      "name": "pay_type",
      "values": [
        "w2",
        "1099",
        "corp_to_corp"
      ],
      "schema": "public"
    },
    "public.performance_goal_category": {
      "name": "performance_goal_category",
      "values": [
        "business",
        "development",
        "behavioral"
      ],
      "schema": "public"
    },
    "public.pod_member_role": {
      "name": "pod_member_role",
      "values": [
        "senior",
        "junior"
      ],
      "schema": "public"
    },
    "public.rate_card_status": {
      "name": "rate_card_status",
      "values": [
        "draft",
        "pending_approval",
        "active",
        "expired",
        "superseded"
      ],
      "schema": "public"
    },
    "public.rate_card_type": {
      "name": "rate_card_type",
      "values": [
        "standard",
        "msp",
        "vms",
        "preferred",
        "custom"
      ],
      "schema": "public"
    },
    "public.rate_unit": {
      "name": "rate_unit",
      "values": [
        "hourly",
        "daily",
        "weekly",
        "monthly",
        "annual",
        "fixed",
        "retainer",
        "project"
      ],
      "schema": "public"
    },
    "public.relationship": {
      "name": "relationship",
      "values": [
        "spouse",
        "child",
        "domestic_partner",
        "other"
      ],
      "schema": "public"
    },
    "public.salary_type": {
      "name": "salary_type",
      "values": [
        "hourly",
        "annual"
      ],
      "schema": "public"
    },
    "public.signatory_status": {
      "name": "signatory_status",
      "values": [
        "pending",
        "viewed",
        "signed",
        "declined",
        "expired"
      ],
      "schema": "public"
    },
    "public.skill_category": {
      "name": "skill_category",
      "values": [
        "programming_language",
        "framework",
        "library",
        "tool",
        "platform",
        "database",
        "cloud",
        "methodology",
        "soft_skill",
        "domain",
        "certification_skill"
      ],
      "schema": "public"
    },
    "public.skill_domain": {
      "name": "skill_domain",
      "values": [
        "technology",
        "business",
        "creative",
        "healthcare",
        "finance",
        "legal",
        "general"
      ],
      "schema": "public"
    },
    "public.skill_level": {
      "name": "skill_level",
      "values": [
        "beginner",
        "intermediate",
        "advanced"
      ],
      "schema": "public"
    },
    "public.streak_type_enum": {
      "name": "streak_type_enum",
      "values": [
        "daily_login",
        "daily_learning",
        "weekly_completion"
      ],
      "schema": "public"
    },
    "public.task_category": {
      "name": "task_category",
      "values": [
        "paperwork",
        "it_setup",
        "training",
        "orientation",
        "other"
      ],
      "schema": "public"
    },
    "public.task_status": {
      "name": "task_status",
      "values": [
        "pending",
        "completed",
        "skipped"
      ],
      "schema": "public"
    },
    "public.time_off_status": {
      "name": "time_off_status",
      "values": [
        "pending",
        "approved",
        "denied",
        "cancelled"
      ],
      "schema": "public"
    },
    "public.time_off_type": {
      "name": "time_off_type",
      "values": [
        "pto",
        "sick",
        "personal",
        "bereavement",
        "jury_duty",
        "parental",
        "unpaid"
      ],
      "schema": "public"
    },
    "public.timesheet_period_type": {
      "name": "timesheet_period_type",
      "values": [
        "weekly",
        "bi_weekly",
        "semi_monthly",
        "monthly"
      ],
      "schema": "public"
    },
    "public.timesheet_status": {
      "name": "timesheet_status",
      "values": [
        "draft",
        "submitted",
        "pending_client_approval",
        "client_approved",
        "client_rejected",
        "pending_internal_approval",
        "internal_approved",
        "internal_rejected",
        "approved",
        "processed",
        "void"
      ],
      "schema": "public"
    },
    "public.vendor_tier": {
      "name": "vendor_tier",
      "values": [
        "preferred",
        "standard",
        "new"
      ],
      "schema": "public"
    },
    "public.vendor_type": {
      "name": "vendor_type",
      "values": [
        "direct_client",
        "prime_vendor",
        "sub_vendor",
        "msp",
        "vms"
      ],
      "schema": "public"
    },
    "public.verification_method": {
      "name": "verification_method",
      "values": [
        "self_reported",
        "assessment",
        "endorsement",
        "certification",
        "interview",
        "resume_parsed"
      ],
      "schema": "public"
    },
    "public.visa_alert_level": {
      "name": "visa_alert_level",
      "values": [
        "green",
        "yellow",
        "orange",
        "red",
        "black"
      ],
      "schema": "public"
    },
    "public.visa_type": {
      "name": "visa_type",
      "values": [
        "usc",
        "green_card",
        "gc_ead",
        "h1b",
        "h1b_transfer",
        "h4_ead",
        "l1a",
        "l1b",
        "l2_ead",
        "opt",
        "opt_stem",
        "cpt",
        "tn",
        "e3",
        "o1",
        "canada_citizen",
        "canada_pr",
        "canada_owp",
        "canada_cwp",
        "canada_pgwp",
        "canada_lmia"
      ],
      "schema": "public"
    },
    "public.work_mode": {
      "name": "work_mode",
      "values": [
        "on_site",
        "remote",
        "hybrid"
      ],
      "schema": "public"
    },
    "public.worker_type": {
      "name": "worker_type",
      "values": [
        "employee",
        "consultant",
        "contractor"
      ],
      "schema": "public"
    }
  },
  "schemas": {},
  "sequences": {
    "public.escalation_number_seq": {
      "name": "escalation_number_seq",
      "schema": "public",
      "startWith": "1000",
      "minValue": "1",
      "maxValue": "9223372036854775807",
      "increment": "1",
      "cycle": false,
      "cache": "1"
    },
    "public.activity_number_seq": {
      "name": "activity_number_seq",
      "schema": "public",
      "startWith": "1",
      "minValue": "1",
      "maxValue": "9223372036854775807",
      "increment": "1",
      "cycle": false,
      "cache": "1"
    },
    "public.audit_logs_event_id_seq": {
      "name": "audit_logs_event_id_seq",
      "schema": "public",
      "startWith": "1",
      "minValue": "1",
      "maxValue": "9223372036854775807",
      "increment": "1",
      "cycle": false,
      "cache": "1"
    }
  },
  "roles": {},
  "policies": {},
  "views": {
    "public.revenue_analytics": {
      "name": "revenue_analytics",
      "schema": "public",
      "columns": {
        "month": {
          "name": "month",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "mrr": {
          "name": "mrr",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "total_revenue": {
          "name": "total_revenue",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "one_time_revenue": {
          "name": "one_time_revenue",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "total_enrollments": {
          "name": "total_enrollments",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "active_subscriptions": {
          "name": "active_subscriptions",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "new_subscriptions": {
          "name": "new_subscriptions",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "churned_subscriptions": {
          "name": "churned_subscriptions",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "successful_payments": {
          "name": "successful_payments",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "failed_payments": {
          "name": "failed_payments",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "refunded_payments": {
          "name": "refunded_payments",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "refund_amount": {
          "name": "refund_amount",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_revenue_per_enrollment": {
          "name": "avg_revenue_per_enrollment",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "unique_paying_students": {
          "name": "unique_paying_students",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT date_trunc('month'::text, pt.created_at) AS month, sum( CASE WHEN pt.status = 'succeeded'::text AND se.payment_type = 'subscription'::text THEN pt.amount ELSE 0::numeric END) AS mrr, sum( CASE WHEN pt.status = 'succeeded'::text THEN pt.amount ELSE 0::numeric END) AS total_revenue, sum( CASE WHEN pt.status = 'succeeded'::text AND se.payment_type = 'one_time'::text THEN pt.amount ELSE 0::numeric END) AS one_time_revenue, count(DISTINCT se.id) AS total_enrollments, count(DISTINCT CASE WHEN se.status = 'active'::text AND se.payment_type = 'subscription'::text THEN se.id ELSE NULL::uuid END) AS active_subscriptions, count(DISTINCT CASE WHEN se.payment_type = 'subscription'::text AND date_trunc('month'::text, se.enrolled_at) = date_trunc('month'::text, pt.created_at) THEN se.id ELSE NULL::uuid END) AS new_subscriptions, count(DISTINCT CASE WHEN (se.status = ANY (ARRAY['dropped'::text, 'expired'::text])) AND se.payment_type = 'subscription'::text AND date_trunc('month'::text, se.updated_at) = date_trunc('month'::text, pt.created_at) THEN se.id ELSE NULL::uuid END) AS churned_subscriptions, count( CASE WHEN pt.status = 'succeeded'::text THEN 1 ELSE NULL::integer END) AS successful_payments, count( CASE WHEN pt.status = 'failed'::text THEN 1 ELSE NULL::integer END) AS failed_payments, count( CASE WHEN pt.status = 'refunded'::text THEN 1 ELSE NULL::integer END) AS refunded_payments, sum( CASE WHEN pt.status = 'refunded'::text THEN pt.amount ELSE 0::numeric END) AS refund_amount, avg( CASE WHEN pt.status = 'succeeded'::text THEN pt.amount ELSE NULL::numeric END) AS avg_revenue_per_enrollment, count(DISTINCT pt.user_id) AS unique_paying_students FROM payment_transactions pt JOIN student_enrollments se ON se.id = pt.enrollment_id GROUP BY (date_trunc('month'::text, pt.created_at))",
      "materialized": true
    },
    "public.course_revenue_analytics": {
      "name": "course_revenue_analytics",
      "schema": "public",
      "columns": {
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "course_title": {
          "name": "course_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "course_slug": {
          "name": "course_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_revenue": {
          "name": "total_revenue",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "total_enrollments": {
          "name": "total_enrollments",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "active_enrollments": {
          "name": "active_enrollments",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "completed_enrollments": {
          "name": "completed_enrollments",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_revenue_per_enrollment": {
          "name": "avg_revenue_per_enrollment",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "completion_rate_percent": {
          "name": "completion_rate_percent",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "first_enrollment_at": {
          "name": "first_enrollment_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_enrollment_at": {
          "name": "last_enrollment_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT c.id AS course_id, c.title AS course_title, c.slug AS course_slug, sum( CASE WHEN pt.status = 'succeeded'::text THEN pt.amount ELSE 0::numeric END) AS total_revenue, count(DISTINCT se.id) AS total_enrollments, count(DISTINCT CASE WHEN se.status = 'active'::text THEN se.id ELSE NULL::uuid END) AS active_enrollments, count(DISTINCT CASE WHEN se.status = 'completed'::text THEN se.id ELSE NULL::uuid END) AS completed_enrollments, avg( CASE WHEN pt.status = 'succeeded'::text THEN pt.amount ELSE NULL::numeric END) AS avg_revenue_per_enrollment, round(count(DISTINCT CASE WHEN se.status = 'completed'::text THEN se.id ELSE NULL::uuid END)::numeric / NULLIF(count(DISTINCT se.id), 0)::numeric * 100::numeric, 2) AS completion_rate_percent, min(se.enrolled_at) AS first_enrollment_at, max(se.enrolled_at) AS last_enrollment_at FROM courses c LEFT JOIN student_enrollments se ON se.course_id = c.id LEFT JOIN payment_transactions pt ON pt.enrollment_id = se.id WHERE c.deleted_at IS NULL GROUP BY c.id, c.title, c.slug",
      "materialized": true
    },
    "public.user_xp_totals": {
      "name": "user_xp_totals",
      "schema": "public",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "total_xp": {
          "name": "total_xp",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "transaction_count": {
          "name": "transaction_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "last_xp_earned_at": {
          "name": "last_xp_earned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "leaderboard_rank": {
          "name": "leaderboard_rank",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT user_id, sum(amount) AS total_xp, count(*) AS transaction_count, max(awarded_at) AS last_xp_earned_at, rank() OVER (ORDER BY (sum(amount)) DESC) AS leaderboard_rank FROM xp_transactions GROUP BY user_id",
      "materialized": true
    },
    "public.student_ltv_analytics": {
      "name": "student_ltv_analytics",
      "schema": "public",
      "columns": {
        "student_id": {
          "name": "student_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "student_name": {
          "name": "student_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "student_email": {
          "name": "student_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lifetime_revenue": {
          "name": "lifetime_revenue",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "total_enrollments": {
          "name": "total_enrollments",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "active_subscriptions": {
          "name": "active_subscriptions",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_revenue_per_enrollment": {
          "name": "avg_revenue_per_enrollment",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "first_purchase_at": {
          "name": "first_purchase_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_purchase_at": {
          "name": "last_purchase_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "months_as_customer": {
          "name": "months_as_customer",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT up.id AS student_id, up.full_name AS student_name, up.email AS student_email, sum( CASE WHEN pt.status = 'succeeded'::text THEN pt.amount ELSE 0::numeric END) AS lifetime_revenue, count(DISTINCT se.id) AS total_enrollments, count(DISTINCT CASE WHEN se.status = 'active'::text AND se.payment_type = 'subscription'::text THEN se.id ELSE NULL::uuid END) AS active_subscriptions, avg( CASE WHEN pt.status = 'succeeded'::text THEN pt.amount ELSE NULL::numeric END) AS avg_revenue_per_enrollment, min(pt.created_at) AS first_purchase_at, max(pt.created_at) AS last_purchase_at, EXTRACT(epoch FROM max(pt.created_at) - min(pt.created_at)) / (30 * 24 * 60 * 60)::numeric AS months_as_customer FROM user_profiles up JOIN payment_transactions pt ON pt.user_id = up.id JOIN student_enrollments se ON se.id = pt.enrollment_id WHERE pt.status = 'succeeded'::text GROUP BY up.id, up.full_name, up.email",
      "materialized": true
    },
    "public.v_sprint_5_status": {
      "name": "v_sprint_5_status",
      "schema": "public",
      "columns": {
        "table_name": {
          "name": "table_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_records": {
          "name": "total_records",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "unique_orgs": {
          "name": "unique_orgs",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "unique_users": {
          "name": "unique_users",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "placements": {
          "name": "placements",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_quality": {
          "name": "avg_quality",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT 'generated_resumes'::text AS table_name, count(*) AS total_records, count(DISTINCT generated_resumes.org_id) AS unique_orgs, count(DISTINCT generated_resumes.user_id) AS unique_users, count(*) FILTER (WHERE generated_resumes.placement_achieved = true) AS placements, round(avg(generated_resumes.quality_score), 2) AS avg_quality FROM generated_resumes UNION ALL SELECT 'candidate_embeddings'::text AS table_name, count(*) AS total_records, count(DISTINCT candidate_embeddings.org_id) AS unique_orgs, count(DISTINCT candidate_embeddings.candidate_id) AS unique_users, NULL::bigint AS placements, NULL::numeric AS avg_quality FROM candidate_embeddings UNION ALL SELECT 'requisition_embeddings'::text AS table_name, count(*) AS total_records, count(DISTINCT requisition_embeddings.org_id) AS unique_orgs, count(DISTINCT requisition_embeddings.requisition_id) AS unique_users, NULL::bigint AS placements, NULL::numeric AS avg_quality FROM requisition_embeddings UNION ALL SELECT 'resume_matches'::text AS table_name, count(*) AS total_records, count(DISTINCT resume_matches.org_id) AS unique_orgs, count(DISTINCT resume_matches.candidate_id) AS unique_users, count(*) FILTER (WHERE resume_matches.placement_achieved = true) AS placements, round(avg(resume_matches.match_score), 2) AS avg_quality FROM resume_matches",
      "materialized": false
    },
    "public.discount_effectiveness_analytics": {
      "name": "discount_effectiveness_analytics",
      "schema": "public",
      "columns": {
        "discount_code_id": {
          "name": "discount_code_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "discount_code": {
          "name": "discount_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "discount_name": {
          "name": "discount_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "discount_type": {
          "name": "discount_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "discount_value": {
          "name": "discount_value",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_uses": {
          "name": "total_uses",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "max_uses_limit": {
          "name": "max_uses_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_original_amount": {
          "name": "total_original_amount",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "total_discount_given": {
          "name": "total_discount_given",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "total_revenue_generated": {
          "name": "total_revenue_generated",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_discount_per_use": {
          "name": "avg_discount_per_use",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "roi_ratio": {
          "name": "roi_ratio",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "first_used_at": {
          "name": "first_used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT dc.id AS discount_code_id, dc.code AS discount_code, dc.name AS discount_name, dc.discount_type, dc.discount_value, count(dcu.id) AS total_uses, dc.max_uses AS max_uses_limit, sum(dcu.original_amount) AS total_original_amount, sum(dcu.discount_amount) AS total_discount_given, sum(dcu.final_amount) AS total_revenue_generated, avg(dcu.discount_amount) AS avg_discount_per_use, round(sum(dcu.final_amount) / NULLIF(sum(dcu.discount_amount), 0::numeric), 2) AS roi_ratio, min(dcu.used_at) AS first_used_at, max(dcu.used_at) AS last_used_at, dc.is_active, dc.valid_from, dc.valid_until FROM discount_codes dc LEFT JOIN discount_code_usage dcu ON dcu.discount_code_id = dc.id WHERE dc.deleted_at IS NULL GROUP BY dc.id, dc.code, dc.name, dc.discount_type, dc.discount_value, dc.max_uses, dc.is_active, dc.valid_from, dc.valid_until",
      "materialized": true
    },
    "public.module_unlock_requirements": {
      "name": "module_unlock_requirements",
      "schema": "public",
      "columns": {
        "module_id": {
          "name": "module_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "module_title": {
          "name": "module_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "module_number": {
          "name": "module_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "prerequisite_module_ids": {
          "name": "prerequisite_module_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "prerequisite_titles": {
          "name": "prerequisite_titles",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "prerequisite_numbers": {
          "name": "prerequisite_numbers",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT id AS module_id, course_id, title AS module_title, module_number, prerequisite_module_ids, ( SELECT array_agg(cm2.title) AS array_agg FROM course_modules cm2 WHERE cm2.id = ANY (cm.prerequisite_module_ids)) AS prerequisite_titles, ( SELECT array_agg(cm2.module_number) AS array_agg FROM course_modules cm2 WHERE cm2.id = ANY (cm.prerequisite_module_ids)) AS prerequisite_numbers FROM course_modules cm",
      "materialized": false
    },
    "public.topic_unlock_requirements": {
      "name": "topic_unlock_requirements",
      "schema": "public",
      "columns": {
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "module_id": {
          "name": "module_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "topic_title": {
          "name": "topic_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "topic_number": {
          "name": "topic_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "prerequisite_topic_ids": {
          "name": "prerequisite_topic_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "prerequisite_titles": {
          "name": "prerequisite_titles",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "prerequisite_numbers": {
          "name": "prerequisite_numbers",
          "type": "integer[]",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT id AS topic_id, module_id, title AS topic_title, topic_number, prerequisite_topic_ids, ( SELECT array_agg(mt2.title) AS array_agg FROM module_topics mt2 WHERE mt2.id = ANY (mt.prerequisite_topic_ids)) AS prerequisite_titles, ( SELECT array_agg(mt2.topic_number) AS array_agg FROM module_topics mt2 WHERE mt2.id = ANY (mt.prerequisite_topic_ids)) AS prerequisite_numbers FROM module_topics mt",
      "materialized": false
    },
    "public.video_watch_stats": {
      "name": "video_watch_stats",
      "schema": "public",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "topic_title": {
          "name": "topic_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "module_title": {
          "name": "module_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "course_title": {
          "name": "course_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_watch_time_seconds": {
          "name": "total_watch_time_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "completion_percentage": {
          "name": "completion_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "session_count": {
          "name": "session_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_watched_at": {
          "name": "last_watched_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "video_duration_seconds": {
          "name": "video_duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "video_provider": {
          "name": "video_provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "engagement_score": {
          "name": "engagement_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT vp.user_id, vp.topic_id, vp.enrollment_id, mt.title AS topic_title, cm.title AS module_title, c.title AS course_title, vp.total_watch_time_seconds, vp.completion_percentage, vp.session_count, vp.last_watched_at, vp.video_duration_seconds, vp.video_provider, CASE WHEN vp.video_duration_seconds > 0 THEN LEAST(100, vp.total_watch_time_seconds * 100 / vp.video_duration_seconds) ELSE 0 END AS engagement_score FROM video_progress vp JOIN module_topics mt ON mt.id = vp.topic_id JOIN course_modules cm ON cm.id = mt.module_id JOIN courses c ON c.id = cm.course_id",
      "materialized": false
    },
    "public.v_timeline_recent": {
      "name": "v_timeline_recent",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "session_date": {
          "name": "session_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "agent_type": {
          "name": "agent_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "agent_model": {
          "name": "agent_model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_summary": {
          "name": "conversation_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_intent": {
          "name": "user_intent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actions_taken": {
          "name": "actions_taken",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "files_changed": {
          "name": "files_changed",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "decisions": {
          "name": "decisions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "assumptions": {
          "name": "assumptions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "results": {
          "name": "results",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "future_notes": {
          "name": "future_notes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "related_commits": {
          "name": "related_commits",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "related_prs": {
          "name": "related_prs",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "related_docs": {
          "name": "related_docs",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "ai_generated_summary": {
          "name": "ai_generated_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "key_learnings": {
          "name": "key_learnings",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "search_vector": {
          "name": "search_vector",
          "type": "tsvector",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_archived": {
          "name": "is_archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "session_started_at": {
          "name": "session_started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "session_ended_at": {
          "name": "session_ended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "session_branch": {
          "name": "session_branch",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "successfully_completed": {
          "name": "successfully_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT pt.id, pt.session_id, pt.session_date, pt.agent_type, pt.agent_model, pt.duration, pt.conversation_summary, pt.user_intent, pt.actions_taken, pt.files_changed, pt.decisions, pt.assumptions, pt.results, pt.future_notes, pt.related_commits, pt.related_prs, pt.related_docs, pt.tags, pt.ai_generated_summary, pt.key_learnings, pt.search_vector, pt.created_at, pt.updated_at, pt.deleted_at, pt.is_archived, sm.started_at AS session_started_at, sm.ended_at AS session_ended_at, sm.branch AS session_branch, sm.successfully_completed FROM project_timeline pt LEFT JOIN session_metadata sm ON pt.session_id::text = sm.session_id::text WHERE pt.is_archived = false AND pt.deleted_at IS NULL ORDER BY pt.session_date DESC LIMIT 100",
      "materialized": false
    },
    "public.v_timeline_stats_by_tag": {
      "name": "v_timeline_stats_by_tag",
      "schema": "public",
      "columns": {
        "tag": {
          "name": "tag",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entry_count": {
          "name": "entry_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "session_count": {
          "name": "session_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "first_occurrence": {
          "name": "first_occurrence",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_occurrence": {
          "name": "last_occurrence",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT unnest(tags) AS tag, count(*) AS entry_count, count(DISTINCT session_id) AS session_count, min(session_date) AS first_occurrence, max(session_date) AS last_occurrence FROM project_timeline WHERE is_archived = false AND deleted_at IS NULL GROUP BY (unnest(tags)) ORDER BY (count(*)) DESC",
      "materialized": false
    },
    "public.v_session_summary": {
      "name": "v_session_summary",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "branch": {
          "name": "branch",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "commit_hash": {
          "name": "commit_hash",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": false
        },
        "environment": {
          "name": "environment",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "files_modified": {
          "name": "files_modified",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "lines_added": {
          "name": "lines_added",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "lines_removed": {
          "name": "lines_removed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "commands_executed": {
          "name": "commands_executed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "overall_goal": {
          "name": "overall_goal",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "successfully_completed": {
          "name": "successfully_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "timeline_entries": {
          "name": "timeline_entries",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "all_tags": {
          "name": "all_tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT sm.id, sm.session_id, sm.started_at, sm.ended_at, sm.duration, sm.branch, sm.commit_hash, sm.environment, sm.files_modified, sm.lines_added, sm.lines_removed, sm.commands_executed, sm.overall_goal, sm.successfully_completed, sm.created_at, sm.updated_at, count(pt.id) AS timeline_entries, COALESCE(array_agg(DISTINCT t.tag) FILTER (WHERE t.tag IS NOT NULL), ARRAY[]::text[]) AS all_tags FROM session_metadata sm LEFT JOIN project_timeline pt ON sm.session_id::text = pt.session_id::text LEFT JOIN LATERAL unnest(pt.tags) t(tag) ON true GROUP BY sm.id ORDER BY sm.started_at DESC",
      "materialized": false
    },
    "public.v_active_users": {
      "name": "v_active_users",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "auth_id": {
          "name": "auth_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "locale": {
          "name": "locale",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "student_enrollment_date": {
          "name": "student_enrollment_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "student_course_id": {
          "name": "student_course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "student_current_module": {
          "name": "student_current_module",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "student_course_progress": {
          "name": "student_course_progress",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "student_graduation_date": {
          "name": "student_graduation_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "student_certificates": {
          "name": "student_certificates",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "employee_hire_date": {
          "name": "employee_hire_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "employee_department": {
          "name": "employee_department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_position": {
          "name": "employee_position",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_salary": {
          "name": "employee_salary",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "employee_status": {
          "name": "employee_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_manager_id": {
          "name": "employee_manager_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "employee_performance_rating": {
          "name": "employee_performance_rating",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_status": {
          "name": "candidate_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_resume_url": {
          "name": "candidate_resume_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_skills": {
          "name": "candidate_skills",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_experience_years": {
          "name": "candidate_experience_years",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_current_visa": {
          "name": "candidate_current_visa",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_visa_expiry": {
          "name": "candidate_visa_expiry",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_hourly_rate": {
          "name": "candidate_hourly_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_bench_start_date": {
          "name": "candidate_bench_start_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_availability": {
          "name": "candidate_availability",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_location": {
          "name": "candidate_location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_willing_to_relocate": {
          "name": "candidate_willing_to_relocate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "client_company_name": {
          "name": "client_company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_industry": {
          "name": "client_industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_tier": {
          "name": "client_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_contract_start_date": {
          "name": "client_contract_start_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "client_contract_end_date": {
          "name": "client_contract_end_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "client_payment_terms": {
          "name": "client_payment_terms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "client_preferred_markup_percentage": {
          "name": "client_preferred_markup_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "recruiter_territory": {
          "name": "recruiter_territory",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recruiter_specialization": {
          "name": "recruiter_specialization",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "recruiter_monthly_placement_target": {
          "name": "recruiter_monthly_placement_target",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "recruiter_pod_id": {
          "name": "recruiter_pod_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "search_vector": {
          "name": "search_vector",
          "type": "tsvector",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT id, auth_id, email, full_name, avatar_url, phone, timezone, locale, student_enrollment_date, student_course_id, student_current_module, student_course_progress, student_graduation_date, student_certificates, employee_hire_date, employee_department, employee_position, employee_salary, employee_status, employee_manager_id, employee_performance_rating, candidate_status, candidate_resume_url, candidate_skills, candidate_experience_years, candidate_current_visa, candidate_visa_expiry, candidate_hourly_rate, candidate_bench_start_date, candidate_availability, candidate_location, candidate_willing_to_relocate, client_company_name, client_industry, client_tier, client_contract_start_date, client_contract_end_date, client_payment_terms, client_preferred_markup_percentage, recruiter_territory, recruiter_specialization, recruiter_monthly_placement_target, recruiter_pod_id, created_at, updated_at, created_by, updated_by, deleted_at, is_active, search_vector FROM user_profiles WHERE deleted_at IS NULL AND is_active = true",
      "materialized": false
    },
    "public.v_students": {
      "name": "v_students",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "student_enrollment_date": {
          "name": "student_enrollment_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "student_current_module": {
          "name": "student_current_module",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "student_course_progress": {
          "name": "student_course_progress",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "student_graduation_date": {
          "name": "student_graduation_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT id, email, full_name, student_enrollment_date, student_current_module, student_course_progress, student_graduation_date, created_at FROM user_profiles WHERE student_enrollment_date IS NOT NULL AND deleted_at IS NULL ORDER BY student_enrollment_date DESC",
      "materialized": false
    },
    "public.v_bench_candidates": {
      "name": "v_bench_candidates",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_skills": {
          "name": "candidate_skills",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_experience_years": {
          "name": "candidate_experience_years",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_current_visa": {
          "name": "candidate_current_visa",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_hourly_rate": {
          "name": "candidate_hourly_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_availability": {
          "name": "candidate_availability",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_location": {
          "name": "candidate_location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_bench_start_date": {
          "name": "candidate_bench_start_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT id, email, full_name, candidate_skills, candidate_experience_years, candidate_current_visa, candidate_hourly_rate, candidate_availability, candidate_location, candidate_bench_start_date FROM user_profiles WHERE candidate_status = 'bench'::text AND deleted_at IS NULL ORDER BY candidate_bench_start_date",
      "materialized": false
    },
    "public.v_employees": {
      "name": "v_employees",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_department": {
          "name": "employee_department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_position": {
          "name": "employee_position",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_hire_date": {
          "name": "employee_hire_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "employee_manager_id": {
          "name": "employee_manager_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "employee_status": {
          "name": "employee_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT id, email, full_name, employee_department, employee_position, employee_hire_date, employee_manager_id, employee_status FROM user_profiles WHERE employee_hire_date IS NOT NULL AND employee_status = 'active'::text AND deleted_at IS NULL ORDER BY employee_hire_date DESC",
      "materialized": false
    },
    "public.v_clients": {
      "name": "v_clients",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_name": {
          "name": "contact_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_company_name": {
          "name": "client_company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_industry": {
          "name": "client_industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_tier": {
          "name": "client_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_contract_start_date": {
          "name": "client_contract_start_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "client_contract_end_date": {
          "name": "client_contract_end_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "client_payment_terms": {
          "name": "client_payment_terms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT id, email, full_name AS contact_name, client_company_name, client_industry, client_tier, client_contract_start_date, client_contract_end_date, client_payment_terms FROM user_profiles WHERE client_company_name IS NOT NULL AND deleted_at IS NULL ORDER BY client_tier DESC, client_company_name",
      "materialized": false
    },
    "public.v_user_roles_detailed": {
      "name": "v_user_roles_detailed",
      "schema": "public",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role_name": {
          "name": "role_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role_display_name": {
          "name": "role_display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "role_status": {
          "name": "role_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT up.id AS user_id, up.email, up.full_name, r.name AS role_name, r.display_name AS role_display_name, ur.is_primary, ur.assigned_at, ur.expires_at, CASE WHEN ur.expires_at IS NOT NULL AND ur.expires_at < now() THEN 'expired'::text WHEN ur.deleted_at IS NOT NULL THEN 'revoked'::text ELSE 'active'::text END AS role_status FROM user_profiles up JOIN user_roles ur ON up.id = ur.user_id JOIN roles r ON ur.role_id = r.id WHERE up.deleted_at IS NULL ORDER BY up.email, ur.is_primary DESC, r.name",
      "materialized": false
    },
    "public.v_audit_logs_recent": {
      "name": "v_audit_logs_recent",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "table_name": {
          "name": "table_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_email": {
          "name": "user_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "changed_fields": {
          "name": "changed_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_name": {
          "name": "user_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT al.id, al.created_at, al.table_name, al.action, al.user_email, al.changed_fields, al.severity, up.full_name AS user_name FROM audit_logs al LEFT JOIN user_profiles up ON al.user_id = up.id WHERE al.created_at > (now() - '7 days'::interval) ORDER BY al.created_at DESC LIMIT 1000",
      "materialized": false
    },
    "public.v_audit_logs_critical": {
      "name": "v_audit_logs_critical",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "table_name": {
          "name": "table_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_email": {
          "name": "user_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "record_id": {
          "name": "record_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "user_name": {
          "name": "user_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT al.id, al.created_at, al.table_name, al.action, al.user_email, al.record_id, al.metadata, up.full_name AS user_name FROM audit_logs al LEFT JOIN user_profiles up ON al.user_id = up.id WHERE al.severity = ANY (ARRAY['error'::text, 'critical'::text]) ORDER BY al.created_at DESC",
      "materialized": false
    },
    "public.v_user_activity_summary": {
      "name": "v_user_activity_summary",
      "schema": "public",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_email": {
          "name": "user_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_actions": {
          "name": "total_actions",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "inserts": {
          "name": "inserts",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "updates": {
          "name": "updates",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "deletes": {
          "name": "deletes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "last_activity": {
          "name": "last_activity",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT user_id, user_email, count(*) AS total_actions, count(*) FILTER (WHERE action = 'INSERT'::text) AS inserts, count(*) FILTER (WHERE action = 'UPDATE'::text) AS updates, count(*) FILTER (WHERE action = 'DELETE'::text) AS deletes, max(created_at) AS last_activity FROM audit_logs WHERE user_id IS NOT NULL AND created_at > (now() - '30 days'::interval) GROUP BY user_id, user_email ORDER BY (count(*)) DESC",
      "materialized": false
    },
    "public.v_events_recent": {
      "name": "v_events_recent",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_category": {
          "name": "event_category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_email": {
          "name": "user_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT e.id, e.event_type, e.event_category, e.status, e.user_email, e.payload, e.created_at, up.full_name AS triggered_by FROM events e LEFT JOIN user_profiles up ON e.user_id = up.id WHERE e.created_at > (now() - '24:00:00'::interval) ORDER BY e.created_at DESC LIMIT 100",
      "materialized": false
    },
    "public.v_events_failed": {
      "name": "v_events_failed",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT id, event_type, status, retry_count, max_retries, next_retry_at, error_message, created_at, failed_at FROM events e WHERE status = ANY (ARRAY['failed'::text, 'dead_letter'::text]) ORDER BY created_at DESC",
      "materialized": false
    },
    "public.v_event_stats_by_type": {
      "name": "v_event_stats_by_type",
      "schema": "public",
      "columns": {
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_events": {
          "name": "total_events",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "completed": {
          "name": "completed",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "failed": {
          "name": "failed",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "dead_letter": {
          "name": "dead_letter",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_processing_time_seconds": {
          "name": "avg_processing_time_seconds",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "last_event_at": {
          "name": "last_event_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT event_type, count(*) AS total_events, count(*) FILTER (WHERE status = 'completed'::text) AS completed, count(*) FILTER (WHERE status = 'failed'::text) AS failed, count(*) FILTER (WHERE status = 'dead_letter'::text) AS dead_letter, avg(EXTRACT(epoch FROM processed_at - created_at)) AS avg_processing_time_seconds, max(created_at) AS last_event_at FROM events WHERE created_at > (now() - '7 days'::interval) GROUP BY event_type ORDER BY (count(*)) DESC",
      "materialized": false
    },
    "public.v_subscriber_performance": {
      "name": "v_subscriber_performance",
      "schema": "public",
      "columns": {
        "subscriber_name": {
          "name": "subscriber_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_pattern": {
          "name": "event_pattern",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_deliveries": {
          "name": "total_deliveries",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "successful": {
          "name": "successful",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "failed": {
          "name": "failed",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_duration_ms": {
          "name": "avg_duration_ms",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "last_delivery_at": {
          "name": "last_delivery_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT es.subscriber_name, es.event_pattern, count(edl.id) AS total_deliveries, count(*) FILTER (WHERE edl.status = 'success'::text) AS successful, count(*) FILTER (WHERE edl.status = 'failure'::text) AS failed, avg(edl.duration_ms) AS avg_duration_ms, max(edl.attempted_at) AS last_delivery_at FROM event_subscriptions es LEFT JOIN event_delivery_log edl ON es.id = edl.subscription_id WHERE edl.attempted_at > (now() - '7 days'::interval) GROUP BY es.id, es.subscriber_name, es.event_pattern ORDER BY (count(edl.id)) DESC",
      "materialized": false
    },
    "public.v_rls_status": {
      "name": "v_rls_status",
      "schema": "public",
      "columns": {
        "schemaname": {
          "name": "schemaname",
          "type": "name",
          "primaryKey": false,
          "notNull": false
        },
        "tablename": {
          "name": "tablename",
          "type": "name",
          "primaryKey": false,
          "notNull": false
        },
        "rls_enabled": {
          "name": "rls_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT schemaname, tablename, rowsecurity AS rls_enabled FROM pg_tables WHERE schemaname = 'public'::name AND (tablename = ANY (ARRAY['user_profiles'::name, 'roles'::name, 'permissions'::name, 'user_roles'::name, 'role_permissions'::name, 'audit_logs'::name, 'events'::name, 'event_subscriptions'::name])) ORDER BY tablename",
      "materialized": false
    },
    "public.v_rls_policies": {
      "name": "v_rls_policies",
      "schema": "public",
      "columns": {
        "schemaname": {
          "name": "schemaname",
          "type": "name",
          "primaryKey": false,
          "notNull": false
        },
        "tablename": {
          "name": "tablename",
          "type": "name",
          "primaryKey": false,
          "notNull": false
        },
        "policyname": {
          "name": "policyname",
          "type": "name",
          "primaryKey": false,
          "notNull": false
        },
        "permissive": {
          "name": "permissive",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "roles": {
          "name": "roles",
          "type": "name[]",
          "primaryKey": false,
          "notNull": false
        },
        "cmd": {
          "name": "cmd",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "qual": {
          "name": "qual",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "with_check": {
          "name": "with_check",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT schemaname, tablename, policyname, permissive, roles, cmd, qual, with_check FROM pg_policies WHERE schemaname = 'public'::name ORDER BY tablename, policyname",
      "materialized": false
    },
    "public.v_multi_tenancy_status": {
      "name": "v_multi_tenancy_status",
      "schema": "public",
      "columns": {
        "table_name": {
          "name": "table_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_records": {
          "name": "total_records",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "unique_orgs": {
          "name": "unique_orgs",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "active_orgs": {
          "name": "active_orgs",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "soft_deleted_orgs": {
          "name": "soft_deleted_orgs",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT 'organizations'::text AS table_name, count(*) AS total_records, count(DISTINCT organizations.id) AS unique_orgs, count(*) FILTER (WHERE organizations.status = 'active'::text) AS active_orgs, count(*) FILTER (WHERE organizations.deleted_at IS NOT NULL) AS soft_deleted_orgs FROM organizations UNION ALL SELECT 'user_profiles'::text AS table_name, count(*) AS total_records, count(DISTINCT user_profiles.org_id) AS unique_orgs, count(*) FILTER (WHERE user_profiles.org_id IS NOT NULL) AS active_orgs, NULL::bigint AS soft_deleted_orgs FROM user_profiles UNION ALL SELECT 'audit_logs'::text AS table_name, count(*) AS total_records, count(DISTINCT audit_logs.org_id) AS unique_orgs, count(*) FILTER (WHERE audit_logs.org_id IS NOT NULL) AS active_orgs, NULL::bigint AS soft_deleted_orgs FROM audit_logs UNION ALL SELECT 'events'::text AS table_name, count(*) AS total_records, count(DISTINCT events.org_id) AS unique_orgs, count(*) FILTER (WHERE events.org_id IS NOT NULL) AS active_orgs, NULL::bigint AS soft_deleted_orgs FROM events UNION ALL SELECT 'event_delivery_log'::text AS table_name, count(*) AS total_records, count(DISTINCT event_delivery_log.org_id) AS unique_orgs, count(*) FILTER (WHERE event_delivery_log.org_id IS NOT NULL) AS active_orgs, NULL::bigint AS soft_deleted_orgs FROM event_delivery_log UNION ALL SELECT 'project_timeline'::text AS table_name, count(*) AS total_records, count(DISTINCT project_timeline.org_id) AS unique_orgs, count(*) FILTER (WHERE project_timeline.org_id IS NOT NULL) AS active_orgs, NULL::bigint AS soft_deleted_orgs FROM project_timeline UNION ALL SELECT 'session_metadata'::text AS table_name, count(*) AS total_records, count(DISTINCT session_metadata.org_id) AS unique_orgs, count(*) FILTER (WHERE session_metadata.org_id IS NOT NULL) AS active_orgs, NULL::bigint AS soft_deleted_orgs FROM session_metadata",
      "materialized": false
    },
    "public.v_organization_stats": {
      "name": "v_organization_stats",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_tier": {
          "name": "subscription_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_status": {
          "name": "subscription_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "max_users": {
          "name": "max_users",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "current_users": {
          "name": "current_users",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "available_user_slots": {
          "name": "available_user_slots",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "max_candidates": {
          "name": "max_candidates",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "current_candidates": {
          "name": "current_candidates",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT o.id, o.name, o.slug, o.subscription_tier, o.subscription_status, o.status, o.max_users, count(DISTINCT up.id) AS current_users, o.max_users - count(DISTINCT up.id) AS available_user_slots, o.max_candidates, count(DISTINCT up.id) FILTER (WHERE up.candidate_status IS NOT NULL) AS current_candidates, o.created_at, o.updated_at FROM organizations o LEFT JOIN user_profiles up ON up.org_id = o.id AND up.deleted_at IS NULL WHERE o.deleted_at IS NULL GROUP BY o.id",
      "materialized": false
    },
    "public.ai_foundation_validation": {
      "name": "ai_foundation_validation",
      "schema": "public",
      "columns": {
        "component": {
          "name": "component",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT 'RLS Functions'::text AS component, CASE WHEN count(*) = 4 THEN 'OK'::text ELSE 'MISSING'::text END AS status FROM pg_proc WHERE (pg_proc.proname = ANY (ARRAY['auth_user_id'::name, 'auth_user_org_id'::name, 'user_is_admin'::name, 'user_has_role'::name])) AND pg_proc.pronamespace = 'public'::regnamespace::oid UNION ALL SELECT 'AI Tables'::text AS component, CASE WHEN count(*) = 3 THEN 'OK'::text ELSE 'MISSING'::text END AS status FROM pg_tables WHERE pg_tables.schemaname = 'public'::name AND (pg_tables.tablename = ANY (ARRAY['ai_conversations'::name, 'ai_embeddings'::name, 'ai_patterns'::name])) UNION ALL SELECT 'pgvector Extension'::text AS component, CASE WHEN count(*) = 1 THEN 'OK'::text ELSE 'NOT INSTALLED'::text END AS status FROM pg_extension WHERE pg_extension.extname = 'vector'::name UNION ALL SELECT 'Vector Search Function'::text AS component, CASE WHEN count(*) = 1 THEN 'OK'::text ELSE 'MISSING'::text END AS status FROM pg_proc WHERE pg_proc.proname = 'search_embeddings'::name AND pg_proc.pronamespace = 'public'::regnamespace::oid",
      "materialized": false
    },
    "public.v_agent_framework_status": {
      "name": "v_agent_framework_status",
      "schema": "public",
      "columns": {
        "active_prompts": {
          "name": "active_prompts",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "unique_templates": {
          "name": "unique_templates",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "cost_entries_24h": {
          "name": "cost_entries_24h",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "cost_24h_usd": {
          "name": "cost_24h_usd",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "cost_30d_usd": {
          "name": "cost_30d_usd",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "interactions_24h": {
          "name": "interactions_24h",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "failures_24h": {
          "name": "failures_24h",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "active_agents_7d": {
          "name": "active_agents_7d",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT ( SELECT count(*) AS count FROM ai_prompts WHERE ai_prompts.is_active = true) AS active_prompts, ( SELECT count(DISTINCT ai_prompts.name) AS count FROM ai_prompts) AS unique_templates, ( SELECT count(*) AS count FROM ai_cost_tracking WHERE ai_cost_tracking.created_at > (now() - '24:00:00'::interval)) AS cost_entries_24h, ( SELECT COALESCE(sum(ai_cost_tracking.cost_usd), 0::numeric) AS \"coalesce\" FROM ai_cost_tracking WHERE ai_cost_tracking.created_at > (now() - '24:00:00'::interval)) AS cost_24h_usd, ( SELECT COALESCE(sum(ai_cost_tracking.cost_usd), 0::numeric) AS \"coalesce\" FROM ai_cost_tracking WHERE ai_cost_tracking.created_at > (now() - '30 days'::interval)) AS cost_30d_usd, ( SELECT count(*) AS count FROM ai_agent_interactions WHERE ai_agent_interactions.created_at > (now() - '24:00:00'::interval)) AS interactions_24h, ( SELECT count(*) AS count FROM ai_agent_interactions WHERE ai_agent_interactions.created_at > (now() - '24:00:00'::interval) AND ai_agent_interactions.success = false) AS failures_24h, ( SELECT count(DISTINCT ai_agent_interactions.agent_name) AS count FROM ai_agent_interactions WHERE ai_agent_interactions.created_at > (now() - '7 days'::interval)) AS active_agents_7d",
      "materialized": false
    },
    "public.reading_stats": {
      "name": "reading_stats",
      "schema": "public",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "topic_title": {
          "name": "topic_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "module_title": {
          "name": "module_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "course_title": {
          "name": "course_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scroll_percentage": {
          "name": "scroll_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_reading_time_seconds": {
          "name": "total_reading_time_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "session_count": {
          "name": "session_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_read_at": {
          "name": "last_read_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "content_type": {
          "name": "content_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_page": {
          "name": "current_page",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_pages": {
          "name": "total_pages",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "engagement_score": {
          "name": "engagement_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT rp.user_id, rp.topic_id, rp.enrollment_id, mt.title AS topic_title, cm.title AS module_title, c.title AS course_title, rp.scroll_percentage, rp.total_reading_time_seconds, rp.session_count, rp.last_read_at, rp.content_type, rp.current_page, rp.total_pages, CASE WHEN rp.scroll_percentage >= 90 THEN 100 WHEN rp.scroll_percentage >= 75 THEN 85 WHEN rp.scroll_percentage >= 50 THEN 70 WHEN rp.scroll_percentage >= 25 THEN 50 ELSE 25 END AS engagement_score FROM reading_progress rp JOIN module_topics mt ON mt.id = rp.topic_id JOIN course_modules cm ON cm.id = mt.module_id JOIN courses c ON c.id = cm.course_id",
      "materialized": false
    },
    "public.grading_queue": {
      "name": "grading_queue",
      "schema": "public",
      "columns": {
        "submission_id": {
          "name": "submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "student_name": {
          "name": "student_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "student_email": {
          "name": "student_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "topic_title": {
          "name": "topic_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "module_title": {
          "name": "module_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "course_title": {
          "name": "course_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "repository_url": {
          "name": "repository_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "commit_sha": {
          "name": "commit_sha",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "auto_grade_score": {
          "name": "auto_grade_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "attempt_number": {
          "name": "attempt_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT ls.id AS submission_id, ls.user_id, up.full_name AS student_name, up.email AS student_email, ls.topic_id, mt.title AS topic_title, cm.title AS module_title, c.title AS course_title, ls.repository_url, ls.commit_sha, ls.submitted_at, ls.status, ls.auto_grade_score, ls.attempt_number, ls.enrollment_id FROM lab_submissions ls JOIN user_profiles up ON up.id = ls.user_id JOIN module_topics mt ON mt.id = ls.topic_id JOIN course_modules cm ON cm.id = mt.module_id JOIN courses c ON c.id = cm.course_id WHERE ls.status = ANY (ARRAY['pending'::text, 'manual_review'::text]) ORDER BY ls.submitted_at",
      "materialized": false
    },
    "public.question_bank_stats": {
      "name": "question_bank_stats",
      "schema": "public",
      "columns": {
        "question_id": {
          "name": "question_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "question_text": {
          "name": "question_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "question_type": {
          "name": "question_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "difficulty": {
          "name": "difficulty",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "points": {
          "name": "points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_name": {
          "name": "created_by_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "times_used": {
          "name": "times_used",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "unique_students": {
          "name": "unique_students",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_correct_percentage": {
          "name": "avg_correct_percentage",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT qq.id AS question_id, qq.topic_id, qq.question_text, qq.question_type, qq.difficulty, qq.points, qq.is_public, qq.created_by, up.full_name AS created_by_name, count(DISTINCT qa.id) AS times_used, count(DISTINCT qa.user_id) AS unique_students, COALESCE(avg( CASE WHEN qa.submitted_at IS NOT NULL THEN CASE WHEN (qa.answers -> qq.id::text) = qq.correct_answers THEN 100.0 ELSE 0.0 END ELSE NULL::numeric END), 0::numeric) AS avg_correct_percentage, qq.created_at, qq.updated_at FROM quiz_questions qq LEFT JOIN user_profiles up ON qq.created_by = up.id LEFT JOIN quiz_attempts qa ON qa.topic_id = qq.topic_id GROUP BY qq.id, up.full_name",
      "materialized": false
    },
    "public.quiz_analytics": {
      "name": "quiz_analytics",
      "schema": "public",
      "columns": {
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "topic_title": {
          "name": "topic_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "module_id": {
          "name": "module_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "module_title": {
          "name": "module_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "course_title": {
          "name": "course_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_questions": {
          "name": "total_questions",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "easy_questions": {
          "name": "easy_questions",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "medium_questions": {
          "name": "medium_questions",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "hard_questions": {
          "name": "hard_questions",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_attempts": {
          "name": "total_attempts",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "unique_students": {
          "name": "unique_students",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "passed_attempts": {
          "name": "passed_attempts",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_score": {
          "name": "avg_score",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_time_seconds": {
          "name": "avg_time_seconds",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "pass_rate": {
          "name": "pass_rate",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT mt.id AS topic_id, mt.title AS topic_title, cm.id AS module_id, cm.title AS module_title, c.id AS course_id, c.title AS course_title, count(DISTINCT qq.id) AS total_questions, count(DISTINCT CASE WHEN qq.difficulty = 'easy'::text THEN qq.id ELSE NULL::uuid END) AS easy_questions, count(DISTINCT CASE WHEN qq.difficulty = 'medium'::text THEN qq.id ELSE NULL::uuid END) AS medium_questions, count(DISTINCT CASE WHEN qq.difficulty = 'hard'::text THEN qq.id ELSE NULL::uuid END) AS hard_questions, count(DISTINCT qa.id) AS total_attempts, count(DISTINCT qa.user_id) AS unique_students, count(DISTINCT CASE WHEN qa.passed = true THEN qa.id ELSE NULL::uuid END) AS passed_attempts, COALESCE(avg(qa.score), 0::numeric) AS avg_score, COALESCE(avg(qa.time_taken_seconds), 0::numeric) AS avg_time_seconds, COALESCE(count(DISTINCT CASE WHEN qa.passed = true THEN qa.id ELSE NULL::uuid END)::double precision / NULLIF(count(DISTINCT qa.id), 0)::double precision * 100::double precision, 0::double precision) AS pass_rate FROM module_topics mt JOIN course_modules cm ON mt.module_id = cm.id JOIN courses c ON cm.course_id = c.id LEFT JOIN quiz_questions qq ON qq.topic_id = mt.id LEFT JOIN quiz_attempts qa ON qa.topic_id = mt.id AND qa.submitted_at IS NOT NULL WHERE mt.content_type = 'quiz'::text GROUP BY mt.id, cm.id, c.id",
      "materialized": false
    },
    "public.capstone_grading_queue": {
      "name": "capstone_grading_queue",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "student_name": {
          "name": "student_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "student_email": {
          "name": "student_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "course_title": {
          "name": "course_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "repository_url": {
          "name": "repository_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "demo_video_url": {
          "name": "demo_video_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "revision_count": {
          "name": "revision_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "peer_review_count": {
          "name": "peer_review_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "avg_peer_rating": {
          "name": "avg_peer_rating",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "hours_waiting": {
          "name": "hours_waiting",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT cs.id, cs.user_id, cs.enrollment_id, cs.course_id, up.full_name AS student_name, up.email AS student_email, c.title AS course_title, cs.repository_url, cs.demo_video_url, cs.description, cs.submitted_at, cs.status, cs.revision_count, cs.peer_review_count, cs.avg_peer_rating, EXTRACT(epoch FROM now() - cs.submitted_at) / 3600::numeric AS hours_waiting FROM capstone_submissions cs JOIN user_profiles up ON cs.user_id = up.id JOIN courses c ON cs.course_id = c.id WHERE cs.status = ANY (ARRAY['pending'::text, 'peer_review'::text, 'trainer_review'::text]) ORDER BY cs.submitted_at",
      "materialized": false
    },
    "public.v_auth_rls_status": {
      "name": "v_auth_rls_status",
      "schema": "public",
      "columns": {
        "table_name": {
          "name": "table_name",
          "type": "name",
          "primaryKey": false,
          "notNull": false
        },
        "rls_enabled": {
          "name": "rls_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "rls_forced": {
          "name": "rls_forced",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "policy_count": {
          "name": "policy_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "policies": {
          "name": "policies",
          "type": "name[]",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT c.relname AS table_name, c.relrowsecurity AS rls_enabled, c.relforcerowsecurity AS rls_forced, count(p.polname) AS policy_count, array_agg(p.polname ORDER BY p.polname) AS policies FROM pg_class c LEFT JOIN pg_policy p ON p.polrelid = c.oid WHERE c.relnamespace = 'public'::regnamespace::oid AND c.relkind = 'r'::\"char\" AND (c.relname = ANY (ARRAY['user_profiles'::name, 'roles'::name, 'permissions'::name, 'user_roles'::name, 'role_permissions'::name, 'organizations'::name, 'audit_logs'::name])) GROUP BY c.relname, c.relrowsecurity, c.relforcerowsecurity ORDER BY c.relname",
      "materialized": false
    },
    "public.capstone_statistics": {
      "name": "capstone_statistics",
      "schema": "public",
      "columns": {
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "course_title": {
          "name": "course_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_submissions": {
          "name": "total_submissions",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "passed_count": {
          "name": "passed_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "failed_count": {
          "name": "failed_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "revision_count": {
          "name": "revision_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_grade": {
          "name": "avg_grade",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_peer_reviews": {
          "name": "avg_peer_reviews",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_revisions": {
          "name": "avg_revisions",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT cs.course_id, c.title AS course_title, count(*) AS total_submissions, count( CASE WHEN cs.status = 'passed'::text THEN 1 ELSE NULL::integer END) AS passed_count, count( CASE WHEN cs.status = 'failed'::text THEN 1 ELSE NULL::integer END) AS failed_count, count( CASE WHEN cs.status = 'revision_requested'::text THEN 1 ELSE NULL::integer END) AS revision_count, avg(cs.grade) FILTER (WHERE cs.grade IS NOT NULL) AS avg_grade, avg(cs.peer_review_count) AS avg_peer_reviews, avg(cs.revision_count) AS avg_revisions FROM capstone_submissions cs JOIN courses c ON cs.course_id = c.id GROUP BY cs.course_id, c.title",
      "materialized": false
    },
    "public.peer_review_leaderboard": {
      "name": "peer_review_leaderboard",
      "schema": "public",
      "columns": {
        "reviewer_id": {
          "name": "reviewer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reviewer_name": {
          "name": "reviewer_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reviews_completed": {
          "name": "reviews_completed",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_rating_given": {
          "name": "avg_rating_given",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "courses_reviewed": {
          "name": "courses_reviewed",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT pr.reviewer_id, up.full_name AS reviewer_name, count(*) AS reviews_completed, avg(pr.rating) AS avg_rating_given, count(DISTINCT cs.course_id) AS courses_reviewed FROM peer_reviews pr JOIN user_profiles up ON pr.reviewer_id = up.id JOIN capstone_submissions cs ON pr.submission_id = cs.id GROUP BY pr.reviewer_id, up.full_name ORDER BY (count(*)) DESC",
      "materialized": false
    },
    "public.ai_mentor_daily_stats": {
      "name": "ai_mentor_daily_stats",
      "schema": "public",
      "columns": {
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "total_chats": {
          "name": "total_chats",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "unique_users": {
          "name": "unique_users",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_tokens": {
          "name": "total_tokens",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_cost": {
          "name": "total_cost",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_response_time_ms": {
          "name": "avg_response_time_ms",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_rating": {
          "name": "avg_rating",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "flagged_count": {
          "name": "flagged_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "escalated_count": {
          "name": "escalated_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT date(created_at) AS date, count(*) AS total_chats, count(DISTINCT user_id) AS unique_users, sum(tokens_used) AS total_tokens, sum(cost_usd) AS total_cost, avg(response_time_ms) AS avg_response_time_ms, avg(student_rating) FILTER (WHERE student_rating IS NOT NULL) AS avg_rating, count(*) FILTER (WHERE flagged_for_review = true) AS flagged_count, count(*) FILTER (WHERE escalated_to_trainer = true) AS escalated_count FROM ai_mentor_chats GROUP BY (date(created_at)) ORDER BY (date(created_at)) DESC",
      "materialized": false
    },
    "public.ai_mentor_student_stats": {
      "name": "ai_mentor_student_stats",
      "schema": "public",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_chats": {
          "name": "total_chats",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_tokens": {
          "name": "total_tokens",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_cost": {
          "name": "total_cost",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_response_time_ms": {
          "name": "avg_response_time_ms",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_rating": {
          "name": "avg_rating",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "flagged_count": {
          "name": "flagged_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "escalated_count": {
          "name": "escalated_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "last_chat_at": {
          "name": "last_chat_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT u.id AS user_id, u.full_name, u.email, count(c.id) AS total_chats, sum(c.tokens_used) AS total_tokens, sum(c.cost_usd) AS total_cost, avg(c.response_time_ms) AS avg_response_time_ms, avg(c.student_rating) FILTER (WHERE c.student_rating IS NOT NULL) AS avg_rating, count(*) FILTER (WHERE c.flagged_for_review = true) AS flagged_count, count(*) FILTER (WHERE c.escalated_to_trainer = true) AS escalated_count, max(c.created_at) AS last_chat_at FROM user_profiles u LEFT JOIN ai_mentor_chats c ON c.user_id = u.id WHERE (EXISTS ( SELECT 1 FROM user_roles ur JOIN roles r ON r.id = ur.role_id WHERE ur.user_id = u.id AND r.name = 'student'::text)) GROUP BY u.id, u.full_name, u.email",
      "materialized": false
    },
    "public.ai_mentor_topic_stats": {
      "name": "ai_mentor_topic_stats",
      "schema": "public",
      "columns": {
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "topic_title": {
          "name": "topic_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "course_title": {
          "name": "course_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_chats": {
          "name": "total_chats",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "unique_students": {
          "name": "unique_students",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_rating": {
          "name": "avg_rating",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "escalation_count": {
          "name": "escalation_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT mt.id AS topic_id, mt.title AS topic_title, c.title AS course_title, count(mc.id) AS total_chats, count(DISTINCT mc.user_id) AS unique_students, avg(mc.student_rating) FILTER (WHERE mc.student_rating IS NOT NULL) AS avg_rating, count(*) FILTER (WHERE mc.escalated_to_trainer = true) AS escalation_count FROM module_topics mt JOIN course_modules m ON m.id = mt.module_id JOIN courses c ON c.id = m.course_id LEFT JOIN ai_mentor_chats mc ON mc.topic_id = mt.id GROUP BY mt.id, mt.title, c.title ORDER BY (count(mc.id)) DESC",
      "materialized": false
    },
    "public.escalation_queue": {
      "name": "escalation_queue",
      "schema": "public",
      "columns": {
        "escalation_id": {
          "name": "escalation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "chat_id": {
          "name": "chat_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "student_name": {
          "name": "student_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "student_email": {
          "name": "student_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "topic_title": {
          "name": "topic_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "auto_detected": {
          "name": "auto_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "triggers": {
          "name": "triggers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_trainer_name": {
          "name": "assigned_trainer_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "wait_time_minutes": {
          "name": "wait_time_minutes",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "original_question": {
          "name": "original_question",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "response_count": {
          "name": "response_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT e.id AS escalation_id, e.chat_id, e.user_id, u.full_name AS student_name, u.email AS student_email, e.topic_id, mt.title AS topic_title, e.reason, e.confidence, e.auto_detected, e.triggers, e.metadata, e.status, e.assigned_to, trainer.full_name AS assigned_trainer_name, e.created_at, EXTRACT(epoch FROM now() - e.created_at) / 60::numeric AS wait_time_minutes, c.question AS original_question, ( SELECT count(*) AS count FROM trainer_responses WHERE trainer_responses.escalation_id = e.id) AS response_count FROM ai_mentor_escalations e JOIN user_profiles u ON u.id = e.user_id LEFT JOIN module_topics mt ON mt.id = e.topic_id LEFT JOIN user_profiles trainer ON trainer.id = e.assigned_to LEFT JOIN ai_mentor_chats c ON c.id = e.chat_id WHERE e.status = ANY (ARRAY['pending'::text, 'in_progress'::text]) ORDER BY e.created_at",
      "materialized": false
    },
    "public.ai_mentor_hourly_stats": {
      "name": "ai_mentor_hourly_stats",
      "schema": "public",
      "columns": {
        "hour": {
          "name": "hour",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "total_chats": {
          "name": "total_chats",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "unique_users": {
          "name": "unique_users",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_tokens": {
          "name": "total_tokens",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_cost": {
          "name": "total_cost",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_response_time_ms": {
          "name": "avg_response_time_ms",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_rating": {
          "name": "avg_rating",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "positive_ratings": {
          "name": "positive_ratings",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "negative_ratings": {
          "name": "negative_ratings",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "flagged_count": {
          "name": "flagged_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "escalated_count": {
          "name": "escalated_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT date_trunc('hour'::text, created_at) AS hour, count(*) AS total_chats, count(DISTINCT user_id) AS unique_users, sum(tokens_used) AS total_tokens, sum(cost_usd) AS total_cost, avg(response_time_ms) AS avg_response_time_ms, avg(student_rating) FILTER (WHERE student_rating IS NOT NULL) AS avg_rating, count(*) FILTER (WHERE student_rating >= 4) AS positive_ratings, count(*) FILTER (WHERE student_rating <= 2) AS negative_ratings, count(*) FILTER (WHERE flagged_for_review = true) AS flagged_count, count(*) FILTER (WHERE escalated_to_trainer = true) AS escalated_count FROM ai_mentor_chats WHERE created_at >= (now() - '7 days'::interval) GROUP BY (date_trunc('hour'::text, created_at)) ORDER BY (date_trunc('hour'::text, created_at)) DESC",
      "materialized": false
    },
    "public.ai_mentor_topic_quality": {
      "name": "ai_mentor_topic_quality",
      "schema": "public",
      "columns": {
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "topic_title": {
          "name": "topic_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "course_title": {
          "name": "course_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_chats": {
          "name": "total_chats",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "unique_students": {
          "name": "unique_students",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_rating": {
          "name": "avg_rating",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "helpful_percentage": {
          "name": "helpful_percentage",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "unhelpful_percentage": {
          "name": "unhelpful_percentage",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_response_time_ms": {
          "name": "avg_response_time_ms",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_tokens_used": {
          "name": "avg_tokens_used",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "total_cost": {
          "name": "total_cost",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "escalation_rate": {
          "name": "escalation_rate",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "flagged_count": {
          "name": "flagged_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT mt.id AS topic_id, mt.title AS topic_title, c.title AS course_title, count(mc.id) AS total_chats, count(DISTINCT mc.user_id) AS unique_students, avg(mc.student_rating) FILTER (WHERE mc.student_rating IS NOT NULL) AS avg_rating, count(*) FILTER (WHERE mc.student_rating >= 4)::numeric / NULLIF(count(*) FILTER (WHERE mc.student_rating IS NOT NULL), 0)::numeric * 100::numeric AS helpful_percentage, count(*) FILTER (WHERE mc.student_rating <= 2)::numeric / NULLIF(count(*) FILTER (WHERE mc.student_rating IS NOT NULL), 0)::numeric * 100::numeric AS unhelpful_percentage, avg(mc.response_time_ms) AS avg_response_time_ms, avg(mc.tokens_used) AS avg_tokens_used, sum(mc.cost_usd) AS total_cost, count(*) FILTER (WHERE mc.escalated_to_trainer = true)::numeric / NULLIF(count(*), 0)::numeric * 100::numeric AS escalation_rate, count(*) FILTER (WHERE mc.flagged_for_review = true) AS flagged_count FROM module_topics mt JOIN course_modules cm ON cm.id = mt.module_id JOIN courses c ON c.id = cm.course_id LEFT JOIN ai_mentor_chats mc ON mc.topic_id = mt.id GROUP BY mt.id, mt.title, c.title HAVING count(mc.id) > 0 ORDER BY (count(mc.id)) DESC",
      "materialized": false
    },
    "public.ai_prompt_variant_performance": {
      "name": "ai_prompt_variant_performance",
      "schema": "public",
      "columns": {
        "variant_id": {
          "name": "variant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "variant_name": {
          "name": "variant_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "traffic_percentage": {
          "name": "traffic_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_uses": {
          "name": "total_uses",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "unique_users": {
          "name": "unique_users",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_rating": {
          "name": "avg_rating",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "helpful_percentage": {
          "name": "helpful_percentage",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_response_time_ms": {
          "name": "avg_response_time_ms",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_tokens_used": {
          "name": "avg_tokens_used",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_cost_per_chat": {
          "name": "avg_cost_per_chat",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "escalation_rate": {
          "name": "escalation_rate",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "flagged_count": {
          "name": "flagged_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT pv.id AS variant_id, pv.variant_name, pv.is_active, pv.traffic_percentage, count(mc.id) AS total_uses, count(DISTINCT mc.user_id) AS unique_users, avg(mc.student_rating) FILTER (WHERE mc.student_rating IS NOT NULL) AS avg_rating, count(*) FILTER (WHERE mc.student_rating >= 4)::numeric / NULLIF(count(*) FILTER (WHERE mc.student_rating IS NOT NULL), 0)::numeric * 100::numeric AS helpful_percentage, avg(mc.response_time_ms) AS avg_response_time_ms, avg(mc.tokens_used) AS avg_tokens_used, avg(mc.cost_usd) AS avg_cost_per_chat, count(*) FILTER (WHERE mc.escalated_to_trainer = true)::numeric / NULLIF(count(*), 0)::numeric * 100::numeric AS escalation_rate, count(*) FILTER (WHERE mc.flagged_for_review = true) AS flagged_count, pv.created_at FROM ai_prompt_variants pv LEFT JOIN ai_mentor_chats mc ON mc.prompt_variant_id = pv.id GROUP BY pv.id, pv.variant_name, pv.is_active, pv.traffic_percentage, pv.created_at ORDER BY pv.created_at DESC",
      "materialized": false
    },
    "public.ai_mentor_cost_breakdown": {
      "name": "ai_mentor_cost_breakdown",
      "schema": "public",
      "columns": {
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "topic_title": {
          "name": "topic_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "chat_count": {
          "name": "chat_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_tokens": {
          "name": "total_tokens",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_cost": {
          "name": "total_cost",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_cost_per_chat": {
          "name": "avg_cost_per_chat",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "cost_per_1k_tokens": {
          "name": "cost_per_1k_tokens",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "cost_per_helpful_response": {
          "name": "cost_per_helpful_response",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT date(mc.created_at) AS date, mc.topic_id, mt.title AS topic_title, count(*) AS chat_count, sum(mc.tokens_used) AS total_tokens, sum(mc.cost_usd) AS total_cost, avg(mc.cost_usd) AS avg_cost_per_chat, sum(mc.cost_usd) / NULLIF(sum(mc.tokens_used), 0)::numeric * 1000::numeric AS cost_per_1k_tokens, sum(mc.cost_usd) / NULLIF(count(*) FILTER (WHERE mc.student_rating >= 4), 0)::numeric AS cost_per_helpful_response FROM ai_mentor_chats mc LEFT JOIN module_topics mt ON mt.id = mc.topic_id WHERE mc.created_at >= (CURRENT_DATE - '30 days'::interval) GROUP BY (date(mc.created_at)), mc.topic_id, mt.title ORDER BY (date(mc.created_at)) DESC, (sum(mc.cost_usd)) DESC",
      "materialized": false
    },
    "public.badge_completion_stats": {
      "name": "badge_completion_stats",
      "schema": "public",
      "columns": {
        "badge_id": {
          "name": "badge_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "badge_name": {
          "name": "badge_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rarity": {
          "name": "rarity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_earned": {
          "name": "total_earned",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "unique_earners": {
          "name": "unique_earners",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "completion_percentage": {
          "name": "completion_percentage",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "first_earned_at": {
          "name": "first_earned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_earned_at": {
          "name": "last_earned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "total_shares": {
          "name": "total_shares",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT b.id AS badge_id, b.name AS badge_name, b.rarity, b.trigger_type, count(ub.id) AS total_earned, count(DISTINCT ub.user_id) AS unique_earners, count(DISTINCT ub.user_id)::numeric / NULLIF(( SELECT count(DISTINCT user_badges.user_id) AS count FROM user_badges), 0)::numeric * 100::numeric AS completion_percentage, min(ub.earned_at) AS first_earned_at, max(ub.earned_at) AS last_earned_at, sum(ub.share_count) AS total_shares FROM badges b LEFT JOIN user_badges ub ON ub.badge_id = b.id GROUP BY b.id, b.name, b.rarity, b.trigger_type ORDER BY (count(ub.id)) DESC",
      "materialized": false
    },
    "public.ai_mentor_student_engagement": {
      "name": "ai_mentor_student_engagement",
      "schema": "public",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_chats": {
          "name": "total_chats",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "first_chat_date": {
          "name": "first_chat_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "last_chat_date": {
          "name": "last_chat_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "active_days": {
          "name": "active_days",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_rating_given": {
          "name": "avg_rating_given",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "rating_frequency": {
          "name": "rating_frequency",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "topics_explored": {
          "name": "topics_explored",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "escalations": {
          "name": "escalations",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_cost_incurred": {
          "name": "total_cost_incurred",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT u.id AS user_id, u.full_name, count(mc.id) AS total_chats, date(min(mc.created_at)) AS first_chat_date, date(max(mc.created_at)) AS last_chat_date, EXTRACT(epoch FROM max(mc.created_at) - min(mc.created_at)) / 86400::numeric AS active_days, avg(mc.student_rating) FILTER (WHERE mc.student_rating IS NOT NULL) AS avg_rating_given, count(*) FILTER (WHERE mc.student_rating IS NOT NULL)::numeric / NULLIF(count(*), 0)::numeric * 100::numeric AS rating_frequency, count(DISTINCT mc.topic_id) AS topics_explored, count(*) FILTER (WHERE mc.escalated_to_trainer = true) AS escalations, sum(mc.cost_usd) AS total_cost_incurred FROM user_profiles u JOIN ai_mentor_chats mc ON mc.user_id = u.id GROUP BY u.id, u.full_name ORDER BY (count(mc.id)) DESC",
      "materialized": false
    },
    "public.user_badge_progress": {
      "name": "user_badge_progress",
      "schema": "public",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "common_badges": {
          "name": "common_badges",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "rare_badges": {
          "name": "rare_badges",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "epic_badges": {
          "name": "epic_badges",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "legendary_badges": {
          "name": "legendary_badges",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_badges_earned": {
          "name": "total_badges_earned",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_badges_available": {
          "name": "total_badges_available",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "completion_percentage": {
          "name": "completion_percentage",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "last_badge_earned_at": {
          "name": "last_badge_earned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "new_badges_count": {
          "name": "new_badges_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT u.id AS user_id, u.full_name, count(ub.id) FILTER (WHERE b.rarity = 'common'::text) AS common_badges, count(ub.id) FILTER (WHERE b.rarity = 'rare'::text) AS rare_badges, count(ub.id) FILTER (WHERE b.rarity = 'epic'::text) AS epic_badges, count(ub.id) FILTER (WHERE b.rarity = 'legendary'::text) AS legendary_badges, count(ub.id) AS total_badges_earned, ( SELECT count(*) AS count FROM badges WHERE badges.is_hidden = false) AS total_badges_available, count(ub.id)::numeric / NULLIF(( SELECT count(*) AS count FROM badges WHERE badges.is_hidden = false), 0)::numeric * 100::numeric AS completion_percentage, max(ub.earned_at) AS last_badge_earned_at, count(*) FILTER (WHERE ub.is_new = true) AS new_badges_count FROM user_profiles u LEFT JOIN user_badges ub ON ub.user_id = u.id LEFT JOIN badges b ON b.id = ub.badge_id GROUP BY u.id, u.full_name ORDER BY (count(ub.id)) DESC",
      "materialized": false
    },
    "public.rare_achievements": {
      "name": "rare_achievements",
      "schema": "public",
      "columns": {
        "badge_id": {
          "name": "badge_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "badge_name": {
          "name": "badge_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rarity": {
          "name": "rarity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "earner_count": {
          "name": "earner_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "earner_percentage": {
          "name": "earner_percentage",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT b.id AS badge_id, b.name AS badge_name, b.rarity, count(ub.id) AS earner_count, count(DISTINCT ub.user_id)::numeric / NULLIF(( SELECT count(DISTINCT user_badges.user_id) AS count FROM user_badges), 0)::numeric * 100::numeric AS earner_percentage FROM badges b LEFT JOIN user_badges ub ON ub.badge_id = b.id GROUP BY b.id, b.name, b.rarity HAVING (count(DISTINCT ub.user_id)::numeric / NULLIF(( SELECT count(DISTINCT user_badges.user_id) AS count FROM user_badges), 0)::numeric * 100::numeric) <= 1.0 ORDER BY (count(DISTINCT ub.user_id)::numeric / NULLIF(( SELECT count(DISTINCT user_badges.user_id) AS count FROM user_badges), 0)::numeric * 100::numeric)",
      "materialized": false
    },
    "public.v_workflow_instances_with_state": {
      "name": "v_workflow_instances_with_state",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_name": {
          "name": "workflow_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "current_state": {
          "name": "current_state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_state_display": {
          "name": "current_state_display",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_terminal": {
          "name": "is_terminal",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_hours": {
          "name": "duration_hours",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_name": {
          "name": "created_by_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT wi.id, wi.org_id, w.name AS workflow_name, wi.entity_type, wi.entity_id, ws.name AS current_state, ws.display_name AS current_state_display, ws.is_terminal, wi.status, wi.started_at, wi.completed_at, wi.cancelled_at, EXTRACT(epoch FROM COALESCE(wi.completed_at, now()) - wi.started_at) / 3600::numeric AS duration_hours, up.full_name AS created_by_name, wi.created_at, wi.updated_at FROM workflow_instances wi JOIN workflows w ON wi.workflow_id = w.id JOIN workflow_states ws ON wi.current_state_id = ws.id JOIN user_profiles up ON wi.created_by = up.id WHERE wi.org_id = auth_user_org_id() OR user_is_admin()",
      "materialized": false
    },
    "public.v_workflow_metrics": {
      "name": "v_workflow_metrics",
      "schema": "public",
      "columns": {
        "workflow_id": {
          "name": "workflow_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_name": {
          "name": "workflow_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_instances": {
          "name": "total_instances",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "active_instances": {
          "name": "active_instances",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "completed_instances": {
          "name": "completed_instances",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_instances": {
          "name": "cancelled_instances",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_completion_hours": {
          "name": "avg_completion_hours",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "last_started_at": {
          "name": "last_started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT w.id AS workflow_id, w.name AS workflow_name, w.entity_type, count(*) AS total_instances, count(*) FILTER (WHERE wi.status = 'active'::text) AS active_instances, count(*) FILTER (WHERE wi.status = 'completed'::text) AS completed_instances, count(*) FILTER (WHERE wi.status = 'cancelled'::text) AS cancelled_instances, round(avg(EXTRACT(epoch FROM wi.completed_at - wi.started_at) / 3600::numeric), 2) AS avg_completion_hours, max(wi.started_at) AS last_started_at, w.org_id FROM workflows w LEFT JOIN workflow_instances wi ON w.id = wi.workflow_id WHERE w.org_id = auth_user_org_id() OR user_is_admin() GROUP BY w.id, w.name, w.entity_type, w.org_id",
      "materialized": false
    },
    "public.leaderboard_global": {
      "name": "leaderboard_global",
      "schema": "public",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_xp": {
          "name": "total_xp",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "level": {
          "name": "level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "level_name": {
          "name": "level_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rank": {
          "name": "rank",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "dense_rank": {
          "name": "dense_rank",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "xp_diff_from_above": {
          "name": "xp_diff_from_above",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "xp_to_next_rank": {
          "name": "xp_to_next_rank",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "WITH ranked_users AS ( SELECT up.id AS user_id, up.full_name, up.avatar_url, uxp.total_xp, floor((uxp.total_xp / 1000)::double precision)::integer + 1 AS level, CASE WHEN uxp.total_xp < 1000 THEN 'Beginner'::text WHEN uxp.total_xp < 5000 THEN 'Intermediate'::text WHEN uxp.total_xp < 10000 THEN 'Advanced'::text WHEN uxp.total_xp < 25000 THEN 'Expert'::text ELSE 'Master'::text END AS level_name, rank() OVER (ORDER BY uxp.total_xp DESC) AS rank, dense_rank() OVER (ORDER BY uxp.total_xp DESC) AS dense_rank FROM user_profiles up JOIN user_xp_totals uxp ON uxp.user_id = up.id WHERE up.leaderboard_visible = true AND uxp.total_xp > 0 ) SELECT user_id, full_name, avatar_url, total_xp, level, level_name, rank, dense_rank, total_xp - lag(total_xp) OVER (ORDER BY rank DESC) AS xp_diff_from_above, lead(total_xp) OVER (ORDER BY rank DESC) - total_xp AS xp_to_next_rank FROM ranked_users ORDER BY rank",
      "materialized": false
    },
    "public.leaderboard_by_course": {
      "name": "leaderboard_by_course",
      "schema": "public",
      "columns": {
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "course_title": {
          "name": "course_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "course_xp": {
          "name": "course_xp",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "completion_percentage": {
          "name": "completion_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "modules_completed": {
          "name": "modules_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_modules": {
          "name": "total_modules",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "rank": {
          "name": "rank",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_students": {
          "name": "total_students",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "percentile": {
          "name": "percentile",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "WITH ranked_students AS ( SELECT e.course_id, c.title AS course_title, up.id AS user_id, up.full_name, up.avatar_url, uxp.total_xp AS course_xp, e.completion_percentage, 0 AS modules_completed, 0 AS total_modules, rank() OVER (PARTITION BY e.course_id ORDER BY uxp.total_xp DESC) AS rank, count(*) OVER (PARTITION BY e.course_id) AS total_students FROM student_enrollments e JOIN user_profiles up ON up.id = e.user_id JOIN courses c ON c.id = e.course_id JOIN user_xp_totals uxp ON uxp.user_id = e.user_id WHERE up.leaderboard_visible = true AND (e.status = ANY (ARRAY['active'::text, 'completed'::text])) AND uxp.total_xp > 0 ) SELECT course_id, course_title, user_id, full_name, avatar_url, course_xp, completion_percentage, modules_completed, total_modules, rank, total_students, round((1::numeric - rank::numeric / total_students::numeric) * 100::numeric, 1) AS percentile FROM ranked_students ORDER BY course_id, rank",
      "materialized": false
    },
    "public.leaderboard_by_cohort": {
      "name": "leaderboard_by_cohort",
      "schema": "public",
      "columns": {
        "course_id": {
          "name": "course_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "course_title": {
          "name": "course_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cohort_month": {
          "name": "cohort_month",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cohort_name": {
          "name": "cohort_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_xp": {
          "name": "total_xp",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "completion_percentage": {
          "name": "completion_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "enrolled_at": {
          "name": "enrolled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rank": {
          "name": "rank",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "cohort_size": {
          "name": "cohort_size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "cohort_percentile": {
          "name": "cohort_percentile",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "WITH cohorts AS ( SELECT e.course_id, c.title AS course_title, date_trunc('month'::text, e.enrolled_at) AS cohort_month, to_char(e.enrolled_at, 'Month YYYY'::text) AS cohort_name, up.id AS user_id, up.full_name, up.avatar_url, uxp.total_xp, e.completion_percentage, e.enrolled_at FROM student_enrollments e JOIN user_profiles up ON up.id = e.user_id JOIN courses c ON c.id = e.course_id JOIN user_xp_totals uxp ON uxp.user_id = up.id WHERE up.leaderboard_visible = true AND (e.status = ANY (ARRAY['active'::text, 'completed'::text])) ), ranked_cohorts AS ( SELECT cohorts.course_id, cohorts.course_title, cohorts.cohort_month, cohorts.cohort_name, cohorts.user_id, cohorts.full_name, cohorts.avatar_url, cohorts.total_xp, cohorts.completion_percentage, cohorts.enrolled_at, rank() OVER (PARTITION BY cohorts.course_id, cohorts.cohort_month ORDER BY cohorts.total_xp DESC) AS rank, count(*) OVER (PARTITION BY cohorts.course_id, cohorts.cohort_month) AS cohort_size FROM cohorts ) SELECT course_id, course_title, cohort_month, cohort_name, user_id, full_name, avatar_url, total_xp, completion_percentage, enrolled_at, rank, cohort_size, round((1::numeric - rank::numeric / cohort_size::numeric) * 100::numeric, 1) AS cohort_percentile FROM ranked_cohorts ORDER BY cohort_month DESC, rank",
      "materialized": false
    },
    "public.leaderboard_weekly": {
      "name": "leaderboard_weekly",
      "schema": "public",
      "columns": {
        "week_start": {
          "name": "week_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "week_label": {
          "name": "week_label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "weekly_xp": {
          "name": "weekly_xp",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "rank": {
          "name": "rank",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "participants": {
          "name": "participants",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "is_current_week": {
          "name": "is_current_week",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "WITH weekly_xp AS ( SELECT xt.user_id, up.full_name, up.avatar_url, date_trunc('week'::text, xt.created_at) AS week_start, to_char(date_trunc('week'::text, xt.created_at), 'Mon DD, YYYY'::text) AS week_label, sum(xt.amount) AS weekly_xp FROM xp_transactions xt JOIN user_profiles up ON up.id = xt.user_id WHERE up.leaderboard_visible = true AND xt.created_at >= (CURRENT_DATE - '84 days'::interval) GROUP BY xt.user_id, up.full_name, up.avatar_url, (date_trunc('week'::text, xt.created_at)) ), ranked_weekly AS ( SELECT weekly_xp.week_start, weekly_xp.week_label, weekly_xp.user_id, weekly_xp.full_name, weekly_xp.avatar_url, weekly_xp.weekly_xp, rank() OVER (PARTITION BY weekly_xp.week_start ORDER BY weekly_xp.weekly_xp DESC) AS rank, count(*) OVER (PARTITION BY weekly_xp.week_start) AS participants FROM weekly_xp WHERE weekly_xp.weekly_xp > 0 ) SELECT week_start, week_label, user_id, full_name, avatar_url, weekly_xp, rank, participants, CASE WHEN week_start = date_trunc('week'::text, CURRENT_DATE::timestamp with time zone) THEN true ELSE false END AS is_current_week FROM ranked_weekly ORDER BY week_start DESC, rank",
      "materialized": false
    },
    "public.leaderboard_all_time": {
      "name": "leaderboard_all_time",
      "schema": "public",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "total_xp": {
          "name": "total_xp",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "level": {
          "name": "level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "level_name": {
          "name": "level_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "badge_count": {
          "name": "badge_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "courses_completed": {
          "name": "courses_completed",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "days_active": {
          "name": "days_active",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "rank": {
          "name": "rank",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_xp_per_day": {
          "name": "avg_xp_per_day",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "WITH all_time_stats AS ( SELECT up.id AS user_id, up.full_name, up.avatar_url, up.created_at AS joined_at, uxp.total_xp, floor((uxp.total_xp / 1000)::double precision)::integer + 1 AS level, CASE WHEN uxp.total_xp < 1000 THEN 'Beginner'::text WHEN uxp.total_xp < 5000 THEN 'Intermediate'::text WHEN uxp.total_xp < 10000 THEN 'Advanced'::text WHEN uxp.total_xp < 25000 THEN 'Expert'::text ELSE 'Master'::text END AS level_name, ( SELECT count(*) AS count FROM user_badges WHERE user_badges.user_id = up.id) AS badge_count, ( SELECT count(*) AS count FROM student_enrollments WHERE student_enrollments.user_id = up.id AND student_enrollments.status = 'completed'::text) AS courses_completed, (CURRENT_DATE - up.created_at::date)::numeric AS days_active FROM user_profiles up JOIN user_xp_totals uxp ON uxp.user_id = up.id WHERE up.leaderboard_visible = true AND uxp.total_xp > 0 ), ranked_all_time AS ( SELECT all_time_stats.user_id, all_time_stats.full_name, all_time_stats.avatar_url, all_time_stats.joined_at, all_time_stats.total_xp, all_time_stats.level, all_time_stats.level_name, all_time_stats.badge_count, all_time_stats.courses_completed, all_time_stats.days_active, rank() OVER (ORDER BY all_time_stats.total_xp DESC) AS rank, CASE WHEN all_time_stats.days_active > 0::numeric THEN round(all_time_stats.total_xp::numeric / all_time_stats.days_active, 2) ELSE 0::numeric END AS avg_xp_per_day FROM all_time_stats ) SELECT user_id, full_name, avatar_url, joined_at, total_xp, level, level_name, badge_count, courses_completed, days_active, rank, avg_xp_per_day FROM ranked_all_time WHERE rank <= 100 ORDER BY rank",
      "materialized": false
    },
    "public.badge_leaderboard": {
      "name": "badge_leaderboard",
      "schema": "public",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "badge_count": {
          "name": "badge_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "rarity_score": {
          "name": "rarity_score",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "badge_xp_earned": {
          "name": "badge_xp_earned",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "recent_badges": {
          "name": "recent_badges",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "WITH top_users AS ( SELECT u.id, u.full_name, u.avatar_url, count(ub_1.id) AS badge_count, sum( CASE b_1.rarity WHEN 'legendary'::text THEN 4 WHEN 'epic'::text THEN 3 WHEN 'rare'::text THEN 2 WHEN 'common'::text THEN 1 ELSE 0 END) AS rarity_score, sum(b_1.xp_reward) AS badge_xp_earned FROM user_profiles u LEFT JOIN user_badges ub_1 ON ub_1.user_id = u.id LEFT JOIN badges b_1 ON b_1.id = ub_1.badge_id GROUP BY u.id, u.full_name, u.avatar_url ORDER BY (count(ub_1.id)) DESC, (sum( CASE b_1.rarity WHEN 'legendary'::text THEN 4 WHEN 'epic'::text THEN 3 WHEN 'rare'::text THEN 2 WHEN 'common'::text THEN 1 ELSE 0 END)) DESC LIMIT 100 ) SELECT tu.id AS user_id, tu.full_name, tu.avatar_url, tu.badge_count, tu.rarity_score, tu.badge_xp_earned, COALESCE(jsonb_agg(jsonb_build_object('badge_id', b.id, 'name', b.name, 'rarity', b.rarity, 'earned_at', ub.earned_at) ORDER BY ub.earned_at DESC) FILTER (WHERE ub.id IS NOT NULL), '[]'::jsonb) AS recent_badges FROM top_users tu LEFT JOIN user_badges ub ON ub.user_id = tu.id LEFT JOIN badges b ON b.id = ub.badge_id GROUP BY tu.id, tu.full_name, tu.avatar_url, tu.badge_count, tu.rarity_score, tu.badge_xp_earned ORDER BY tu.badge_count DESC, tu.rarity_score DESC",
      "materialized": false
    },
    "public.organization_addresses_view": {
      "name": "organization_addresses_view",
      "schema": "public",
      "columns": {
        "organization_id": {
          "name": "organization_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "organization_name": {
          "name": "organization_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_id": {
          "name": "address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "address_type": {
          "name": "address_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line_1": {
          "name": "address_line_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line_2": {
          "name": "address_line_2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line_3": {
          "name": "address_line_3",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state_province": {
          "name": "state_province",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code": {
          "name": "postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country_code": {
          "name": "country_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "county": {
          "name": "county",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "latitude": {
          "name": "latitude",
          "type": "numeric(10, 7)",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "numeric(10, 7)",
          "primaryKey": false,
          "notNull": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "effective_from": {
          "name": "effective_from",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "effective_to": {
          "name": "effective_to",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT o.id AS organization_id, o.name AS organization_name, addr.id AS address_id, addr.address_type, addr.address_line_1, addr.address_line_2, addr.address_line_3, addr.city, addr.state_province, addr.postal_code, addr.country_code, addr.county, addr.latitude, addr.longitude, addr.is_verified, addr.is_primary, addr.effective_from, addr.effective_to, addr.notes, addr.created_at, addr.updated_at FROM organizations o LEFT JOIN addresses addr ON addr.entity_type = 'organization'::text AND addr.entity_id = o.id",
      "materialized": false
    },
    "public.lead_addresses_view": {
      "name": "lead_addresses_view",
      "schema": "public",
      "columns": {
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_id": {
          "name": "address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "address_type": {
          "name": "address_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line_1": {
          "name": "address_line_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line_2": {
          "name": "address_line_2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line_3": {
          "name": "address_line_3",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state_province": {
          "name": "state_province",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code": {
          "name": "postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country_code": {
          "name": "country_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "county": {
          "name": "county",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "latitude": {
          "name": "latitude",
          "type": "numeric(10, 7)",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "numeric(10, 7)",
          "primaryKey": false,
          "notNull": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "effective_from": {
          "name": "effective_from",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "effective_to": {
          "name": "effective_to",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT l.id AS lead_id, l.org_id, l.company_name, l.first_name, l.last_name, addr.id AS address_id, addr.address_type, addr.address_line_1, addr.address_line_2, addr.address_line_3, addr.city, addr.state_province, addr.postal_code, addr.country_code, addr.county, addr.latitude, addr.longitude, addr.is_verified, addr.is_primary, addr.effective_from, addr.effective_to, addr.notes, addr.created_at, addr.updated_at FROM leads l LEFT JOIN addresses addr ON addr.entity_type = 'lead'::text AND addr.entity_id = l.id",
      "materialized": false
    },
    "public.employee_addresses_view": {
      "name": "employee_addresses_view",
      "schema": "public",
      "columns": {
        "employee_id": {
          "name": "employee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "employee_name": {
          "name": "employee_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_id": {
          "name": "address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "address_type": {
          "name": "address_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line_1": {
          "name": "address_line_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state_province": {
          "name": "state_province",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code": {
          "name": "postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country_code": {
          "name": "country_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT e.id AS employee_id, e.org_id, up.full_name AS employee_name, up.email, addr.id AS address_id, addr.address_type, addr.address_line_1, addr.city, addr.state_province, addr.postal_code, addr.country_code, addr.is_primary, addr.created_at, addr.updated_at FROM employees e LEFT JOIN user_profiles up ON up.id = e.user_id LEFT JOIN addresses addr ON addr.entity_type = 'employee'::text AND addr.entity_id = e.id WHERE e.deleted_at IS NULL",
      "materialized": false
    },
    "public.interview_addresses_view": {
      "name": "interview_addresses_view",
      "schema": "public",
      "columns": {
        "interview_id": {
          "name": "interview_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "interview_type": {
          "name": "interview_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "address_id": {
          "name": "address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "address_type": {
          "name": "address_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line_1": {
          "name": "address_line_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state_province": {
          "name": "state_province",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_notes": {
          "name": "address_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT i.id AS interview_id, i.org_id, i.interview_type, i.scheduled_at, addr.id AS address_id, addr.address_type, addr.address_line_1, addr.city, addr.state_province, addr.notes AS address_notes, addr.is_primary FROM interviews i LEFT JOIN addresses addr ON addr.entity_type = 'interview'::text AND addr.entity_id = i.id WHERE i.cancelled_at IS NULL",
      "materialized": false
    },
    "public.contact_addresses_view": {
      "name": "contact_addresses_view",
      "schema": "public",
      "columns": {
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_id": {
          "name": "address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "address_type": {
          "name": "address_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line_1": {
          "name": "address_line_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state_province": {
          "name": "state_province",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code": {
          "name": "postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country_code": {
          "name": "country_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT c.id AS contact_id, c.org_id, c.first_name, c.last_name, c.email, addr.id AS address_id, addr.address_type, addr.address_line_1, addr.city, addr.state_province, addr.postal_code, addr.country_code, addr.is_primary, addr.created_at, addr.updated_at FROM contacts c LEFT JOIN addresses addr ON addr.entity_type = 'contact'::text AND addr.entity_id = c.id WHERE c.deleted_at IS NULL",
      "materialized": false
    },
    "public.placement_addresses_view": {
      "name": "placement_addresses_view",
      "schema": "public",
      "columns": {
        "placement_id": {
          "name": "placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "placement_status": {
          "name": "placement_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "address_id": {
          "name": "address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "address_type": {
          "name": "address_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line_1": {
          "name": "address_line_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state_province": {
          "name": "state_province",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_notes": {
          "name": "address_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT p.id AS placement_id, p.org_id, p.status AS placement_status, p.start_date, addr.id AS address_id, addr.address_type, addr.address_line_1, addr.city, addr.state_province, addr.notes AS address_notes, addr.is_primary FROM placements p LEFT JOIN addresses addr ON addr.entity_type = 'placement'::text AND addr.entity_id = p.id",
      "materialized": false
    },
    "public.lab_statistics": {
      "name": "lab_statistics",
      "schema": "public",
      "columns": {
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "lab_title": {
          "name": "lab_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_students_started": {
          "name": "total_students_started",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_students_submitted": {
          "name": "total_students_submitted",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_passed": {
          "name": "total_passed",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_failed": {
          "name": "total_failed",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_final_score": {
          "name": "avg_final_score",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "avg_time_spent_seconds": {
          "name": "avg_time_spent_seconds",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT mt.id AS topic_id, mt.title AS lab_title, count(DISTINCT li.user_id) AS total_students_started, count(DISTINCT ls.user_id) AS total_students_submitted, count(ls.id) FILTER (WHERE ls.passed = true) AS total_passed, count(ls.id) FILTER (WHERE ls.passed = false) AS total_failed, avg(ls.final_score) AS avg_final_score, avg(li.time_spent_seconds) FILTER (WHERE li.status = 'completed'::text) AS avg_time_spent_seconds FROM module_topics mt LEFT JOIN lab_instances li ON li.topic_id = mt.id LEFT JOIN lab_submissions ls ON ls.topic_id = mt.id WHERE mt.content_type = 'lab'::text GROUP BY mt.id, mt.title",
      "materialized": false
    },
    "public.escalation_daily_stats": {
      "name": "escalation_daily_stats",
      "schema": "public",
      "columns": {
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "total_escalations": {
          "name": "total_escalations",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "unique_students": {
          "name": "unique_students",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "auto_detected_count": {
          "name": "auto_detected_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "manual_count": {
          "name": "manual_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_confidence": {
          "name": "avg_confidence",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_count": {
          "name": "resolved_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "dismissed_count": {
          "name": "dismissed_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_resolution_time_minutes": {
          "name": "avg_resolution_time_minutes",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT date(created_at) AS date, count(*) AS total_escalations, count(DISTINCT user_id) AS unique_students, count(*) FILTER (WHERE auto_detected = true) AS auto_detected_count, count(*) FILTER (WHERE auto_detected = false) AS manual_count, avg(confidence) AS avg_confidence, count(*) FILTER (WHERE status = 'resolved'::text) AS resolved_count, count(*) FILTER (WHERE status = 'dismissed'::text) AS dismissed_count, avg(resolution_time_minutes) FILTER (WHERE resolution_time_minutes IS NOT NULL) AS avg_resolution_time_minutes FROM ai_mentor_escalations GROUP BY (date(created_at)) ORDER BY (date(created_at)) DESC",
      "materialized": false
    },
    "public.trainer_escalation_stats": {
      "name": "trainer_escalation_stats",
      "schema": "public",
      "columns": {
        "trainer_id": {
          "name": "trainer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "trainer_name": {
          "name": "trainer_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_assigned": {
          "name": "total_assigned",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_count": {
          "name": "resolved_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "dismissed_count": {
          "name": "dismissed_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_resolution_time_minutes": {
          "name": "avg_resolution_time_minutes",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "total_responses": {
          "name": "total_responses",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "last_resolution_at": {
          "name": "last_resolution_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT t.id AS trainer_id, t.full_name AS trainer_name, count(e.id) AS total_assigned, count(*) FILTER (WHERE e.status = 'resolved'::text) AS resolved_count, count(*) FILTER (WHERE e.status = 'dismissed'::text) AS dismissed_count, avg(e.resolution_time_minutes) FILTER (WHERE e.resolution_time_minutes IS NOT NULL) AS avg_resolution_time_minutes, count(tr.id) AS total_responses, max(e.resolved_at) AS last_resolution_at FROM user_profiles t JOIN user_roles ur ON ur.user_id = t.id JOIN roles r ON r.id = ur.role_id LEFT JOIN ai_mentor_escalations e ON e.assigned_to = t.id LEFT JOIN trainer_responses tr ON tr.trainer_id = t.id WHERE r.name = 'trainer'::text GROUP BY t.id, t.full_name",
      "materialized": false
    },
    "public.topic_difficulty_stats": {
      "name": "topic_difficulty_stats",
      "schema": "public",
      "columns": {
        "topic_id": {
          "name": "topic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "topic_title": {
          "name": "topic_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "module_title": {
          "name": "module_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "course_title": {
          "name": "course_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "escalation_count": {
          "name": "escalation_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "unique_students": {
          "name": "unique_students",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "avg_escalation_confidence": {
          "name": "avg_escalation_confidence",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_count": {
          "name": "resolved_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT mt.id AS topic_id, mt.title AS topic_title, cm.title AS module_title, c.title AS course_title, count(e.id) AS escalation_count, count(DISTINCT e.user_id) AS unique_students, avg(e.confidence) AS avg_escalation_confidence, count(*) FILTER (WHERE e.status = 'resolved'::text) AS resolved_count FROM module_topics mt JOIN course_modules cm ON cm.id = mt.module_id JOIN courses c ON c.id = cm.course_id LEFT JOIN ai_mentor_escalations e ON e.topic_id = mt.id GROUP BY mt.id, mt.title, cm.title, c.title HAVING count(e.id) > 0 ORDER BY (count(e.id)) DESC",
      "materialized": false
    },
    "public.submissions_legacy_v": {
      "name": "submissions_legacy_v",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_match_score": {
          "name": "ai_match_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "recruiter_match_score": {
          "name": "recruiter_match_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "match_explanation": {
          "name": "match_explanation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_rate": {
          "name": "submitted_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_rate_type": {
          "name": "submitted_rate_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submission_notes": {
          "name": "submission_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_to_client_at": {
          "name": "submitted_to_client_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_to_client_by": {
          "name": "submitted_to_client_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_resume_file_id": {
          "name": "client_resume_file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_profile_url": {
          "name": "client_profile_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "interview_count": {
          "name": "interview_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_interview_date": {
          "name": "last_interview_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "interview_feedback": {
          "name": "interview_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_extended_at": {
          "name": "offer_extended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "offer_accepted_at": {
          "name": "offer_accepted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "offer_declined_at": {
          "name": "offer_declined_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "offer_decline_reason": {
          "name": "offer_decline_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rejected_at": {
          "name": "rejected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_source": {
          "name": "rejection_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_id": {
          "name": "owner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_submitted_at": {
          "name": "vendor_submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_submitted_by": {
          "name": "vendor_submitted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_decision": {
          "name": "vendor_decision",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_decision_at": {
          "name": "vendor_decision_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_decision_by": {
          "name": "vendor_decision_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_notes": {
          "name": "vendor_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_screening_notes": {
          "name": "vendor_screening_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_screening_completed_at": {
          "name": "vendor_screening_completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "client_decision": {
          "name": "client_decision",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_decision_at": {
          "name": "client_decision_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "client_decision_notes": {
          "name": "client_decision_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_id": {
          "name": "offer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "placement_id": {
          "name": "placement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by_company_id": {
          "name": "submitted_by_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by_contact_id": {
          "name": "submitted_by_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_vendor_submission": {
          "name": "is_vendor_submission",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "rtr_obtained": {
          "name": "rtr_obtained",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "rtr_obtained_at": {
          "name": "rtr_obtained_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rtr_expires_at": {
          "name": "rtr_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rtr_document_id": {
          "name": "rtr_document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_card_id": {
          "name": "rate_card_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_card_item_id": {
          "name": "rate_card_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "negotiated_bill_rate": {
          "name": "negotiated_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "negotiated_pay_rate": {
          "name": "negotiated_pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "rate_negotiation_notes": {
          "name": "rate_negotiation_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status_entered_at": {
          "name": "status_entered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expected_decision_date": {
          "name": "expected_decision_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "submission_score": {
          "name": "submission_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "score_breakdown": {
          "name": "score_breakdown",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "rank_among_submissions": {
          "name": "rank_among_submissions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_duplicate": {
          "name": "is_duplicate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "duplicate_of_submission_id": {
          "name": "duplicate_of_submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "unified_contact_id": {
          "name": "unified_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "legacy_candidate_id": {
          "name": "legacy_candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT id, org_id, job_id, candidate_id, account_id, status, ai_match_score, recruiter_match_score, match_explanation, submitted_rate, submitted_rate_type, submission_notes, submitted_to_client_at, submitted_to_client_by, client_resume_file_id, client_profile_url, interview_count, last_interview_date, interview_feedback, offer_extended_at, offer_accepted_at, offer_declined_at, offer_decline_reason, rejected_at, rejection_reason, rejection_source, owner_id, created_at, updated_at, created_by, deleted_at, vendor_submitted_at, vendor_submitted_by, vendor_decision, vendor_decision_at, vendor_decision_by, vendor_notes, vendor_screening_notes, vendor_screening_completed_at, client_decision, client_decision_at, client_decision_notes, offer_id, placement_id, contact_id, company_id, submitted_by_company_id, submitted_by_contact_id, is_vendor_submission, rtr_obtained, rtr_obtained_at, rtr_expires_at, rtr_document_id, rate_card_id, rate_card_item_id, negotiated_bill_rate, negotiated_pay_rate, rate_negotiation_notes, status_entered_at, expected_decision_date, submission_score, score_breakdown, rank_among_submissions, is_duplicate, duplicate_of_submission_id, COALESCE(contact_id, candidate_id) AS unified_contact_id, candidate_id AS legacy_candidate_id FROM submissions s",
      "materialized": false
    },
    "public.campaign_prospects_view": {
      "name": "campaign_prospects_view",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "lead_id": {
          "name": "lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "linkedin_url": {
          "name": "linkedin_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_industry": {
          "name": "company_industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_size": {
          "name": "company_size",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_channel": {
          "name": "primary_channel",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sequence_step": {
          "name": "sequence_step",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sequence_status": {
          "name": "sequence_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stop_reason": {
          "name": "stop_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_contacted_at": {
          "name": "first_contacted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_contacted_at": {
          "name": "last_contacted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "opened_at": {
          "name": "opened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "clicked_at": {
          "name": "clicked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "responded_at": {
          "name": "responded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "response_type": {
          "name": "response_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "response_text": {
          "name": "response_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "converted_to_lead_at": {
          "name": "converted_to_lead_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "converted_lead_id": {
          "name": "converted_lead_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "meeting_booked_at": {
          "name": "meeting_booked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "meeting_scheduled_for": {
          "name": "meeting_scheduled_for",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "engagement_score": {
          "name": "engagement_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT ce.id, ce.org_id, ce.campaign_id, NULL::uuid AS lead_id, c.first_name, c.last_name, c.email, c.phone, c.linkedin_url, c.company_name, NULL::text AS company_industry, NULL::text AS company_size, c.title, NULL::text AS location, c.timezone, ce.primary_channel, ce.sequence_step, ce.sequence_status, ce.stop_reason, ce.first_contacted_at, ce.last_contacted_at, ce.opened_at, ce.clicked_at, ce.responded_at, ce.response_type, ce.response_text, ce.converted_to_lead_at, ce.converted_lead_id, ce.meeting_booked_at, ce.meeting_scheduled_for, ce.engagement_score, ce.status, ce.created_at, ce.updated_at, ce.contact_id FROM campaign_enrollments ce JOIN contacts c ON c.id = ce.contact_id AND c.deleted_at IS NULL",
      "materialized": false
    },
    "public.legacy_compliance_requirements_view": {
      "name": "legacy_compliance_requirements_view",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "jurisdiction": {
          "name": "jurisdiction",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "applies_to": {
          "name": "applies_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "frequency": {
          "name": "frequency",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_template_url": {
          "name": "document_template_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT id, org_id, requirement_name AS name, category::text AS type, jurisdiction, 'all'::text AS applies_to, CASE WHEN validity_period_days IS NULL THEN 'once'::text WHEN validity_period_days <= 365 THEN 'annual'::text ELSE 'once'::text END AS frequency, description, NULL::text AS document_template_url, is_active, created_at, updated_at, created_by FROM compliance_requirements WHERE deleted_at IS NULL",
      "materialized": false
    },
    "public.contact_compliance_legacy": {
      "name": "contact_compliance_legacy",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_type": {
          "name": "compliance_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_url": {
          "name": "document_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "document_received_at": {
          "name": "document_received_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "verified_by": {
          "name": "verified_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "verification_notes": {
          "name": "verification_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "policy_number": {
          "name": "policy_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "coverage_amount": {
          "name": "coverage_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "insurance_carrier": {
          "name": "insurance_carrier",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_alert_sent_at": {
          "name": "expiry_alert_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT ci.id, ci.org_id, ci.entity_id AS contact_id, COALESCE(ci.compliance_type, cr.category) AS compliance_type, CASE ci.status::text WHEN 'pending'::text THEN 'pending'::text WHEN 'received'::text THEN 'received'::text WHEN 'under_review'::text THEN 'received'::text WHEN 'verified'::text THEN 'verified'::text WHEN 'expiring'::text THEN 'expiring'::text WHEN 'expired'::text THEN 'expired'::text WHEN 'rejected'::text THEN 'rejected'::text WHEN 'waived'::text THEN 'verified'::text ELSE 'pending'::text END AS status, ci.document_url, ci.document_received_at, ci.effective_date, ci.expiry_date, ci.verified_by, ci.verified_at, ci.verification_notes, ci.policy_number, ci.coverage_amount, ci.insurance_carrier, ci.expiry_alert_sent_at, ci.created_at, ci.updated_at, ci.deleted_at FROM compliance_items ci LEFT JOIN compliance_requirements cr ON cr.id = ci.requirement_id WHERE ci.entity_type::text = 'contact'::text",
      "materialized": false
    },
    "public.contact_agreements_legacy": {
      "name": "contact_agreements_legacy",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "agreement_type": {
          "name": "agreement_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "agreement_name": {
          "name": "agreement_name",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": false
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "auto_renew": {
          "name": "auto_renew",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "renewal_notice_days": {
          "name": "renewal_notice_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_url": {
          "name": "document_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "signed_document_url": {
          "name": "signed_document_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "our_signer_id": {
          "name": "our_signer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "our_signed_at": {
          "name": "our_signed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "their_signer_name": {
          "name": "their_signer_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "their_signed_at": {
          "name": "their_signed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "terms": {
          "name": "terms",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT id, org_id, entity_id AS contact_id, CASE contract_type::text WHEN 'msa'::text THEN 'msa'::text WHEN 'nda'::text THEN 'nda'::text WHEN 'sow'::text THEN 'sow'::text WHEN 'rate_card_agreement'::text THEN 'rate_card'::text WHEN 'sla'::text THEN 'sla'::text WHEN 'vendor_agreement'::text THEN 'vendor_agreement'::text ELSE 'other'::text END AS agreement_type, contract_name AS agreement_name, effective_date, expiry_date, auto_renew, renewal_notice_days, CASE status::text WHEN 'draft'::text THEN 'draft'::text WHEN 'pending_review'::text THEN 'pending'::text WHEN 'pending_signature'::text THEN 'pending'::text WHEN 'partially_signed'::text THEN 'pending'::text WHEN 'active'::text THEN 'active'::text WHEN 'expired'::text THEN 'expired'::text WHEN 'terminated'::text THEN 'terminated'::text WHEN 'renewed'::text THEN 'active'::text WHEN 'superseded'::text THEN 'expired'::text ELSE 'draft'::text END AS status, document_url, signed_document_url, ( SELECT cp.user_id FROM contract_parties cp WHERE cp.contract_id = c.id AND cp.party_type::text = 'internal'::text AND cp.is_required = true LIMIT 1) AS our_signer_id, ( SELECT cp.signed_at FROM contract_parties cp WHERE cp.contract_id = c.id AND cp.party_type::text = 'internal'::text AND cp.is_required = true AND cp.signatory_status = 'signed'::signatory_status LIMIT 1) AS our_signed_at, ( SELECT COALESCE(cp.party_name, concat_ws(' '::text, ct.first_name, ct.last_name)::character varying) AS \"coalesce\" FROM contract_parties cp LEFT JOIN contacts ct ON ct.id = cp.contact_id WHERE cp.contract_id = c.id AND cp.party_type::text <> 'internal'::text AND cp.is_required = true LIMIT 1) AS their_signer_name, ( SELECT cp.signed_at FROM contract_parties cp WHERE cp.contract_id = c.id AND cp.party_type::text <> 'internal'::text AND cp.is_required = true AND cp.signatory_status = 'signed'::signatory_status LIMIT 1) AS their_signed_at, terms, created_at, updated_at, deleted_at FROM contracts c WHERE entity_type::text = 'contact'::text",
      "materialized": false
    },
    "public.contact_rate_cards_legacy": {
      "name": "contact_rate_cards_legacy",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "skill_id": {
          "name": "skill_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "bill_rate_hourly": {
          "name": "bill_rate_hourly",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "pay_rate_hourly": {
          "name": "pay_rate_hourly",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "markup_percentage": {
          "name": "markup_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "overtime_multiplier": {
          "name": "overtime_multiplier",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT id, org_id, entity_id AS contact_id, context_client_id AS client_id, NULL::uuid AS skill_id, context_job_id AS job_id, bill_rate AS bill_rate_hourly, pay_rate AS pay_rate_hourly, markup_percentage, CASE WHEN pay_rate > 0::numeric AND ot_pay_rate IS NOT NULL THEN round(ot_pay_rate / pay_rate, 2) ELSE 1.5 END AS overtime_multiplier, effective_date, end_date AS expiry_date, is_current AS is_active, approved_by, approved_at, negotiation_notes AS notes, created_at, updated_at, deleted_at FROM entity_rates er WHERE entity_type::text = 'contact'::text",
      "materialized": false
    },
    "public.placements_extended_v": {
      "name": "placements_extended_v",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "submission_id": {
          "name": "submission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "offer_id": {
          "name": "offer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_id": {
          "name": "candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "placement_type": {
          "name": "placement_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "bill_rate": {
          "name": "bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "pay_rate": {
          "name": "pay_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "markup_percentage": {
          "name": "markup_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "end_reason": {
          "name": "end_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actual_end_date": {
          "name": "actual_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "total_revenue": {
          "name": "total_revenue",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_paid": {
          "name": "total_paid",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "onboarding_status": {
          "name": "onboarding_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "onboarding_completed_at": {
          "name": "onboarding_completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "performance_rating": {
          "name": "performance_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "extension_count": {
          "name": "extension_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "recruiter_id": {
          "name": "recruiter_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "account_manager_id": {
          "name": "account_manager_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "health_status": {
          "name": "health_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "next_check_in_date": {
          "name": "next_check_in_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "last_check_in_date": {
          "name": "last_check_in_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "last_check_in_by": {
          "name": "last_check_in_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_type": {
          "name": "rate_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "employment_type": {
          "name": "employment_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "work_location": {
          "name": "work_location",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "work_schedule": {
          "name": "work_schedule",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "onboarding_format": {
          "name": "onboarding_format",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "first_day_meeting_link": {
          "name": "first_day_meeting_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_day_location": {
          "name": "first_day_location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hiring_manager_name": {
          "name": "hiring_manager_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "hiring_manager_email": {
          "name": "hiring_manager_email",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "hiring_manager_phone": {
          "name": "hiring_manager_phone",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": false
        },
        "hr_contact_name": {
          "name": "hr_contact_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "hr_contact_email": {
          "name": "hr_contact_email",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "paperwork_complete": {
          "name": "paperwork_complete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "background_check_status": {
          "name": "background_check_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "i9_complete": {
          "name": "i9_complete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "nda_signed": {
          "name": "nda_signed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "equipment_ordered": {
          "name": "equipment_ordered",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "equipment_notes": {
          "name": "equipment_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "internal_notes": {
          "name": "internal_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "billing_company_id": {
          "name": "billing_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "end_client_company_id": {
          "name": "end_client_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_company_id": {
          "name": "client_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_company_id": {
          "name": "vendor_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_manager_contact_id": {
          "name": "client_manager_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "hr_contact_id": {
          "name": "hr_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reporting_manager_contact_id": {
          "name": "reporting_manager_contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contract_id": {
          "name": "contract_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_card_id": {
          "name": "rate_card_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_card_item_id": {
          "name": "rate_card_item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "has_change_orders": {
          "name": "has_change_orders",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "active_change_order_id": {
          "name": "active_change_order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "change_order_count": {
          "name": "change_order_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "original_end_date": {
          "name": "original_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "original_bill_rate": {
          "name": "original_bill_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "approval_status": {
          "name": "approval_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expected_hours_per_week": {
          "name": "expected_hours_per_week",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "overtime_eligible": {
          "name": "overtime_eligible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "expenses_allowed": {
          "name": "expenses_allowed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "expense_budget": {
          "name": "expense_budget",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_status": {
          "name": "compliance_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_cleared_at": {
          "name": "compliance_cleared_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_expires_at": {
          "name": "compliance_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "work_arrangement": {
          "name": "work_arrangement",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "hybrid_days_per_week": {
          "name": "hybrid_days_per_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "work_address_id": {
          "name": "work_address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contact_name": {
          "name": "contact_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_email": {
          "name": "contact_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_company_name": {
          "name": "client_company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "end_client_company_name": {
          "name": "end_client_company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_company_name": {
          "name": "vendor_company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT p.id, p.org_id, p.submission_id, p.offer_id, p.job_id, p.candidate_id, p.placement_type, p.start_date, p.end_date, p.bill_rate, p.pay_rate, p.markup_percentage, p.status, p.end_reason, p.actual_end_date, p.total_revenue, p.total_paid, p.onboarding_status, p.onboarding_completed_at, p.performance_rating, p.extension_count, p.recruiter_id, p.account_manager_id, p.created_at, p.updated_at, p.created_by, p.health_status, p.next_check_in_date, p.last_check_in_date, p.last_check_in_by, p.rate_type, p.employment_type, p.work_location, p.work_schedule, p.timezone, p.onboarding_format, p.first_day_meeting_link, p.first_day_location, p.hiring_manager_name, p.hiring_manager_email, p.hiring_manager_phone, p.hr_contact_name, p.hr_contact_email, p.paperwork_complete, p.background_check_status, p.i9_complete, p.nda_signed, p.equipment_ordered, p.equipment_notes, p.internal_notes, p.deleted_at, p.contact_id, p.company_id, p.billing_company_id, p.end_client_company_id, p.client_company_id, p.vendor_company_id, p.client_manager_contact_id, p.hr_contact_id, p.reporting_manager_contact_id, p.contract_id, p.rate_card_id, p.rate_card_item_id, p.has_change_orders, p.active_change_order_id, p.change_order_count, p.original_end_date, p.original_bill_rate, p.approval_status, p.approved_by, p.approved_at, p.expected_hours_per_week, p.overtime_eligible, p.expenses_allowed, p.expense_budget, p.compliance_status, p.compliance_cleared_at, p.compliance_expires_at, p.work_arrangement, p.hybrid_days_per_week, p.work_address_id, COALESCE((c.first_name || ' '::text) || c.last_name, c.first_name, c.last_name) AS contact_name, c.email AS contact_email, cc.name AS client_company_name, ec.name AS end_client_company_name, vc.name AS vendor_company_name FROM placements p LEFT JOIN contacts c ON c.id = p.contact_id LEFT JOIN companies cc ON cc.id = p.client_company_id LEFT JOIN companies ec ON ec.id = p.end_client_company_id LEFT JOIN companies vc ON vc.id = p.vendor_company_id",
      "materialized": false
    },
    "public.deal_stages_history_legacy": {
      "name": "deal_stages_history_legacy",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "change_type": {
          "name": "change_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "field_name": {
          "name": "field_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "old_value": {
          "name": "old_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "new_value": {
          "name": "new_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "changed_by": {
          "name": "changed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "changed_at": {
          "name": "changed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT dsh.id, d.org_id, dsh.deal_id AS entity_id, 'deal'::text AS entity_type, 'stage_change'::text AS change_type, 'stage'::text AS field_name, to_jsonb(dsh.previous_stage) AS old_value, to_jsonb(dsh.stage) AS new_value, dsh.changed_by, dsh.entered_at AS changed_at, jsonb_build_object('duration_days', dsh.duration_days, 'notes', dsh.notes, 'reason', dsh.reason) AS metadata FROM deal_stages_history dsh LEFT JOIN deals d ON d.id = dsh.deal_id",
      "materialized": false
    },
    "public.unified_inbox": {
      "name": "unified_inbox",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "channel": {
          "name": "channel",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "direction": {
          "name": "direction",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "thread_id": {
          "name": "thread_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "parent_id": {
          "name": "parent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "thread_position": {
          "name": "thread_position",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "from_address": {
          "name": "from_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "from_name": {
          "name": "from_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "to_address": {
          "name": "to_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "to_name": {
          "name": "to_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cc_addresses": {
          "name": "cc_addresses",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "bcc_addresses": {
          "name": "bcc_addresses",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "body_text": {
          "name": "body_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "body_html": {
          "name": "body_html",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "preview": {
          "name": "preview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_entity_type": {
          "name": "secondary_entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_entity_id": {
          "name": "secondary_entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "provider_message_id": {
          "name": "provider_message_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider_thread_id": {
          "name": "provider_thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "opened_at": {
          "name": "opened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "clicked_at": {
          "name": "clicked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "replied_at": {
          "name": "replied_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "open_count": {
          "name": "open_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "click_count": {
          "name": "click_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reply_count": {
          "name": "reply_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "clicked_links": {
          "name": "clicked_links",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "sequence_step_id": {
          "name": "sequence_step_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "ab_variant": {
          "name": "ab_variant",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "template_name": {
          "name": "template_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "template_variables": {
          "name": "template_variables",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "contact_first_name": {
          "name": "contact_first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_last_name": {
          "name": "contact_last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_email": {
          "name": "contact_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_company": {
          "name": "contact_company",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "thread_count": {
          "name": "thread_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "thread_updated_at": {
          "name": "thread_updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT c.id, c.org_id, c.channel, c.direction, c.thread_id, c.parent_id, c.thread_position, c.from_address, c.from_name, c.to_address, c.to_name, c.cc_addresses, c.bcc_addresses, c.subject, c.body_text, c.body_html, c.preview, c.attachments, c.entity_type, c.entity_id, c.secondary_entity_type, c.secondary_entity_id, c.contact_id, c.provider, c.provider_message_id, c.provider_thread_id, c.status, c.scheduled_at, c.sent_at, c.delivered_at, c.opened_at, c.clicked_at, c.replied_at, c.failed_at, c.open_count, c.click_count, c.reply_count, c.clicked_links, c.error_code, c.error_message, c.retry_count, c.max_retries, c.campaign_id, c.sequence_step_id, c.ab_variant, c.template_id, c.template_name, c.template_variables, c.metadata, c.tags, c.created_by, c.created_at, c.updated_at, ct.first_name AS contact_first_name, ct.last_name AS contact_last_name, ct.email AS contact_email, ct.company_name AS contact_company, CASE WHEN c.thread_id IS NOT NULL THEN ( SELECT count(*) AS count FROM communications WHERE communications.thread_id = c.thread_id) ELSE 1::bigint END AS thread_count, CASE WHEN c.thread_id IS NOT NULL THEN ( SELECT max(communications.created_at) AS max FROM communications WHERE communications.thread_id = c.thread_id) ELSE c.created_at END AS thread_updated_at FROM communications c LEFT JOIN contacts ct ON c.contact_id = ct.id",
      "materialized": false
    }
  },
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {
      "leads": {
        "columns": {
          "skills_needed": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "contract_types": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "generated_resumes": {
        "columns": {
          "ats_keywords": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "requisition_embeddings": {
        "columns": {
          "required_skills": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "nice_to_have_skills": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "resume_matches": {
        "columns": {
          "skills_matched": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "skills_missing": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "candidate_embeddings": {
        "columns": {
          "skills": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "project_timeline": {
        "columns": {
          "related_commits": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "related_prs": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "related_docs": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "tags": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "key_learnings": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "courses": {
        "columns": {
          "prerequisite_course_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "course_modules": {
        "columns": {
          "prerequisite_module_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "module_topics": {
        "columns": {
          "prerequisite_topic_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "student_progress": {
        "columns": {
          "completed_modules": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "struggle_areas": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "resume_versions": {
        "columns": {
          "keyword_matches": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "lab_templates": {
        "columns": {
          "required_skills": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "twin_events": {
        "columns": {
          "expires_at": {
            "isDefaultAnExpression": true
          }
        }
      },
      "org_context_cache": {
        "columns": {
          "expires_at": {
            "isDefaultAnExpression": true
          }
        }
      },
      "ai_mentor_rate_limits": {
        "columns": {
          "hourly_reset_at": {
            "isDefaultAnExpression": true
          },
          "daily_reset_at": {
            "isDefaultAnExpression": true
          },
          "monthly_reset_at": {
            "isDefaultAnExpression": true
          }
        }
      },
      "api_tokens": {
        "columns": {
          "scopes": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "bulk_update_history": {
        "columns": {
          "affected_user_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "email_logs": {
        "columns": {
          "cc_email": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "bcc_email": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "discount_codes": {
        "columns": {
          "applicable_plan_types": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "applicable_course_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "student_interventions": {
        "columns": {
          "risk_reasons": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "student_enrollments": {
        "columns": {
          "risk_reasons": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "comments": {
        "columns": {
          "mentioned_user_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "notifications": {
        "columns": {
          "channels": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "company_rate_cards": {
        "columns": {
          "applicable_regions": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "company_compliance_requirements": {
        "columns": {
          "work_authorization_types": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "safety_certifications": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "ppe_requirements": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "export_jobs": {
        "columns": {
          "columns": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "gdpr_requests": {
        "columns": {
          "tables_scanned": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "duplicate_records": {
        "columns": {
          "match_fields": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "duplicate_rules": {
        "columns": {
          "match_fields": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "retention_policies": {
        "columns": {
          "status_filter": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "candidate_resumes": {
        "columns": {
          "parsed_skills": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "user_profiles": {
        "columns": {
          "candidate_skills": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "recruiter_specialization": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "preferred_employment_type": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "preferred_locations": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "benefits_required": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "tags": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "categories": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "candidate_references": {
        "columns": {
          "strengths": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "areas_for_improvement": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "system_roles": {
        "columns": {
          "default_permissions": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "candidate_preferences": {
        "columns": {
          "preferred_job_types": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "preferred_work_modes": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "preferred_industries": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "marketing_profiles": {
        "columns": {
          "highlights": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "target_roles": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "target_industries": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "company_team": {
        "columns": {
          "job_categories": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "immigration_attorneys": {
        "columns": {
          "specialization": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "company_preferences": {
        "columns": {
          "preferred_skills": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "excluded_skills": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "required_certifications": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "preferred_experience_levels": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "preferred_degree_levels": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "preferred_universities": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "visa_types_accepted": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "office_locations": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "remote_states_allowed": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "interview_format_preference": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "lead_qualification": {
        "columns": {
          "pain_points": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "candidate_work_history": {
        "columns": {
          "responsibilities": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "achievements": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "skills_used": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "tools_used": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "projects": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "workplan_template_activities": {
        "columns": {
          "depends_on_activity_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "activity_comments": {
        "columns": {
          "mentioned_users": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "bulk_activity_jobs": {
        "columns": {
          "target_entity_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "webhooks": {
        "columns": {
          "events": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "activities": {
        "columns": {
          "tags": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "skills": {
        "columns": {
          "related_skills": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "bench_consultants": {
        "columns": {
          "preferred_locations": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "contact_bench_data": {
        "columns": {
          "preferred_locations": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "primary_skills": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "certifications": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "audit_logs_2025_11": {
        "columns": {
          "changed_fields": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "event_id": {
            "isDefaultAnExpression": true
          }
        }
      },
      "audit_logs_2025_12": {
        "columns": {
          "changed_fields": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "event_id": {
            "isDefaultAnExpression": true
          }
        }
      },
      "audit_logs_2026_01": {
        "columns": {
          "changed_fields": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "event_id": {
            "isDefaultAnExpression": true
          }
        }
      },
      "audit_logs_2026_02": {
        "columns": {
          "changed_fields": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "event_id": {
            "isDefaultAnExpression": true
          }
        }
      },
      "email_templates": {
        "columns": {
          "variables_used": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "break_glass_access": {
        "columns": {
          "actions_taken": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "emergency_drills": {
        "columns": {
          "participants": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "sla_escalation_levels": {
        "columns": {
          "email_recipients": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "sms_recipients": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "sla_notifications": {
        "columns": {
          "recipients": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "sla_scheduled_runs": {
        "columns": {
          "errors": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "contacts": {
        "columns": {
          "tags": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "types": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "candidate_skills": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "candidate_preferred_locations": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "candidate_preferred_employment_type": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "candidate_benefits_required": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "lead_skills_needed": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "lead_contract_types": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "client_contact_preferred_vendors": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "vendor_contact_specialty_areas": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "candidate_do_not_submit_to": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          },
          "company_trade_names": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "company_lead_primary_hiring_needs": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "client_recruiter_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          },
          "vendor_specialty_areas": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "vendor_geographic_coverage": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "vendor_resource_types": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "msp_managed_clients": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          },
          "agency_specialty_areas": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "agency_geographic_focus": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "notes": {
        "columns": {
          "mentioned_user_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          },
          "mentioned_contact_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          },
          "tags": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "activity_patterns": {
        "columns": {
          "auto_log_integrations": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "feature_flags": {
        "columns": {
          "enabled_users": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          },
          "enabled_pods": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          },
          "enabled_roles": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "candidate_prepared_profiles": {
        "columns": {
          "key_highlights": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "candidate_screenings": {
        "columns": {
          "strengths": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "concerns": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "contact_work_history": {
        "columns": {
          "achievements": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "contact_education": {
        "columns": {
          "achievements": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "contact_communication_preferences": {
        "columns": {
          "content_preferences": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "companies": {
        "columns": {
          "tags": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "industries": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "documents": {
        "columns": {
          "accessible_by_roles": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "tags": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "meeting_notes": {
        "columns": {
          "contact_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          },
          "key_takeaways": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "related_job_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          },
          "related_candidate_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "escalations": {
        "columns": {
          "client_impact": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "company_client_details": {
        "columns": {
          "preferred_work_arrangements": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "preferred_contract_types": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "preferred_experience_levels": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "known_competitors": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "company_vendor_details": {
        "columns": {
          "industry_focus": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "geographic_focus": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "skill_focus": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "preferred_job_categories": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "excluded_job_categories": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "talent_categories": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "talent_specializations": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "company_partner_details": {
        "columns": {
          "co_marketing_activities": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "joint_case_studies": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "deals": {
        "columns": {
          "linked_job_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          },
          "services_required": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "competitors": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "competitors_beat": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "compliance_requirements": {
        "columns": {
          "applies_to_entity_types": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "accepted_document_types": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "contract_templates": {
        "columns": {
          "default_clauses": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "rate_cards": {
        "columns": {
          "applicable_regions": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "applicable_job_categories": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "jobs": {
        "columns": {
          "required_skills": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "nice_to_have_skills": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "visa_requirements": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "recruiter_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "interviews": {
        "columns": {
          "interviewer_names": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "interviewer_emails": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "interview_scorecards": {
        "columns": {
          "strengths": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "concerns": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "placement_checkins": {
        "columns": {
          "risk_factors": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "pay_items": {
        "columns": {
          "timesheet_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "invoices": {
        "columns": {
          "sent_to": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "invoice_batches": {
        "columns": {
          "include_accounts": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          },
          "exclude_accounts": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          }
        }
      },
      "campaigns": {
        "columns": {
          "target_locations": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "target_skills": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "target_company_sizes": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "channels": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "sequence_template_ids": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "uuid"
          },
          "send_days": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "communications": {
        "columns": {
          "tags": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "audit_log_2026_02": {
        "columns": {
          "pii_fields": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          }
        }
      },
      "audit_log_2026_03": {
        "columns": {
          "pii_fields": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          }
        }
      },
      "audit_log_2025_12": {
        "columns": {
          "pii_fields": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          }
        }
      },
      "audit_log_2026_01": {
        "columns": {
          "pii_fields": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          }
        }
      },
      "module_unlock_requirements": {
        "columns": {
          "prerequisite_module_ids": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "uuid"
          },
          "prerequisite_titles": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "prerequisite_numbers": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "integer"
          }
        }
      },
      "topic_unlock_requirements": {
        "columns": {
          "prerequisite_topic_ids": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "uuid"
          },
          "prerequisite_titles": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "prerequisite_numbers": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "integer"
          }
        }
      },
      "v_timeline_recent": {
        "columns": {
          "related_commits": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "related_prs": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "related_docs": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "tags": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "key_learnings": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          }
        }
      },
      "v_session_summary": {
        "columns": {
          "all_tags": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          }
        }
      },
      "v_active_users": {
        "columns": {
          "candidate_skills": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          },
          "recruiter_specialization": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          }
        }
      },
      "v_bench_candidates": {
        "columns": {
          "candidate_skills": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          }
        }
      },
      "v_audit_logs_recent": {
        "columns": {
          "changed_fields": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          }
        }
      },
      "v_rls_policies": {
        "columns": {
          "roles": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "name"
          }
        }
      },
      "v_auth_rls_status": {
        "columns": {
          "policies": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "name"
          }
        }
      },
      "unified_inbox": {
        "columns": {
          "tags": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          }
        }
      }
    }
  }
}