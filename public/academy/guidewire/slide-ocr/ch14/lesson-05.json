{
  "metadata": {
    "chapter": "ch14",
    "chapter_title": "Rating Configuration",
    "lesson": "lesson-05",
    "slide_count": 29,
    "slides_with_text": 23,
    "total_words": 1024,
    "avg_confidence": 88.95,
    "processing_time_seconds": 9.08,
    "extracted_at": "2026-02-15T18:24:59.047082"
  },
  "full_text": "Configuring Rate Routines and Parameter Sets\n\nLesson |\nobjectives * Configure parameter sets to provide data to\n\nthe rate routines\n\n¢ Configure rate routines to calculate costs\n\n¢ Configure the rate routine plugins to process\nthe rate routines.\n\n| Review: Rating architecture\n\nRate Book\n\n| Parameter Sets\n\nPopulates,\n\nRating Engine\n\nRate Routines\n\n| Review: Parameter set Gi\n\nAset of policy-related objects that provide data to the rate routines for calculations\nDefined in the PolicyCenter application\nPopulated by the rating engine at run time\n\nUsers can define new parameters and add to the parameter sets used by the rate\nroutines that have not yet been added to a rate book\n\n| Configure a new parameter\n\n¢ Define a new parameter in Gosu\n« Add a new parameter name in CalcRoutineParamName.ttx\n\n* Define the default parameter type in\nRatingParameterSetScreenHelper.mapFromCodeToType() (optional) or later in UI\n\n¢ Add the parameter to a parameter set in the application\n« Make the parameter writable (optional)\n« Writable parameters can be edited in a rate routine\n« Writable parameters are available in the Instruction field in a rate routine\n\n« Non-writable parameters are available in the Operand field only\n\n| Populate parameter map in the rating engine Gi\nvar rateRoutineParameterMap : Map<CalcRoutineParamName, Object > =\n{TC_POLICYLINE -> PolicyLine,\n\ntypecode1 -> param,\ntypecode2 -> param2, ...}\n\nwhere\ntypecode#: a typecode for the parameter from CalcRoutineParamName typelist\n\nparam#: — the policy object to map to the parameter (e.g., driver, vehicle, etc.)\n\n| Demonstration G\n\nParameter sets\n\nclick here\n\nNote: The demonstration opens a new tab in your browser. When the demonstration ends, the\noriginal course launch window appears. Return to this window to continue this presentation.\n\n| Review: Rate routine Gi\n\nA predefined algorithm to calculate a policy cost\n« Uses the policy objects in a parameter set\n* Looks up the rate table values\n\nDefined in the PolicyCenter application\n\nExecuted by the rating engine at run time\n\nGeneric or line-specific methods can be configured for use in the rate routine steps\n\n| Rate book selection Gi\n\n« Rate book selection process can be configured in the rating engine depending on\ncarrier requirements\n\n« Examples\n\n¢ For PA policies, rate book is selected once\n\n* For CP, rate book is selected for each coverable (building) in slice mode and then once in\nwindow mode\n\n| Method to execute a rate routine Gi\n\nRateBook.executeCalcRoutine (code : String,\ncostData : CostData<Cost, PolicyLine>,\nworksheetContainer: WorksheetEntryContainer,\nparamSet: Map<CalRoutineParamName, Object>)\n\nwhere\ncode: the rate routine code that uniquely identifies the rate routine\ncostData: the CostData object which contains the properties used to calculate rate\nworksheetContainer: holds information for the rating worksheets\n\nparamSet: the parameter map representing the parameter set for the rate routine\n\n| Functions for the rate routines Gi\n\n¢ Generic functions for all rate routines\n¢ Defined in gw.rating.flow.util. SharedRatingFunctions.gs\n¢ Line-specific functions\n¢ Defined in <LOB>RatingFunctions which extends RatingFunctionSource\n* Available to the rate routines via the Functions menu of the Operand field in the Ul\n\n* Override the availableForLine() method to set availability\n\n| Steps to configure the rate routines\n\nDefine new parameters if needed\n\nDefine the parameter set in the PolicyCenter application\nEdit/write a rate routine in the application\n\nExecute the rate routine in the <LOB>RatingEngine class\n\n* Prepare data to be passed in, such as the parameter map and CostData object\n\n| Demonstration G\n\nRate routines\n\nclick here\n\nNote: The demonstration opens a new tab in your browser. When the demonstration ends, the\noriginal course launch window appears. Return to this window to continue this presentation.\n\n| Rate routine plugin Gi\n\n/RateRoutinePlugin.gwp is used to\n* Set the implementation class, such as the RateRoutinePlugin\n\n« Enable worksheets for all LOBs by setting the WorksheetsEnabled parameter to true\n+ Makes the “Show Rating Worksheet” button appear on the quote page\n\n@ IRateRoutinePlugingwp\nName: _ IRateRoutinePlugin\n\nInterface: | IRateRoutinePlugin\n\n+= Gosu Class; | gw.pluginrateflow RateRoutinePlugin os\n\nRoutinePlugin}\n\nO) Disabled\n\nParameters: Name Value Enviro... Server +.\n\nWorksheetsEnabled true\n\n| Rate routine plugin classes Gi\n\n« RateRoutinePlugin.gs processes the\n\nrate routines\n| IRateRoutinePlugin.gwp\n« The processing can be passed to the\n\nline-specific configuration classes\n\nte)\n\n* Setup CostData using wrapper\n\nclasses\nPARateRoutineConfig.gs\n\n* Determine which cost properties appear\nwhen an instruction or operand in a rate RateRoutinePlugin.gs\nroutine step is selected\n\n¢ Enable/disable worksheet for line CPRateRoutineConfig.gs\n\n* Override worksheetsEnabledForLine()\n\n| Generate the rating worksheet G\n\nOrganize data on the policy in a tree-like structure in <LOB>PolicyLineMethods class\n\n(©) PaPolicylineMethods.gs x\n237/@1 override function[getWorksheetRootNode} showConditionals : boolean) : RowTreeRootNode {\n\n(238 var treeNodes List<WorksheetIreeNodeContainer> = {}\n\n239 _line. PolicyLocations.orderBy(\\ loc -> loc.CompactName) .each(\\ garage -> {\n\n‘240 var garagedVehicles = line.VersionList.Vehicles.map( \\ vl -> vl.AllVersions.last() )\n\n241 «where(\\v -> v.GarageLocation.FixedId == garage. FixedId) . coTypedArray()\n\n242 if (garagedVehicles.Count > 0) {\n\n243 var garageContainer = new WorksheetTreetodeContainer (garage.CompactName)\n\n244 garageContainer.ExpandByDefault = true\n\n245, garagedVehicles.each(\\ vehicle -> {\nRating Worksheet Download\nInstruction Result Op ( — Operand ) Actual Value(s) B\n\n‘V_ 1253 Paloma Ave, Floor 0000, Developer Unit Habitation Cube #0000, Arcadia, CA 91007\n> 2001 Acura RSX in California\n> 2002 Toyota Avalon in California\ncATax\n\n| Demonstration G\n\nRate routine plugins\n\nclick here\n\nNote: The demonstration opens a new tab in your browser. When the demonstration ends, the\noriginal course launch window appears. Return to this window to continue this presentation.\n\nQuestion\n\n,~ — Inwhich class do you configure rate routine methods available to all\nY LOBs?\n\nseo eooce Sse Sbeese505\n\nGi\n\nAnswer\n\n,- — Inwhich class do you configure rate routine methods available to all\nY LOBs?\n\ngsrc.gw.rating.flow.util.SharedRatingFunctions.gs\n\nse sSeSo SoS Se See ese\n\nGi\n\nQuestion\n\n7~ — What property can you set on a parameter so that it can be edited ina\no rate routine?\n\nseo eooce Sse Sbeese505\n\nGi\n\nAnswer\n\n,~ — What property can you set on a parameter so that it can be edited ina\no rate routine?\n\nwritable\n\nse sSeSo SoS Se See ese\n\nGi\n\nLesson\nobj ectives * Configure parameter sets to provide data to\nreview the rate routines\n\n¢ Configure rate routines to calculate costs\n¢ Configure the rate routine plugins to process\nthe rate routines.\n\n| Student exercise G\n\nConfiguring rate routines and parameter\nsets",
  "slides": [
    {
      "filename": "slide-01.png",
      "slide_number": 1,
      "text": "Configuring Rate Routines and Parameter Sets",
      "word_count": 6,
      "avg_confidence": 95.86,
      "image_size": {
        "width": 1280,
        "height": 550
      }
    },
    {
      "filename": "slide-02.png",
      "slide_number": 2,
      "text": "Lesson |\nobjectives * Configure parameter sets to provide data to\n\nthe rate routines\n\n¢ Configure rate routines to calculate costs\n\n¢ Configure the rate routine plugins to process\nthe rate routines.",
      "word_count": 32,
      "avg_confidence": 89.09,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-03.png",
      "slide_number": 3,
      "text": "| Review: Rating architecture\n\nRate Book\n\n| Parameter Sets\n\nPopulates,\n\nRating Engine\n\nRate Routines",
      "word_count": 14,
      "avg_confidence": 90.67,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-04.png",
      "slide_number": 4,
      "text": "",
      "word_count": 0,
      "avg_confidence": 0,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-05.png",
      "slide_number": 5,
      "text": "| Review: Parameter set Gi\n\nAset of policy-related objects that provide data to the rate routines for calculations\nDefined in the PolicyCenter application\nPopulated by the rating engine at run time\n\nUsers can define new parameters and add to the parameter sets used by the rate\nroutines that have not yet been added to a rate book",
      "word_count": 57,
      "avg_confidence": 94.63,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-06.png",
      "slide_number": 6,
      "text": "| Configure a new parameter\n\n¢ Define a new parameter in Gosu\n« Add a new parameter name in CalcRoutineParamName.ttx\n\n* Define the default parameter type in\nRatingParameterSetScreenHelper.mapFromCodeToType() (optional) or later in UI\n\n¢ Add the parameter to a parameter set in the application\n« Make the parameter writable (optional)\n« Writable parameters can be edited in a rate routine\n« Writable parameters are available in the Instruction field in a rate routine\n\n« Non-writable parameters are available in the Operand field only",
      "word_count": 83,
      "avg_confidence": 87.35,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-07.png",
      "slide_number": 7,
      "text": "| Populate parameter map in the rating engine Gi\nvar rateRoutineParameterMap : Map<CalcRoutineParamName, Object > =\n{TC_POLICYLINE -> PolicyLine,\n\ntypecode1 -> param,\ntypecode2 -> param2, ...}\n\nwhere\ntypecode#: a typecode for the parameter from CalcRoutineParamName typelist\n\nparam#: — the policy object to map to the parameter (e.g., driver, vehicle, etc.)",
      "word_count": 50,
      "avg_confidence": 88.3,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-08.png",
      "slide_number": 8,
      "text": "| Demonstration G\n\nParameter sets\n\nclick here\n\nNote: The demonstration opens a new tab in your browser. When the demonstration ends, the\noriginal course launch window appears. Return to this window to continue this presentation.",
      "word_count": 35,
      "avg_confidence": 95.46,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-09.png",
      "slide_number": 9,
      "text": "",
      "word_count": 0,
      "avg_confidence": 0,
      "image_size": {
        "width": 1280,
        "height": 720
      }
    },
    {
      "filename": "slide-10.png",
      "slide_number": 10,
      "text": "",
      "word_count": 0,
      "avg_confidence": 0,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-11.png",
      "slide_number": 11,
      "text": "| Review: Rate routine Gi\n\nA predefined algorithm to calculate a policy cost\n« Uses the policy objects in a parameter set\n* Looks up the rate table values\n\nDefined in the PolicyCenter application\n\nExecuted by the rating engine at run time\n\nGeneric or line-specific methods can be configured for use in the rate routine steps",
      "word_count": 56,
      "avg_confidence": 92.2,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-12.png",
      "slide_number": 12,
      "text": "| Rate book selection Gi\n\n« Rate book selection process can be configured in the rating engine depending on\ncarrier requirements\n\n« Examples\n\n¢ For PA policies, rate book is selected once\n\n* For CP, rate book is selected for each coverable (building) in slice mode and then once in\nwindow mode",
      "word_count": 52,
      "avg_confidence": 89.58,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-13.png",
      "slide_number": 13,
      "text": "| Method to execute a rate routine Gi\n\nRateBook.executeCalcRoutine (code : String,\ncostData : CostData<Cost, PolicyLine>,\nworksheetContainer: WorksheetEntryContainer,\nparamSet: Map<CalRoutineParamName, Object>)\n\nwhere\ncode: the rate routine code that uniquely identifies the rate routine\ncostData: the CostData object which contains the properties used to calculate rate\nworksheetContainer: holds information for the rating worksheets\n\nparamSet: the parameter map representing the parameter set for the rate routine",
      "word_count": 64,
      "avg_confidence": 94.02,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-14.png",
      "slide_number": 14,
      "text": "| Functions for the rate routines Gi\n\n¢ Generic functions for all rate routines\n¢ Defined in gw.rating.flow.util. SharedRatingFunctions.gs\n¢ Line-specific functions\n¢ Defined in <LOB>RatingFunctions which extends RatingFunctionSource\n* Available to the rate routines via the Functions menu of the Operand field in the Ul\n\n* Override the availableForLine() method to set availability",
      "word_count": 54,
      "avg_confidence": 85.81,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-15.png",
      "slide_number": 15,
      "text": "| Steps to configure the rate routines\n\nDefine new parameters if needed\n\nDefine the parameter set in the PolicyCenter application\nEdit/write a rate routine in the application\n\nExecute the rate routine in the <LOB>RatingEngine class\n\n* Prepare data to be passed in, such as the parameter map and CostData object",
      "word_count": 50,
      "avg_confidence": 93.64,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-16.png",
      "slide_number": 16,
      "text": "| Demonstration G\n\nRate routines\n\nclick here\n\nNote: The demonstration opens a new tab in your browser. When the demonstration ends, the\noriginal course launch window appears. Return to this window to continue this presentation.",
      "word_count": 35,
      "avg_confidence": 95.46,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-17.png",
      "slide_number": 17,
      "text": "",
      "word_count": 0,
      "avg_confidence": 0,
      "image_size": {
        "width": 1280,
        "height": 720
      }
    },
    {
      "filename": "slide-18.png",
      "slide_number": 18,
      "text": "",
      "word_count": 0,
      "avg_confidence": 0,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-19.png",
      "slide_number": 19,
      "text": "| Rate routine plugin Gi\n\n/RateRoutinePlugin.gwp is used to\n* Set the implementation class, such as the RateRoutinePlugin\n\n« Enable worksheets for all LOBs by setting the WorksheetsEnabled parameter to true\n+ Makes the “Show Rating Worksheet” button appear on the quote page\n\n@ IRateRoutinePlugingwp\nName: _ IRateRoutinePlugin\n\nInterface: | IRateRoutinePlugin\n\n+= Gosu Class; | gw.pluginrateflow RateRoutinePlugin os\n\nRoutinePlugin}\n\nO) Disabled\n\nParameters: Name Value Enviro... Server +.\n\nWorksheetsEnabled true",
      "word_count": 69,
      "avg_confidence": 77.84,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-20.png",
      "slide_number": 20,
      "text": "| Rate routine plugin classes Gi\n\n« RateRoutinePlugin.gs processes the\n\nrate routines\n| IRateRoutinePlugin.gwp\n« The processing can be passed to the\n\nline-specific configuration classes\n\nte)\n\n* Setup CostData using wrapper\n\nclasses\nPARateRoutineConfig.gs\n\n* Determine which cost properties appear\nwhen an instruction or operand in a rate RateRoutinePlugin.gs\nroutine step is selected\n\n¢ Enable/disable worksheet for line CPRateRoutineConfig.gs\n\n* Override worksheetsEnabledForLine()",
      "word_count": 61,
      "avg_confidence": 86.07,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-21.png",
      "slide_number": 21,
      "text": "| Generate the rating worksheet G\n\nOrganize data on the policy in a tree-like structure in <LOB>PolicyLineMethods class\n\n(©) PaPolicylineMethods.gs x\n237/@1 override function[getWorksheetRootNode} showConditionals : boolean) : RowTreeRootNode {\n\n(238 var treeNodes List<WorksheetIreeNodeContainer> = {}\n\n239 _line. PolicyLocations.orderBy(\\ loc -> loc.CompactName) .each(\\ garage -> {\n\n‘240 var garagedVehicles = line.VersionList.Vehicles.map( \\ vl -> vl.AllVersions.last() )\n\n241 «where(\\v -> v.GarageLocation.FixedId == garage. FixedId) . coTypedArray()\n\n242 if (garagedVehicles.Count > 0) {\n\n243 var garageContainer = new WorksheetTreetodeContainer (garage.CompactName)\n\n244 garageContainer.ExpandByDefault = true\n\n245, garagedVehicles.each(\\ vehicle -> {\nRating Worksheet Download\nInstruction Result Op ( — Operand ) Actual Value(s) B\n\n‘V_ 1253 Paloma Ave, Floor 0000, Developer Unit Habitation Cube #0000, Arcadia, CA 91007\n> 2001 Acura RSX in California\n> 2002 Toyota Avalon in California\ncATax",
      "word_count": 127,
      "avg_confidence": 78.86,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-22.png",
      "slide_number": 22,
      "text": "| Demonstration G\n\nRate routine plugins\n\nclick here\n\nNote: The demonstration opens a new tab in your browser. When the demonstration ends, the\noriginal course launch window appears. Return to this window to continue this presentation.",
      "word_count": 36,
      "avg_confidence": 95.56,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-23.png",
      "slide_number": 23,
      "text": "",
      "word_count": 0,
      "avg_confidence": 0,
      "image_size": {
        "width": 1280,
        "height": 720
      }
    },
    {
      "filename": "slide-24.png",
      "slide_number": 24,
      "text": "Question\n\n,~ — Inwhich class do you configure rate routine methods available to all\nY LOBs?\n\nseo eooce Sse Sbeese505\n\nGi",
      "word_count": 21,
      "avg_confidence": 81.21,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-25.png",
      "slide_number": 25,
      "text": "Answer\n\n,- — Inwhich class do you configure rate routine methods available to all\nY LOBs?\n\ngsrc.gw.rating.flow.util.SharedRatingFunctions.gs\n\nse sSeSo SoS Se See ese\n\nGi",
      "word_count": 24,
      "avg_confidence": 77.29,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-26.png",
      "slide_number": 26,
      "text": "Question\n\n7~ — What property can you set on a parameter so that it can be edited ina\no rate routine?\n\nseo eooce Sse Sbeese505\n\nGi",
      "word_count": 26,
      "avg_confidence": 89.87,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-27.png",
      "slide_number": 27,
      "text": "Answer\n\n,~ — What property can you set on a parameter so that it can be edited ina\no rate routine?\n\nwritable\n\nse sSeSo SoS Se See ese\n\nGi",
      "word_count": 29,
      "avg_confidence": 82.69,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-28.png",
      "slide_number": 28,
      "text": "Lesson\nobj ectives * Configure parameter sets to provide data to\nreview the rate routines\n\n¢ Configure rate routines to calculate costs\n¢ Configure the rate routine plugins to process\nthe rate routines.",
      "word_count": 33,
      "avg_confidence": 90.79,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    },
    {
      "filename": "slide-29.png",
      "slide_number": 29,
      "text": "| Student exercise G\n\nConfiguring rate routines and parameter\nsets",
      "word_count": 10,
      "avg_confidence": 93.64,
      "image_size": {
        "width": 1280,
        "height": 672
      }
    }
  ]
}