{
  "lessonId": "ch11-l16",
  "chapterId": 11,
  "chapterSlug": "ch11",
  "lessonNumber": 16,
  "title": "Acknowledging Messages",
  "sourceFile": "Acknowledging Messages.pptx",
  "sourceFolder": "In_Integration_16",
  "totalSlides": 43,
  "estimatedMinutes": 129,
  "slides": [
    {
      "slideNumber": 1,
      "title": "Acknowledging Messages",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "Acknowledging Messages",
      "ocrWordCount": 2,
      "ocrConfidence": 95.0,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "title"
    },
    {
      "slideNumber": 2,
      "title": "Learning Objectives",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "Lesson\nobjectives\n\n• Describe messaging acknowledgement\n\nIdentify various messaging acknowledgement\nmechanisms\n\nDescribe how a messaging error is handled\nUse the administration screens to view the\nstatus of a message and manipulate it\nmanually",
      "ocrWordCount": 33,
      "ocrConfidence": 93.42,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "objectives"
    },
    {
      "slideNumber": 3,
      "title": "Use case",
      "bodyParagraphs": [],
      "originalNotes": "Use case\nFor asynchronous acknowledgment, the design approach would be more elaborate as discussed in this Lesson",
      "notes": "Use case\nFor asynchronous acknowledgment, the design approach would be more elaborate as discussed in this Lesson",
      "narration": "",
      "ocrText": "| Use case\n\nThe bank account verification message\nmust be acknowledged synchronously\nby an external system\n\nGi\n\n1.\n\nConfigure synchronous message\nacknowledgment in the transport\nplugin\n\nDeploy changes",
      "ocrWordCount": 28,
      "ocrConfidence": 93.89,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 4,
      "title": "Guidewire servers and messaging transactions",
      "bodyParagraphs": [],
      "originalNotes": "Guidewire servers and messaging transactions\nThe servers involved at each point of the process are important because they determine where payload work should occur. The majority of payload generation should be done in Event Fired rules on the ui role server that manages the given user's session. However, if some portion of payload generation must be done immediately before the message is sent, that portion of the payload can be generated on the messaging role server.\n\nA message is always processed in at least two and as many as four transactions:\nTransaction 1 — Creates the message and generates the payload. This transaction always occurs.\nTransaction 2 — Prior to sending the message, an optional transaction may transform the message payload. This is usually done when the message must include information that can only be known immediately before sending the message.\n\nTransaction 3 — The sending of the message to the external system occurs in its owntransaction- This transaction always occurs. If the external system acknowledges the message synchronously, then the acknowledgement is included in this transaction.\nTransaction 4 — If the external system acknowledges the message asynchronously, then a separate transaction processes the acknowledgement. This transaction does not occur for messages that are acknowledged synchronously.\n\n The transaction structure is important because this determines the work that is rolled back if an error occurs.\n\nGuidewire expects that every sent message will immediately or eventually be followed by a response from the external system. An immediate response is a synchronous response. An eventual response is an asynchronous response. There, is of course, the possibility that the external system never replies with a response. In some cases, a response is simply a reply that is a positive acknowledgement. In other cases, a response includes both an acknowledgement and some type of data such as a report.\n\nAn acknowledgement comes in the form of a positive acknowledgement or negative acknowledgement. With regards to the messaging Guidewire API, integration code calls an acknowledgement or reports an error. Code that calls anacknowledgement is a positive acknowledgement Code that invokes an error is generally a negative acknowledgement.\n\nThe reply mechanism for the external system to make a response often depends if the response synchronous or asynchronous. For a synchronous response, often the message transport plugin is the reply mechanism- For asynchronous responses, often a Guidewire Application published web service or a message reply plugin is the reply mechanism.",
      "notes": "Guidewire servers and messaging transactions\nThe servers involved at each point of the process are important because they determine where payload work should occur. The majority of payload generation should be done in Event Fired rules on the ui role server that manages the given user's session. However, if some portion of payload generation must be done immediately before the message is sent, that portion of the payload can be generated on the messaging role server.\n\nA message is always processed in at least two and as many as four transactions:\nTransaction 1 — Creates the message and generates the payload. This transaction always occurs.\nTransaction 2 — Prior to sending the message, an optional transaction may transform the message payload. This is usually done when the message must include information that can only be known immediately before sending the message.\n\nTransaction 3 — The sending of the message to the external system occurs in its owntransaction- This transaction always occurs. If the external system acknowledges the message synchronously, then the acknowledgement is included in this transaction.\nTransaction 4 — If the external system acknowledges the message asynchronously, then a separate transaction processes the acknowledgement. This transaction does not occur for messages that are acknowledged synchronously.\n\n The transaction structure is important because this determines the work that is rolled back if an error occurs.\n\nGuidewire expects that every sent message will immediately or eventually be followed by a response from the external system. An immediate response is a synchronous response. An eventual response is an asynchronous response. There, is of course, the possibility that the external system never replies with a response. In some cases, a response is simply a reply that is a positive acknowledgement. In other cases, a response includes both an acknowledgement and some type of data such as a report.\n\nAn acknowledgement comes in the form of a positive acknowledgement or negative acknowledgement. With regards to the messaging Guidewire API, integration code calls an acknowledgement or reports an error. Code that calls anacknowledgement is a positive acknowledgement Code that invokes an error is generally a negative acknowledgement.\n\nThe reply mechanism for the external system to make a response often depends if the response synchronous or asynchronous. For a synchronous response, often the message transport plugin is the reply mechanism- For asynchronous responses, often a Guidewire Application published web service or a message reply plugin is the reply mechanism.",
      "narration": "",
      "ocrText": "| Guidewire servers and messaging transactions Gi\n\nH Application Context iJ Integration Context i\n\ni Event triggering & ; Sending message & H\n: (5) Message generation Payload Process synchronous : external\nA (event fired rules) Message transformation acknowledgment (transport :\ni (request plugin) plugin) : System\n\ncS :\nws transaction 2 transaction 3 &\n\n=\n= Process asynchronous\n. acknowledgement\n(reply plugin or API)\n\n« Message acknowledgement is the process in which Guidewire interprets a messaging response\nfrom an external system\n\n• Allactivity from acknowledging messages takes place in either transaction 3 or 4\n* Messaging occurs across multiple transactions\n\n* If. an exception is thrown, work in the current transaction is rolled back",
      "ocrWordCount": 115,
      "ocrConfidence": 82.96,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 5,
      "title": "Message acknowledgment",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "Message acknowledgment",
      "ocrWordCount": 2,
      "ocrConfidence": 95.5,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 6,
      "title": "Plugins that acknowledge a",
      "bodyParagraphs": [],
      "originalNotes": "Plugins that acknowledge messages\nEvery destination has up to three plugins that are used for messaging. Two of these plugins could play a role in acknowledging a message,though it is possible that no plugin is used for acknowledgement.\n\nThe request plugin is an optional plugin that is responsible for payload transformation. It is not involved in the acknowledgementof messages.\n\nThe transport plugin is a required plugin that is responsible for sending the message to the external system. If the acknowledgement is received synchronously, then this plugin also processes the reply.\n\nAn external system can acknowledge a message using a remote call (either the IMessageToolsAPl or a custom- built web service). If a remote call is used, then the message reply is handled independent of the destination's plugins.\n\nThe reply plugin is an optional plugin that initializes a listener queue and associates it to the destination. It processes acknowledgements sent asynchronously using the listener queue. Like predefined plugins, messaging plugins can be implemented in Gosu or Java",
      "notes": "Plugins that acknowledge messages\nEvery destination has up to three plugins that are used for messaging. Two of these plugins could play a role in acknowledging a message,though it is possible that no plugin is used for acknowledgement.\n\nThe request plugin is an optional plugin that is responsible for payload transformation. It is not involved in the acknowledgementof messages.\n\nThe transport plugin is a required plugin that is responsible for sending the message to the external system. If the acknowledgement is received synchronously, then this plugin also processes the reply.\n\nAn external system can acknowledge a message using a remote call (either the IMessageToolsAPl or a custom- built web service). If a remote call is used, then the message reply is handled independent of the destination's plugins.\n\nThe reply plugin is an optional plugin that initializes a listener queue and associates it to the destination. It processes acknowledgements sent asynchronously using the listener queue. Like predefined plugins, messaging plugins can be implemented in Gosu or Java",
      "narration": "",
      "ocrText": "| Plugins that acknowledge a\n\n>) P\ng m - ow\n\n&: rely via ia API =\n\n=) chro onous y\n{F Ys\nEy st liste! vcr oF poll ing",
      "ocrWordCount": 30,
      "ocrConfidence": 55.19,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 7,
      "title": "Interpreting the external system response",
      "bodyParagraphs": [],
      "originalNotes": "Interpreting the external system response\nGuidewire can interpret a response to be one of three types: positive acknowledgement, error, and duplicate response. Guidewire applications must also decide how to react when the external system never sends a response to a message.",
      "notes": "Interpreting the external system response\nGuidewire can interpret a response to be one of three types: positive acknowledgement, error, and duplicate response. Guidewire applications must also decide how to react when the external system never sends a response to a message.",
      "narration": "",
      "ocrText": "| Interpreting the external system response Gi\n\nrete —\nms | {v) positive acknowledgement\n\n==\nerror External\nApplication (>) negative acknowledgment System\n\n. Sil duplicate message\nM4 seveeesseeensneeens (no response) sss\nG)\n\n* Guidewire interprets three response types\n• Positive acknowledgement, error, and duplicate response\n\n•« Noresponse may also require handling",
      "ocrWordCount": 51,
      "ocrConfidence": 76.39,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 8,
      "title": "Message and MessageHistory a",
      "bodyParagraphs": [],
      "originalNotes": "Message and MessageHistory\nA message can move from the message table to the message history table if the message is positively acknowledged or skipped. The Message table contains messages that need further processing. The Message History table contains messages that do not need further processing. A message can move from the message table to the message history table if the message is positively acknowledged or skipped. Otherwise, the message remains in the message table.\n\nOver time, the message history table accumulates a large number of message histories and therefore needs to be pruned on a regular basis. The Message Tools APl has a purge Completed Messages method that can be used to do this. For more information on pruning the Message History table, refer to the System Administration Guide.",
      "notes": "Message and MessageHistory\nA message can move from the message table to the message history table if the message is positively acknowledged or skipped. The Message table contains messages that need further processing. The Message History table contains messages that do not need further processing. A message can move from the message table to the message history table if the message is positively acknowledged or skipped. Otherwise, the message remains in the message table.\n\nOver time, the message history table accumulates a large number of message histories and therefore needs to be pruned on a regular basis. The Message Tools APl has a purge Completed Messages method that can be used to do this. For more information on pruning the Message History table, refer to the System Administration Guide.",
      "narration": "",
      "ocrText": "Message and MessageHistory a\n\n• Unsent messages that... * Positively acknowledged messages\n\n* Have yet to be sent • Skipped messages\n\n* Failed send • Retried messages\n\n• Sent messages that are...\n\n« Pending acknowledgement ACK'd History\n\nTE\n« Waiting to be retried\n. ipl\nErrored messages that... nome PSE\n« Require manual intervention\n\noomme—(XQ",
      "ocrWordCount": 55,
      "ocrConfidence": 77.02,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 9,
      "title": "Positive acknowledgements",
      "bodyParagraphs": [],
      "originalNotes": "Positive acknowledgements\nWhen the external system reports a message was successfully received and processed, Guidewire interprets this as a positive acknowledgement, also known as an ACK- When a message is positively acknowledged, Guidewire:\n\nMoves the message from Message to MessageHistory, and\nChanges the status to reflect acknowledgement\n\nStatus is an integer field on both Message and MessageHistory. In most cases, developers do not need to know what each integer represents. However, the statuses are defined in the Data Dictionary- The Status column in the Message Table and MessageHistory Table screens includes both the integer code and its meaning.\n\nMessage table status descriptions:\n\n1 = Pending send- Waiting to send message.\n2 = Pending ack. Message sent- Waiting for acknowledgment.\n3 = Error. Deprecated.\n4 = Retryable error. Error reported. Can be send exception or negative acknowledgment from external system.\n\nMessage History table descriptions:\n\n10 = Acked- Positive acknowledgment of message.\n\n11 = Error cleared. The message was in retryable error state, but the administrator skipped the message.\n\n12 = Error retried- Message with error retried. Clone of the original message created in the message table and will be resent.\n\n13 = Skipped- Message was not in error — it was either Pending send(l) or Pending ack(2).",
      "notes": "Positive acknowledgements\nWhen the external system reports a message was successfully received and processed, Guidewire interprets this as a positive acknowledgement, also known as an ACK- When a message is positively acknowledged, Guidewire:\n\nMoves the message from Message to MessageHistory, and\nChanges the status to reflect acknowledgement\n\nStatus is an integer field on both Message and MessageHistory. In most cases, developers do not need to know what each integer represents. However, the statuses are defined in the Data Dictionary- The Status column in the Message Table and MessageHistory Table screens includes both the integer code and its meaning.\n\nMessage table status descriptions:\n\n1 = Pending send- Waiting to send message.\n2 = Pending ack. Message sent- Waiting for acknowledgment.\n3 = Error. Deprecated.\n4 = Retryable error. Error reported. Can be send exception or negative acknowledgment from external system.\n\nMessage History table descriptions:\n\n10 = Acked- Positive acknowledgment of message.\n\n11 = Error cleared. The message was in retryable error state, but the administrator skipped the message.\n\n12 = Error retried- Message with error retried. Clone of the original message created in the message table and will be resent.\n\n13 = Skipped- Message was not in error — it was either Pending send(l) or Pending ack(2).",
      "narration": "",
      "ocrText": "| Positive acknowledgements\nMessage Table Gi\n\nWARNING: Production code should not modify the Message table directly.\n\nNumber of messages in table: 1\n\nB~\nMsgiO__Creation Time > __ Triggering Enti Event Name 2 Destination 2 _SenderRefiD_ > _status Error Category Retries >\n1605 09/12/20189:28 PM MessageGenerator{108) _MessageGeneratorAdded 21 MegGeni2 Pending acknowledged 2) °\n\nMessageHistory Table\n\nWARNING: Production code should not modify the MessageHistory table directly.\n\nNumber of messages in table: 1\n\n1508 09/12/20189:28PM MessageGenerator(104)  MessageGeneratorAdded 21 MsgGen:12 ‘Acknowledged (10)\n\n• Apositive acknowledgment (ACK) is when the external system reports success\n+ Message was successfully received and processed\n* Guidewire application response to ACK\n\n+ Moves the message from Message to MessageHistory\n\ne Channec the ctatiic tn reflact acknnwladnqaemant",
      "ocrWordCount": 117,
      "ocrConfidence": 72.57,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 10,
      "title": "Messaging exceptions during send",
      "bodyParagraphs": [],
      "originalNotes": "Messaging exceptions during send\nAn exception is different than a reported error for a message. There are various types of exceptions such as a java.net. ConnectionException or gw.xml.ws. WsiAuthenticationExc Eption.\n\nWhen an exception is thrown in a transport plugin send method, the Guidewire application response is to retry sending the message until reaching the maximum number of retries. The message’s destination configuration defines the value for the maximum number of retries.\n\nIn order for an additional messages to be processed for the messaging destination, you need to skip any messages reporting an error and to resume the suspended destination. An administrator can manually skip a message. It is also possible for custom code to skip messages, for example, from within a batch process. If a message is safe ordered, the next message for the destination/entity pair will not be sent until the message is either resent and successfully acknowledged or skipped.",
      "notes": "Messaging exceptions during send\nAn exception is different than a reported error for a message. There are various types of exceptions such as a java.net. ConnectionException or gw.xml.ws. WsiAuthenticationExc Eption.\n\nWhen an exception is thrown in a transport plugin send method, the Guidewire application response is to retry sending the message until reaching the maximum number of retries. The message’s destination configuration defines the value for the maximum number of retries.\n\nIn order for an additional messages to be processed for the messaging destination, you need to skip any messages reporting an error and to resume the suspended destination. An administrator can manually skip a message. It is also possible for custom code to skip messages, for example, from within a batch process. If a message is safe ordered, the next message for the destination/entity pair will not be sent until the message is either resent and successfully acknowledged or skipped.",
      "narration": "",
      "ocrText": "| Messaging exceptions during send\n\nMessage Table\n\nWARNING: Production code should not modify the Message table directly.\n\nNumber of messages in table: 1\n\nE-\nMsgiD Creation Time  —Triggeringéntity Event Name Destination > SenderReflD > _ status Error Category > Retries\n1807 09/12/20189:34 PM BankAccount(204) _BankAccountChanged 13 ab:1807 Pending send (1) °\n\n• Initial send from Guidewire transport throws an exception\n* Guidewire application response\n\n« Message stays in Message table\n\n* Message status remains as Pending send (1)\n\n* Guidewire retries to send the message until reaching the maximum number of retries as\ndefined in the destination\n\n« At maximum retries, the Guidewire suspends the destination",
      "ocrWordCount": 106,
      "ocrConfidence": 82.24,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 11,
      "title": "Messaging errors after send",
      "bodyParagraphs": [],
      "originalNotes": "Messaging errors after send\nGuidewire applications consider all messages with an error as retryable messages. A status of a retryable error indicates a condition that is expected to be temporary for the messaging destination. Some examples of temporary errors are: the external system is unreachable due to network problems, authentication protocols require new credentials, database locks, and the file system is full. In all cases, Guidewire application considers the messaging error as a retryable error.\n\nThe term negative acknowledgement (NACK) indicates that the external system is reporting an error. The mechanism for a negative acknowledgement is similar to an acknowledgement with respect to if the messaging architecture is synchronous or asynchronous. If the messaging is synchronous, the negative acknowledgement occurs in the transport plugim If the messaging is asynchronous, a reply plugin, or a remote API reports the error.",
      "notes": "Messaging errors after send\nGuidewire applications consider all messages with an error as retryable messages. A status of a retryable error indicates a condition that is expected to be temporary for the messaging destination. Some examples of temporary errors are: the external system is unreachable due to network problems, authentication protocols require new credentials, database locks, and the file system is full. In all cases, Guidewire application considers the messaging error as a retryable error.\n\nThe term negative acknowledgement (NACK) indicates that the external system is reporting an error. The mechanism for a negative acknowledgement is similar to an acknowledgement with respect to if the messaging architecture is synchronous or asynchronous. If the messaging is synchronous, the negative acknowledgement occurs in the transport plugim If the messaging is asynchronous, a reply plugin, or a remote API reports the error.",
      "narration": "",
      "ocrText": "Messaging errors after send\n\nMessage Table\nWARNING: Production code should not modify the Message table directly\n\nNumber of messages in table: 1\n\n=:\nMegID ctetonTime = geingniy erent vome Destination • senderefo > sats enor ategry • Rete\na-\n\n1902 09/12/20189:59PM MessageGenerator(202) MessageGeneratoradded\n\n• Error from external system is\nknown as a Negative\nAcknowledgment (NACk)\n\n* Temporarily cannot process the\nsuccessfully received message\n\n• Reports error\n\n* Guidewire application response\n« Message stays in Message table\n« Message status of retryable error\n\n• Retry scenario\n\n* Manual retry from administrator or\nintegration code to resend message",
      "ocrWordCount": 96,
      "ocrConfidence": 77.08,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 12,
      "title": "Retrying an error",
      "bodyParagraphs": [],
      "originalNotes": "Retrying an error\nNote that in the screenshot of the Message table, there are two messages, one with an ID of 1902 and one with an ID of 1903. The first message had a status of Pending acknowledged and then had a status of Retryable error. When the error was retried, message 1902 was moved to the MessageHistory table, and message 1903 was created and sent. Even though Message 1903 has a different SenderReflD, it is linked to the same triggering entity MessageGenerator(20). So, message 1902 and message 1903 are two separate message instances that relate to the same logical business event.",
      "notes": "Retrying an error\nNote that in the screenshot of the Message table, there are two messages, one with an ID of 1902 and one with an ID of 1903. The first message had a status of Pending acknowledged and then had a status of Retryable error. When the error was retried, message 1902 was moved to the MessageHistory table, and message 1903 was created and sent. Even though Message 1903 has a different SenderReflD, it is linked to the same triggering entity MessageGenerator(20). So, message 1902 and message 1903 are two separate message instances that relate to the same logical business event.",
      "narration": "",
      "ocrText": "| Retrying an error\n\nMessage Table\n\nWARNING: Production code should not modify the Message table directly.\n\nNumber of messages in table: 1\n\nMsgiO Creation Time > Triggering Entity\n\n1902 08/12/20189:59 PM MessageGenerator(202) MessageGeneratorAdded\n\nsg. 10_Creation Time_\n\n• Acopy of the original\nmessage is created\nand sent\n* References the same\n\nevent and triggering\nentity\n\n1903 08/12/2018 10:00PM MessageGenerator(202) MessageGeneratorAdded\n\nEvent Name Destination >\n\nMessageHistory Table\n\n21 MsgGen:18-1\n\nSenderRefiD >\n21 MsgGen:18\n\nStatus\n\nError Category >\n\nRetryabe ero (4)\n\nending acknowledged (2)\n\nWARNING: Production code should not modify the MessageHistory table directly.\n\nNumber of messagesin table: 1\n\n« Uses a different SenderReflD\n\n* Incremented RetryCount field by 1\n\n(09/12/20189:59 PM MessageGenerator(202)  MessageGeneratorAdded\n\n21 MsgGen:i6\n\na-\nRetries > RetryTime >\n© 08/12/2018 10:00PM\n\n(09/12/2018 10:00 Pa\n\nError retried (12)\n\n* Original message is moved to\nMessageHistory table",
      "ocrWordCount": 135,
      "ocrConfidence": 73.13,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 13,
      "title": "Duplicate messages",
      "bodyParagraphs": [],
      "originalNotes": "Duplicate messages\nGuidewire does not treat a message with a non-zero duplicate count any differently from a message with a zero- duplicate count. However, the recommendation is to process duplicates reported by the external system so as to retain as much information as possible about what was sent from the external system.",
      "notes": "Duplicate messages\nGuidewire does not treat a message with a non-zero duplicate count any differently from a message with a zero- duplicate count. However, the recommendation is to process duplicates reported by the external system so as to retain as much information as possible about what was sent from the external system.",
      "narration": "",
      "ocrText": "Duplicate messages\n\nMessageHistory Table\n\nWARNING: Production code should not modify the MessageHistory table directly.\n\nNumber of messages in table: 1\n\nMsgiD._ Creation Time\n1608 09/12/2018 10:28 PM MessageGenerator(205) MessageGeneratorAdded MsgGen:21\n\nMsgiD Creation Time > Triggering Entity Event Name SenderReflo.\n\n1608 09/12/2018 10:28 PM MessageGenerator(205) MessageGeneratorAdded MsgGen:21\n\n* Duplicate messages\n+ One message sent successfully\n+ Received by the external system\n\n+ External system processes the same message more than once\n\nTriggering Entity, Event Name Senderrefld.\n\nB-\n‘Status\n‘Acknowledged (10)\n\n‘Status\n‘Acknowledged (10)\n\n+ External systems responds with a positive acknowledgement (ACK) per each processed duplicate\n\n* Guidewire application response\n\n+ Increments the Duplicate Count (Dup. Count) in the Message History table",
      "ocrWordCount": 111,
      "ocrConfidence": 79.56,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 14,
      "title": "No response",
      "bodyParagraphs": [],
      "originalNotes": "No response\nThe Message table should be checked for messages that have not received a reply within a timely fashion. This could be a Guidewire custom batch process or a database tool that monitors the Message table. Each non- response message typically requires manual evaluation to determine the cause of the non- response and the appropriate steps to fix the situatiom",
      "notes": "No response\nThe Message table should be checked for messages that have not received a reply within a timely fashion. This could be a Guidewire custom batch process or a database tool that monitors the Message table. Each non- response message typically requires manual evaluation to determine the cause of the non- response and the appropriate steps to fix the situatiom",
      "narration": "",
      "ocrText": "| No response Gi\n\nMessage Table\n\nWARNING: Production code should not modify the Message table directly.\n\nNumber of messages in table: 1\n\na\nMsgiD Creation Time > Triggering Entity Event Name Destination S SenderRefiD > status Error Category > Retries\n1806 _09/12/20189:28PM MessageGenerator(104) MessageGeneratorAdded 21 MsgGen:i2 Pending acknowledged (2) °\n\n• Guidewire application sends message to external system\n*« No ACK or NACK from external system\n* Guidewire application response\n* Keeps the message in the Message table\n* Consider batch process to purge message table and avoid manual intervention\n\n* Apply logic for overdue messages",
      "ocrWordCount": 96,
      "ocrConfidence": 82.22,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 15,
      "title": "Contrasting retry scenarios",
      "bodyParagraphs": [],
      "originalNotes": "Contrasting retry scenarios\nA message could be retried automatically during the sending of the message. A message could be retried manually. Both are discussed in detail in the Sending Messages lesson.\n\nA message can be retried automatically after the sending of the message.\n\nOccurs when the external system reports a retryable error. For example, the message was received but not successfully consumed. The error is expected to be temporary, such as unavailable network resource.\nThe message should be retried automatically by the integration code. When the code reports an error, it should specify a retry time.\n\nEven though it pertains to the same message event, the retry is a different message and the same SenderReflD should not be used. Ifthe same SenderReflD is used, then the external system may consider the second attempt to be a duplicate message and disregard it.\n\nThe maximum number of retries is specified by the integration code as defined by plugin parameter (for the transport or reply plugin) or a script parameter.\nIf a given message exceeds the maximum number of retries, then the message should be reported with an appropriate error category, an administrator should be alerted, and no further automatic attempts should be made. Any other messages for the same destination should not be affected.",
      "notes": "Contrasting retry scenarios\nA message could be retried automatically during the sending of the message. A message could be retried manually. Both are discussed in detail in the Sending Messages lesson.\n\nA message can be retried automatically after the sending of the message.\n\nOccurs when the external system reports a retryable error. For example, the message was received but not successfully consumed. The error is expected to be temporary, such as unavailable network resource.\nThe message should be retried automatically by the integration code. When the code reports an error, it should specify a retry time.\n\nEven though it pertains to the same message event, the retry is a different message and the same SenderReflD should not be used. Ifthe same SenderReflD is used, then the external system may consider the second attempt to be a duplicate message and disregard it.\n\nThe maximum number of retries is specified by the integration code as defined by plugin parameter (for the transport or reply plugin) or a script parameter.\nIf a given message exceeds the maximum number of retries, then the message should be reported with an appropriate error category, an administrator should be alerted, and no further automatic attempts should be made. Any other messages for the same destination should not be affected.",
      "narration": "",
      "ocrText": "| Contrasting retry scenarios\n\nInitial send error External system error Manual retry\n(Automatic retry during] (Automatic retry after\n\nWhat is the problem? Exception thrown in External System reports an Message needs manual\n\nbeforeSend or send error intervention\nmethods\niia cticmucecisems Internal Guidewire Integration code Administrator using Retry\nbehavior button\nShould each attempt use [RCS No Yes\nthe same SenderReflD\nWhat specifies the max Max Retries property Integration code n/a\nretry number? for messaging using plugin parameter or\ndestination script parameter\nWhat happens when the [MitateCodimies Integration code reports n/a\nCee §6suspended error with error category\n\nreached?",
      "ocrWordCount": 96,
      "ocrConfidence": 89.33,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 16,
      "title": "",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "",
      "ocrWordCount": 0,
      "ocrConfidence": 0,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 17,
      "title": "Reporting positive acknowledgement",
      "bodyParagraphs": [],
      "originalNotes": "Reporting positive acknowledgement\nCode example:\nLine 33 - Message is acknowledged using reportAck method.\nLine 34 - Bank account status updated to Verified.",
      "notes": "Reporting positive acknowledgement\nCode example:\nLine 33 - Message is acknowledged using reportAck method.\nLine 34 - Bank account status updated to Verified.",
      "narration": "",
      "ocrText": "| Reporting positive acknowledgement Gi\n\n—> aMessage.reportAck ()\n\n—> (aMessage.MessageRoot as BankAccount).IsVerified = VerificationStatus.7C VERIFIED\nbreak\n\ndefault:\n\n« In some cases, Guidewire applications use messaging to request data such as\nreports from external systems, such as:\n\n* A police report detailing an accident or burglary of insured items\n• A medical report detailing customary prices for given medical procedures\n• A fraud report detailing that a claim for a given loss has already been filed\n\n• In these cases, the external system responds with the report data and\nacknowledges the message",
      "ocrWordCount": 91,
      "ocrConfidence": 87.87,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 18,
      "title": "Reporting errors after send below max retries xampies)",
      "bodyParagraphs": [],
      "originalNotes": "Reporting errors after send below max retries (Examples)\nCode example 1\nLine 16\nCustom parameters needed for re-send retry behavior.\nDefined for maximum retries, retry delay etc. Plugin parameters (for reply code in plugins).\nScript parameters (for reply code in web services).\n Code example 2\nLine 28\nChecks if below max retries.\nLine 29\nRetryCount property starts at 0 and increments with each resend.\nLine 34\nCall reportError(retryTime) before maximum retries limit reached.\nApplication sends a cloned message at the future retry time.\nThe code references a method that you can find in the trainingapp.demo.messageac k. MessageAckUtil class in TrainingApp. The reportExternalSystemError method illustrates how an external system can report an error using a remote API call or message reply plugin.\n\nA backoff multiplier is a value that is used to increase a retry interval arithmetically. In the example above, thebackoff multiplier simply increases the wait time by 60 seconds per iteration. For the first resend, aMessage. RetryCount is 0, so backOffv1ultiplier is set to 1 and waitTime is set to 30 seconds. For the second resend, aMessage. RetryCount is 1, so backOffv1ultiplier is set to 2 and waitTime is set to 60 seconds. For the third resend, waitTime is set to 120 seconds, and so on.\n\nEvery destination should have a specific number of times a message can be retried after the initial send. The number of retries should be specified using either a plugin parameter for the reply code in the transport or reply plugin or a script parameter for the reply code in the web services handler.\n\n Before the max has been reached, report the error using message. reportError(whenTo ResendMessage). Then, when sending the retry message, use a new SenderReflD even though it pertains to the same message event, it must be treated as a new message- The amount of time between resends should increase with each resend.\n\nIf a message is resent two or more times because the external system reported a retryable error, each message should use a different SenderReflD. This is because the external system may treat two messages with the same ID as the same message. In other words, the external system may be \"duplicate aware\". If the second message uses the same SenderReflD as the first, then the external system may ignore it or report it as a duplicate, which would prevent the message from ever getting processed.\n\nYou can also manually retry any message using the Event Messages administration screens. This is discussed later in this lesson.",
      "notes": "Reporting errors after send below max retries (Examples)\nCode example 1\nLine 16\nCustom parameters needed for re-send retry behavior.\nDefined for maximum retries, retry delay etc. Plugin parameters (for reply code in plugins).\nScript parameters (for reply code in web services).\n Code example 2\nLine 28\nChecks if below max retries.\nLine 29\nRetryCount property starts at 0 and increments with each resend.\nLine 34\nCall reportError(retryTime) before maximum retries limit reached.\nApplication sends a cloned message at the future retry time.\nThe code references a method that you can find in the trainingapp.demo.messageac k. MessageAckUtil class in TrainingApp. The reportExternalSystemError method illustrates how an external system can report an error using a remote API call or message reply plugin.\n\nA backoff multiplier is a value that is used to increase a retry interval arithmetically. In the example above, thebackoff multiplier simply increases the wait time by 60 seconds per iteration. For the first resend, aMessage. RetryCount is 0, so backOffv1ultiplier is set to 1 and waitTime is set to 30 seconds. For the second resend, aMessage. RetryCount is 1, so backOffv1ultiplier is set to 2 and waitTime is set to 60 seconds. For the third resend, waitTime is set to 120 seconds, and so on.\n\nEvery destination should have a specific number of times a message can be retried after the initial send. The number of retries should be specified using either a plugin parameter for the reply code in the transport or reply plugin or a script parameter for the reply code in the web services handler.\n\n Before the max has been reached, report the error using message. reportError(whenTo ResendMessage). Then, when sending the retry message, use a new SenderReflD even though it pertains to the same message event, it must be treated as a new message- The amount of time between resends should increase with each resend.\n\nIf a message is resent two or more times because the external system reported a retryable error, each message should use a different SenderReflD. This is because the external system may treat two messages with the same ID as the same message. In other words, the external system may be \"duplicate aware\". If the second message uses the same SenderReflD as the first, then the external system may ignore it or report it as a duplicate, which would prevent the message from ever getting processed.\n\nYou can also manually retry any message using the Event Messages administration screens. This is discussed later in this lesson.",
      "narration": "",
      "ocrText": "| Reporting errors after send below max retries xampies) Gi\n\n* Code example 1\nstatic property get maxRetriesForRetryableMessage(): int (\n1 var value: int = 3\nif (ScriptParameters.MaxRetriesForRetryableMessage > 0) {\nvalue = ScriptParameters.MaxRetriesForRetryableMessage\n}\n\nreturn value\n\n—\n\n* Code example 2\n\n4 @Param(\"aMessage\", \"The message instance\")\nGParam(\"errorCategory\", \"a Typekey from the Error Category typelist\")\n2 static function reportExternalSystemError (aMessage: Message, errorCategory: ErrorCategory): String {\n2 var output = String. format (\"External System Error reported for message #s with error category of $s\", {aMessage.SenderRefI\n—p 22 if (aMessage.RetryCount < maxRetriesForRetryableMessage) {\n——> 25 var backOffMultiplier = aMessage.RetryCount + 1\nvar waitTime: int = backOffMultiplier * 30\n\n32 var retryTime = DateUtil.addSeconds(DateUtil.currentDate(), waitTime)\n\n—p 2: aMessage. reportError (retryTime)\n35 output += String. format(\"; retry attempt is: @s; the next retry attempt is at ts\", {( backOffultiplier), retryTime. form",
      "ocrWordCount": 137,
      "ocrConfidence": 81.62,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 19,
      "title": "Reporting errors after send at max retries",
      "bodyParagraphs": [],
      "originalNotes": "Reporting errors after send at max retries\nError Category is a type list that identifies the error reason for a message. In each base application, the typelist is empty. When a given message's retry max has been reached, report the error using message. Report Error(errorCategory) and alert an administrator to the issue as it pertains to the message error. Guidewire will no longer try to resend the message. When you simply report the error, but no exception is thrown, Guidewire will not suspend the message destination.",
      "notes": "Reporting errors after send at max retries\nError Category is a type list that identifies the error reason for a message. In each base application, the typelist is empty. When a given message's retry max has been reached, report the error using message. Report Error(errorCategory) and alert an administrator to the issue as it pertains to the message error. Guidewire will no longer try to resend the message. When you simply report the error, but no exception is thrown, Guidewire will not suspend the message destination.",
      "narration": "",
      "ocrText": "| Reporting errors after send at max retries Gi\n\n• Define typekeys in ErrorCategory typelist extension\n* ...config.extensions.typelist.ErrorCategory.ttx\n* message.reportError (errorCategory)\n\n* Call when retry maximum BB Erorcategoryat |\n\nretries limit reached ———S = =\n| typecode v VshowAlly| oe = = FE) ErorCategoytti Y | 2\n* Specify the error category Element Code Name Priori\nF reecenson|Erocaeen) _[Thetpecterortrmesegintoeiner ||\n* Application no longer tries typecode —_no_connection No Connection 1\nto resend the message typecode —_database_contention Database Contention 2\naoe typecode user_authentication User Authentication 3\n+ Alert an administrator typecode —_ unexpected_error Unexpected Error 4\ntypecode _permanent_error Permanent Error 5\ntypecode _payload_format Payload Format 6",
      "ocrWordCount": 105,
      "ocrConfidence": 76.26,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 20,
      "title": "Reporting errors after send at max retries (example)",
      "bodyParagraphs": [],
      "originalNotes": "Reporting errors after send at max retries (example)\nCode example\nLine 39\nCall message. reportError(errorCategory) when the maximum retries limit reached.\nApplication no longer tries to resend the message.\nLine 41\nAn administrator alert usually takes the form of:\nAn email sent to the administrator, and/or\nAn activity assigned to the administrator\n\nA backoff multiplier is a value that is used to increase a retry interval arithmetically. In the example above, the backoff multiplier simply increases the wait time by 60 seconds per iteration. For the first resend, aMessage. RetryCount is 0, so backOffMultiplier is set to 1 and waitTime is set to 60 seconds. For the second resend, aMessage. RetryCount is 1, so backOffMultiplier is set to 2 and waitTime is set to 120 seconds. For the third resend, waitTime is set to 180 seconds, and so on.",
      "notes": "Reporting errors after send at max retries (example)\nCode example\nLine 39\nCall message. reportError(errorCategory) when the maximum retries limit reached.\nApplication no longer tries to resend the message.\nLine 41\nAn administrator alert usually takes the form of:\nAn email sent to the administrator, and/or\nAn activity assigned to the administrator\n\nA backoff multiplier is a value that is used to increase a retry interval arithmetically. In the example above, the backoff multiplier simply increases the wait time by 60 seconds per iteration. For the first resend, aMessage. RetryCount is 0, so backOffMultiplier is set to 1 and waitTime is set to 60 seconds. For the second resend, aMessage. RetryCount is 1, so backOffMultiplier is set to 2 and waitTime is set to 120 seconds. For the third resend, waitTime is set to 180 seconds, and so on.",
      "narration": "",
      "ocrText": "| Reporting errors after send at max retries (example) Gi\n\n“static function reportExternalSsystemError (aMessage: Message, errorCategory: ErrorCategory): String {\n\n} else ( c\nourpat += = sering. format (\"i + retry max reached ts\", (SixRSERissFoHistryableNsasaze))\n\n—> stesaage. seporttrror (errorceregory)\n—> alertadninaboutNessageError (aMeseage)\n}\n\nreturn output\n\n}\n\nThe code references a method found in the\ntrainingapp.demo.messageack.MessageAckutil class in TrainingApp",
      "ocrWordCount": 58,
      "ocrConfidence": 76.75,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 21,
      "title": "Reporting duplicates",
      "bodyParagraphs": [],
      "originalNotes": "Reporting duplicates\nCode example\nLine 69\nQuery MessageHistory table to report duplicates from existing MessageHistory instance.\nLine 72\nCall messageHistory.reportDu plicate method\nOne message sent successfully and received by the external system.\nExternal system processes the same message more than once.\nExternal systems responds with a positive acknowledgement (ACK) per each processed duplicate.\n\nBest practice\nGuidewire does not treat a message with a non-zero duplicate count any differently than a message with a zero-duplicate count. However, the recommendation is to process duplicates reported by the external system so as to retain as much information as possible about what was sent from the external system.\n\nThe code references a method that you can find in the trainingapp.demo.messageac k. MessageAckUtil class in TrainingApp.\n\nAs shown later in this presentation, the MessageRepIy plugin interface provides a message finder utility to eliminate the use of an explicit Query against the Message and MessageHistory tables.",
      "notes": "Reporting duplicates\nCode example\nLine 69\nQuery MessageHistory table to report duplicates from existing MessageHistory instance.\nLine 72\nCall messageHistory.reportDu plicate method\nOne message sent successfully and received by the external system.\nExternal system processes the same message more than once.\nExternal systems responds with a positive acknowledgement (ACK) per each processed duplicate.\n\nBest practice\nGuidewire does not treat a message with a non-zero duplicate count any differently than a message with a zero-duplicate count. However, the recommendation is to process duplicates reported by the external system so as to retain as much information as possible about what was sent from the external system.\n\nThe code references a method that you can find in the trainingapp.demo.messageac k. MessageAckUtil class in TrainingApp.\n\nAs shown later in this presentation, the MessageRepIy plugin interface provides a message finder utility to eliminate the use of an explicit Query against the Message and MessageHistory tables.",
      "narration": "",
      "ocrText": "| Reporting duplicates Gi\n\nGParam(\"senderRefID\", \"The SenderRefID of the message\")\nstatic function reportDuplicate(senderRefID: String): String {\nvar output: String\nYar ahessagellisuory = Query nake(Messageiistory) .compare (MessageHisrory#SenderRe(ID, Relop,Hzuels, senderRefTD) ,seLect() .AttostOneRiow\n\n=—\nAf (aMessageHistory != null) (\na al\n\nTransaction. Cur: dd (aMessagediistory)\n\naMessageliistory.reportDuplicate()\n\noutput = String. format(\"Duplicate reported for MessageHlistory with SenderRefID: •s with count #s\", {aMessageHistory.SenderRefID, aMessageilistory.D)\n} else (\n\noutput = String. format(\"There is no MessageHistory in the MessageHistory table for the message with SenderRefID\", {aMessageHistory.SenderRefID})\n1\nreturn output\n\n}\n\n• Duplicates can be reported only from MessageHistory instances\n\n• When an external system reports a duplicate, the integration code should find the\nrelated entry in the MessageHistory table and report the duplicate\n\n• The only effect this has is incrementing the MessageHistory entry's DuplicateCount integer",
      "ocrWordCount": 128,
      "ocrConfidence": 80.05,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 22,
      "title": "Reporting messages without responses",
      "bodyParagraphs": [],
      "originalNotes": "Reporting messages without responses\nCode example\nLines 24-27\nQuery to check for messages that have not received a reply within a timely fashion.\nLine 38\nSystem flags the Contact with OVERDUE LEGAL REPORT\n\nPeriodically, the Message table should be checked for messages that have not received a reply within a timely fashion. This could be a Guidewire custom batch process or a database tool that monitors the Message table. Each message typically requires manual evaluation to determine the cause of the non-response and the appropriate steps to fix the situation.",
      "notes": "Reporting messages without responses\nCode example\nLines 24-27\nQuery to check for messages that have not received a reply within a timely fashion.\nLine 38\nSystem flags the Contact with OVERDUE LEGAL REPORT\n\nPeriodically, the Message table should be checked for messages that have not received a reply within a timely fashion. This could be a Guidewire custom batch process or a database tool that monitors the Message table. Each message typically requires manual evaluation to determine the cause of the non-response and the appropriate steps to fix the situation.",
      "narration": "",
      "ocrText": "| Reporting messages without responses\n\n* Check the Message table with:\n* Batch process, or\n* Database monitoring tool\n\n• Evaluate the cause and handle the\nresolution\n\n• Alert via email, activity, flag entry etc.\n\n© FagoverduetegotRepontsBatch gs\n\n16\nun\nae\n19\n20\na\n22\n23\nPy\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n39\n40\na\n\n‘class FlagQverdueLegalReporteBarch extends BatchProcessBase (\nconstruct) ( super (BatchProcessType. TC_FLAGOVERDUELEGALREPORTS) }\n\noverride function\n\n‘Transaction. rundithNevBundle(\\bundle -> {\nprint (\"Starting Flag Overdue Legal Reports batch process\")\n\nvar thresholdTine = DateUtil.addSeconds(DateUtil.currentDate(), -15)\n\nvar messageQuery = Query.nake (Message)\nmessageQuery.compare(\"SendTine\", LessThan0rEquals, thresholdTine)\nmessageQuery.compare(\"DestinationID\", Equals, 15)\n\nvar resultsbj = nessageQuery.select()\n\nge An resultedb3) (\n\nfor (currenties:\nvar relatedc?\n\n‘aBContact)\n\nAf (!relavedcontact.PlagBntries.hasMatch (\\currentEntry ->\ncurrentEntry.Reason == FlagEntryReason.1C OVERDUE LEGAL REPORT) {\n\nnew FlagEnery()\nnewEntry.Plagbate = gw.api-util.DaceUtil. currentDate()\nnewEntry.Reason = FlagEntryReason. TC _OVERDUE_LEGAL REPORT\nrelatedContact .addToFlagEntries (newEntry)\nnunberofContacteWithOverdueReportet+",
      "ocrWordCount": 144,
      "ocrConfidence": 72.49,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 23,
      "title": "Configure message acknowledgment",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "Configure message acknowledgment\nmechanisms",
      "ocrWordCount": 4,
      "ocrConfidence": 96.0,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 24,
      "title": "Synchronous acknowledgement — Transport plugin",
      "bodyParagraphs": [],
      "originalNotes": "Synchronous acknowledgement — Transport plugin\nCode example\nLine 20\nSynchronou acknowledgment received returning acknowledgment code.\nLines 25,34\nMessage is acknowledged based on ackCode.\nLine 30\nPayload messaging error is reported.\n\nWhen there is a bank account verification request from an external system, the message is acknowledged synchronously within the message transport plugin's send method. If there no verification (null value), you would want to capture and throw an exception and then report the error.",
      "notes": "Synchronous acknowledgement — Transport plugin\nCode example\nLine 20\nSynchronou acknowledgment received returning acknowledgment code.\nLines 25,34\nMessage is acknowledged based on ackCode.\nLine 30\nPayload messaging error is reported.\n\nWhen there is a bank account verification request from an external system, the message is acknowledged synchronously within the message transport plugin's send method. If there no verification (null value), you would want to capture and throw an exception and then report the error.",
      "narration": "",
      "ocrText": "| Synchronous acknowledgement — Transport plugin Gi\n\n— var ackCode = bankAPI.verifyAccount (aMessage.SenderRefID, transformedPayload, accNumber)\n\nswitch (ackCode) {\ncase \"00!\n\n25 aMessage.reportAck()\n(aMessage.MessageRoot as BankAccount) .IsVerified = VerificationStatus.7C_INVALID\n\n=P so aMessage.reportError (ErrorCategory.7C_PAYLOAD_ FORMAT)\nbreak\ndefaul|\n\naMessage.reportAck()\n(aMessage.MessageRoot as BankAccount) .IsVerified = VerificationStatus.7C VERIFIED\nbreak\n\n}\n\nThe code can be found in the BankAccountVerificationTransport plugin send method",
      "ocrWordCount": 56,
      "ocrConfidence": 83.95,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 25,
      "title": "Asynchronous acknowledgement - Web service API",
      "bodyParagraphs": [],
      "originalNotes": "Asynchronous acknowledgement - Web service API\nIn the base application, MessagingToolsAPl can be used to acknowledge a pending message. However, for a given message, the only thing you can do is acknowledge it or report an error. You cannot execute any associated data changes. Custom web services provide the flexibility to execute any required logic, Guidewire recommends that such acknowledgements should be received through a custom web service API.",
      "notes": "Asynchronous acknowledgement - Web service API\nIn the base application, MessagingToolsAPl can be used to acknowledge a pending message. However, for a given message, the only thing you can do is acknowledge it or report an error. You cannot execute any associated data changes. Custom web services provide the flexibility to execute any required logic, Guidewire recommends that such acknowledgements should be received through a custom web service API.",
      "narration": "",
      "ocrText": "| Asynchronous acknowledgement - Web service API Gi\n\n• External system replies\nusing a published web\nservice API\n\n« MessagingToolsAPI , or\n* CustomAPI\n\n« Provides a message\nacknowledgement\n\n* Positive acknowledgement\n* Report external error\n• Duplicate\n\n© MessagingToolsAPigs\n\nack v\nvs SOAPException\n\n@rhrows (WeiduthenticationException, \"if there are permission/authentication issues\")\n@throws (ILlegalArgumentException, “if ack is invalid\")\n\nFe ocessing was\nfunction ackMessage(ack : Acknowledgement) : boolean (\nAf (ack == mull || ack.MessageID <= 0) {\nthrow new IllegalArgunentExce|\n)\nreturn getDelegate() .ackMessage( ack )\n)\n\non (\"Acknowledgement paraneter is required\")",
      "ocrWordCount": 91,
      "ocrConfidence": 78.91,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 26,
      "title": "Asynchronous acknowledgement — Reply plugin (1)",
      "bodyParagraphs": [],
      "originalNotes": "Asynchronous acknowledgement — Reply plugin (I)\ninitTools method specified in the reply plugin is executed during server startup. It provides resources that may be useful in processing replies. Like both the request and transport plugins, a reply plugin also includes the same set of lifecycle methods including resume, shutdown, and suspend. Reply plugins also have a set DestinationlD property.\n\nIf multiple replies are received for the same message, the replyplugin implementation should not change system state or cause harm.",
      "notes": "Asynchronous acknowledgement — Reply plugin (I)\ninitTools method specified in the reply plugin is executed during server startup. It provides resources that may be useful in processing replies. Like both the request and transport plugins, a reply plugin also includes the same set of lifecycle methods including resume, shutdown, and suspend. Reply plugins also have a set DestinationlD property.\n\nIf multiple replies are received for the same message, the replyplugin implementation should not change system state or cause harm.",
      "narration": "",
      "ocrText": "| Asynchronous acknowledgement — Reply plugin (1) Gi\n\npackage trainingapp.deno.messaging\n\n* initTools method\n+ Executed during reply\n\notase implements MessageReply, MessageLi\nplugin instance startup, var finder: MessageFinder\nhelpful in processing var dest\n\nvar le 1 String\n\nasynchronous replies\n\nfort QueueReceiver = null\n\"entitychangereplies\"\n\n+ MessageFinder static final var _MESSA: \"REQUEST MESSAGE_OK”\nstatic final var _MESSA‘ “REQUEST_MESSAGE_DUPLICATE”\nstatic final var _MESSAGE_IV REQUEST _MESSAGE_INVALID\"\n\n+ Finds the message to be\nacknowledged based on lbackHandler, messagePinder: MessageFinder) {\nunique identifier\n\n* Typically SenderReflD and DestinationlD\n• PluginCallbackHandler\n+ Provides transactional context for:\n+ Acknowledging the message\n\n+ Any additional entity data changes",
      "ocrWordCount": 99,
      "ocrConfidence": 77.2,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 27,
      "title": "Asynchronous acknowledgement — Reply plugin (2)",
      "bodyParagraphs": [],
      "originalNotes": "Asynchronous acknowledgement — Reply plugin (2)\nCode example\nLine 42\nonMessage method executes message acknowledgment.\nLine 45\nhandler provides transactional context.\nLine 46\nFind pending acknowledgment message using SenderReflD and destination.\nLines 48-55\nHandle duplicate acknowledgment.",
      "notes": "Asynchronous acknowledgement — Reply plugin (2)\nCode example\nLine 42\nonMessage method executes message acknowledgment.\nLine 45\nhandler provides transactional context.\nLine 46\nFind pending acknowledgment message using SenderReflD and destination.\nLines 48-55\nHandle duplicate acknowledgment.",
      "narration": "",
      "ocrText": "| Asynchronous acknowledgement — Reply plugin (2)\n\no override function onMessage (jmsMessage: javax.jms.Message) {\nif (jmsMessage typeis TextMessage) (\ntry (\n\n_handler.execute(\\-> {\nvar aMessage = finder. findBySenderRefID(_senderRefID, _destinationID)\n\nif (aMessage == null || jmsMessage.getStringProperty(_MESSAGE_DUPLICATE) .HasContent || aMessage.AckCount > 0) {\nvar aMessageHistory = finder. findHistoryBySenderRefID(_senderRefID, _destination!D)\n\nnull) {\n\nvar currentTransaction = Transaction.getCurrent()\n\naMessageHistory = currentTransaction.add (aMessageHistory)\n\naMessageHistory.reportDuplicate()\n\nif (aMessageHistory\n\nFd",
      "ocrWordCount": 61,
      "ocrConfidence": 76.49,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 28,
      "title": "Asynchronous acknowledgement — Reply plugin (3)",
      "bodyParagraphs": [],
      "originalNotes": "Asynchronous acknowledgement — Reply plugin (3)\nCode example\nLines 57-68\nHandle errors and acknowledgement based on error type.\nLine 73\nAcknowledge the message. The message will be movedfrom the Message table to the History table.",
      "notes": "Asynchronous acknowledgement — Reply plugin (3)\nCode example\nLines 57-68\nHandle errors and acknowledgement based on error type.\nLine 73\nAcknowledge the message. The message will be movedfrom the Message table to the History table.",
      "narration": "",
      "ocrText": "Asynchronous acknowledgement — Reply plugin (3) Gi\nReply plugin — part three\n\nif (aMessage != null && aMessage.Ackcount == 0) {\nif (jmsMessage.getStringProperty(_MESSAGE_INVALID).MasContent) {\naMessage.reportError ()\n}\nif (jmsMessage.getStringProperty(_T7EMP_UNAVAILABLE).HasContent) {\naMessage.reportError (typekey.ErrorCategory.TC_NO_CONNECTION)\n}\nif (jmsMessage.getStringProperty (_MESSAGE_OK).MasContent) {\naMessage.reportAck ()\n}\n)\n»\n} catch (throwable : Exception) (\nthrowable.printStackTrace ()\n}\n—> jmsMessage. acknowledge ()\nU",
      "ocrWordCount": 56,
      "ocrConfidence": 74.13,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 29,
      "title": "Deploy code changes",
      "bodyParagraphs": [],
      "originalNotes": "Deploy code changes\nYou can restart the server from Studio by stopping a running server and after the server stops, then starting the server again in either Run or Debug mode (preferred for training).",
      "notes": "Deploy code changes\nYou can restart the server from Studio by stopping a running server and after the server stops, then starting the server again in either Run or Debug mode (preferred for training).",
      "narration": "",
      "ocrText": "Deploy code changes\n\n• New reply plugin class\n• New or modified plugin registry\n\n•« Newor modified destination\n\nGy Tools VCS Window Help\n\nD> Run ‘Server’ Shift+F10\n186, Debug ‘Server’ Shift+F9\n¥E Run ‘Server’ with Coverage\n\nD Run... Alt+Shift+F10\n& Debug... Alt+Shift+F9\n\\m Attach to Local Process...\n\n[> Edit Configurations...\n\nBl import Test Results >\nI Stop ‘Server’ Ctrl+ F2\n\nGi\n\n• Modified reply plugin class\n\nBYE Tools VCS Window Help\nD> Run ‘Server’\n\nG& Debug ‘Server’\n\nW Run ‘Server’ with Coverage\nD Run...\n\n€ Debug...\n\n\\q Attach to Local Process...\n[> Edit Configurations...\n\n2] Import Test Results\n\nIl Stop ‘Server’\n\nEP show Running List\n\nStop Background\n\nChanged C",
      "ocrWordCount": 109,
      "ocrConfidence": 78.5,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "content"
    },
    {
      "slideNumber": 30,
      "title": "Demonstration",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "| Demonstration G\nAsynchronous acknowledgment scenarios\n\nclick here\n\nNote: The demonstration opens a new tab in your browser. When the demonstration ends, the\noriginal course launch window appears. Return to this window to continue this presentation.",
      "ocrWordCount": 36,
      "ocrConfidence": 95.5,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "demo_instruction",
      "demoVideoIndex": 0
    },
    {
      "slideNumber": 31,
      "title": "",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "",
      "ocrWordCount": 0,
      "ocrConfidence": 0,
      "hasTable": false,
      "hasChart": false,
      "hasImage": false,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "demo_video"
    },
    {
      "slideNumber": 32,
      "title": "Knowledge Check",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "Question\n_- — What is a messaging acknowledgement from an external system?\n•\n•\n•\nSeo e Soe esses see see",
      "ocrWordCount": 21,
      "ocrConfidence": 79.28,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "question",
      "questionData": {
        "question": "What is a messaging acknowledgement from an external system?",
        "answer": "A messaging acknowledgement is Guidewire's process for interpreting a messaging response from an external system."
      }
    },
    {
      "slideNumber": 33,
      "title": "Answer",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "Answer\nan What is a messaging acknowledgement from an external system?\n•\n•\nAmessaging acknowledgement is Guidewire's process for interpreting a messaging\nresponse from an external system.\nSoo eS eee soe ese ese",
      "ocrWordCount": 33,
      "ocrConfidence": 82.48,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "answer"
    },
    {
      "slideNumber": 34,
      "title": "Knowledge Check",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "Question\nWhat are the possible ways Guidewire can interpret an external system's\na response to a message?\n•\nSeo e Soe esses see see\nGi",
      "ocrWordCount": 26,
      "ocrConfidence": 79.17,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "question",
      "questionData": {
        "question": "What are the possible ways Guidewire can interpret an external system's response to a message?",
        "answer": "Guidewire can interpret an external system's response, if one exists, as a positive acknowledgement (ACK), negative acknowledgment (NACK), or duplicate."
      }
    },
    {
      "slideNumber": 35,
      "title": "Answer",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "Answer\n_- — What are the possible ways Guidewire can interpret an external system's\nY response to a message?\n•\nGuidewire can interpret an external system's response, if one exists, as a positive\nacknowledgement (ACK), negative acknowledgment (NACK), or duplicate.\nSoo eS eee soe ese ese\nGi",
      "ocrWordCount": 46,
      "ocrConfidence": 80.98,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "answer"
    },
    {
      "slideNumber": 36,
      "title": "Knowledge Check",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "Question\nUnder what three circumstances is an entry added to the\n: MessageHistory table?\n•\n•\nSeo e Soe esses see see",
      "ocrWordCount": 24,
      "ocrConfidence": 82.3,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "question",
      "questionData": {
        "question": "Under what three circumstances is an entry added to the MessageHistory table?",
        "answer": "A message is added to the message history table when a message is positively acknowledged, skipped, or retried. For the first two, the message is removed entirely from the Message table. For the third, a copy of the original message remains in the Message table."
      }
    },
    {
      "slideNumber": 37,
      "title": "Answer",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "Answer Gi\nUnder what three circumstances is an entry added to the\nMessageHistory table?\n•\nAmessage is added to the message history table when a message is positively\nacknowledged, skipped, or retried. For the first two, the message is removed entirely\nfrom the Message table. For the third, a copy of the original message remains in the\nMessage table.\nSoo eS eee soe ese ese",
      "ocrWordCount": 68,
      "ocrConfidence": 87.1,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "answer"
    },
    {
      "slideNumber": 38,
      "title": "Knowledge Check",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "Question\nUnder what circumstances are acknowledgements processed:\n•\nA) By the transport plugin?\nB) By the reply plugin?\nC) Without involvement from any plugin?\nSeo e Soe esses see see",
      "ocrWordCount": 33,
      "ocrConfidence": 89.28,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "question",
      "questionData": {
        "question": "Under what circumstances are acknowledgements processed:\nA) By the transport plugin?\nB) By the reply plugin?\nC) Without involvement from any plugin?",
        "answer": "A) When the reply is received synchronously.\nB) When the reply is received asynchronously through a listener or polling mechanism.\nC) When the reply is received asynchronously by an external system call to an API."
      }
    },
    {
      "slideNumber": 39,
      "title": "Answer",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "Answer Gi\nUnder what circumstances are acknowledgements processed:\n,\n• A\nB\nCc\nBy the transport plugin?\nBy the reply plugin?\nwv\nWithout involvement from any plugin?\nA) When the reply is received synchronously.\nB) When the reply is received asynchronously through a listener or polling\nmechanism.\nie)\nWhen the reply is received asynchronously by an external system call to an API.\nSoo eS eee soe ese ese",
      "ocrWordCount": 71,
      "ocrConfidence": 84.91,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "answer"
    },
    {
      "slideNumber": 40,
      "title": "Knowledge Check",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "Question\n_- — When should you use each of the following methods?\n•\nA) aMessage.reportError(retryTime)?\nB) aMessage.reportError(errorCategory)?\nSeo e Soe esses see see",
      "ocrWordCount": 24,
      "ocrConfidence": 85.55,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "question",
      "questionData": {
        "question": "When should you use each of the following methods?\nA) aMessage.reportError(retryTime)?\nB) aMessage.reportError(errorCategory)?",
        "answer": "A) When the message needs to be retried and the message has not reached its maximum number of retries.\nB) When the message needs to be retried, but the message has reached its maximum number of retries."
      }
    },
    {
      "slideNumber": 41,
      "title": "Answer",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "Answer Gi\nWhen should you use each of the following methods?\n•\n“ A\nB\naMessage.reportError(retryTime)?\naMessage.reportError(errorCategory)?\nA) When the message needs to be retried and the message has not reached its\nmaximum number of retries.\nB) When the message needs to be retried, but the message has reached its\nmaximum number of retries.\nSoo eS eee soe ese ese",
      "ocrWordCount": 62,
      "ocrConfidence": 86.79,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "answer"
    },
    {
      "slideNumber": 42,
      "title": "Key Takeaways",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "Lesson\nobjectives\nreview\n\n• Describe messaging acknowledgement\n\nIdentify various messaging acknowledgement\nmechanisms\n\nDescribe how a messaging error is handled\nUse the administration screens to view the\nstatus of a message and manipulate it\nmanually",
      "ocrWordCount": 34,
      "ocrConfidence": 93.5,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "objectives_review"
    },
    {
      "slideNumber": 43,
      "title": "Student Exercise",
      "bodyParagraphs": [],
      "originalNotes": "",
      "notes": "",
      "narration": "",
      "ocrText": "| Student exercise\n\nConfigure synchronous acknowledgment",
      "ocrWordCount": 6,
      "ocrConfidence": 95.86,
      "hasTable": false,
      "hasChart": false,
      "hasImage": true,
      "tableData": null,
      "mediaReferences": [],
      "slideType": "exercise"
    }
  ],
  "videos": [
    {
      "index": 1,
      "filename": "In_16_01.mp4",
      "path": "/academy/guidewire/videos/ch11/In_16_01.mp4"
    }
  ],
  "hasNotes": true,
  "hasTables": false,
  "hasImages": true,
  "ocrMetadata": {
    "totalWords": 2696,
    "avgConfidence": 82.64,
    "extractedAt": "2026-02-15T18:22:26.879527"
  }
}
