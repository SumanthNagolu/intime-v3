# Test Workflow - Comprehensive QA
#
# This workflow runs comprehensive testing and quality assurance
# across the specified scope.

name: test
description: Run comprehensive testing and quality assurance

prerequisites:
  - test_framework_configured
  - code_exists_to_test

agents:
  - name: qa-engineer
    agent_file: .claude/agents/operations/qa-engineer.md
    input: "Run comprehensive QA for scope: {scope}"
    output: test-report.md
    parallel: false

  - name: code-reviewer
    agent_file: .claude/agents/quality/code-reviewer.md
    input: "Review code quality and standards compliance"
    output: code-review.md
    parallel: true

  - name: security-auditor
    agent_file: .claude/agents/quality/security-auditor.md
    input: "Audit for security vulnerabilities"
    output: security-audit.md
    parallel: true

post_workflow:
  - save_test_results
  - update_coverage_reports
  - update_documentation

artifacts:
  save_to: .claude/state/runs/{workflow_id}/
  include:
    - test-report.md
    - code-review.md
    - security-audit.md
    - test-results.json
    - coverage-report.html
    - execution_log.json

estimated_duration: 3-8 minutes

success_criteria:
  - all_tests_pass
  - coverage_above_80_percent
  - no_security_vulnerabilities
  - code_quality_standards_met
